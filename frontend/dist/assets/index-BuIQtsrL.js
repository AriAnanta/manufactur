var mm=Object.defineProperty;var xm=(e,t,r)=>t in e?mm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var gm=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var de=(e,t,r)=>xm(e,typeof t!="symbol"?t+"":t,r);import{r as v,R as ym,a as nt,c as lt,j as n,b as fe,u as Fr,d as Cl,B as E,T as S,L as Cn,e as Gr,f as Ka,g as Qs,h as Kr,C as _d,i as We,D as qt,A as bm,k as Hs,I as ie,l as Ce,M as Pl,m as V,n as Dc,o as Vn,P as Me,F as be,p as ge,S as ze,q as H,s as Fe,t as K,v as Ge,w as Ke,x as Je,G as k,y as je,z as He,E as Se,H as ve,J as To,K as Nt,N as _t,O as Ve,Q as R,U as At,V as Ee,W as dr,X as Zr,Y as $t,Z as Xt,_ as Bt,$ as Vt,a0 as Ad,a1 as Mo,a2 as Pn,a3 as $,a4 as Ze,a5 as Ct,a6 as Ut,a7 as Qt,a8 as qe,a9 as Ft,aa as Ic,ab as kn,ac as vm,ad as ke,ae as Ja,af as jm,ag as en,ah as ss,ai as q,aj as wm,ak as Dn,al as Sm,am as Fd,an as kl,ao as Ld,ap as Wd,aq as Cm,ar as Pm,as as cn,at as Ec,au as km,av as Dm,aw as qd,ax as Im,ay as Tc,az as Em,aA as Tm,aB as Mm}from"./vendor-C_nBJO83.js";import{a as Om,g as $d,r as Rm}from"./react-DyFf35aq.js";var ED=gm((tI,Sl)=>{function Nm(e,t){for(var r=0;r<t.length;r++){const s=t[r];if(typeof s!="string"&&!Array.isArray(s)){for(const i in s)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(s,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>s[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Ti={},Mc;function _m(){if(Mc)return Ti;Mc=1;var e=Om();return Ti.createRoot=e.createRoot,Ti.hydrateRoot=e.hydrateRoot,Ti}var Am=_m();const Fm=$d(Am);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ri(){return ri=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},ri.apply(this,arguments)}var Yr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Yr||(Yr={}));const Oc="popstate";function Lm(e){e===void 0&&(e={});function t(s,i){let{pathname:a,search:o,hash:l}=s.location;return Oo("",{pathname:a,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(s,i){return typeof i=="string"?i:ta(i)}return qm(t,r,null,e)}function gt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Bd(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Wm(){return Math.random().toString(36).substr(2,8)}function Rc(e,t){return{usr:e.state,key:e.key,idx:t}}function Oo(e,t,r,s){return r===void 0&&(r=null),ri({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ds(t):t,{state:r,key:t&&t.key||s||Wm()})}function ta(e){let{pathname:t="/",search:r="",hash:s=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function ds(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function qm(e,t,r,s){s===void 0&&(s={});let{window:i=document.defaultView,v5Compat:a=!1}=s,o=i.history,l=Yr.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(ri({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=Yr.Pop;let x=d(),y=x==null?null:x-u;u=x,c&&c({action:l,location:m.location,delta:y})}function f(x,y){l=Yr.Push;let b=Oo(m.location,x,y);u=d()+1;let j=Rc(b,u),P=m.createHref(b);try{o.pushState(j,"",P)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(P)}a&&c&&c({action:l,location:m.location,delta:1})}function p(x,y){l=Yr.Replace;let b=Oo(m.location,x,y);u=d();let j=Rc(b,u),P=m.createHref(b);o.replaceState(j,"",P),a&&c&&c({action:l,location:m.location,delta:0})}function g(x){let y=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof x=="string"?x:ta(x);return b=b.replace(/ $/,"%20"),gt(y,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,y)}let m={get action(){return l},get location(){return e(i,o)},listen(x){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(Oc,h),c=x,()=>{i.removeEventListener(Oc,h),c=null}},createHref(x){return t(i,x)},createURL:g,encodeLocation(x){let y=g(x);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:p,go(x){return o.go(x)}};return m}var Nc;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Nc||(Nc={}));function $m(e,t,r){return r===void 0&&(r="/"),Bm(e,t,r)}function Bm(e,t,r,s){let i=typeof t=="string"?ds(t):t,a=Dl(i.pathname||"/",r);if(a==null)return null;let o=Vd(e);Vm(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=tx(a);l=Xm(o[c],u)}return l}function Vd(e,t,r,s){t===void 0&&(t=[]),r===void 0&&(r=[]),s===void 0&&(s="");let i=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(gt(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let u=Jr([s,c.relativePath]),d=r.concat(c);a.children&&a.children.length>0&&(gt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Vd(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:Km(u,a.index),routesMeta:d})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,o);else for(let c of zd(a.path))i(a,o,c)}),t}function zd(e){let t=e.split("/");if(t.length===0)return[];let[r,...s]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(s.length===0)return i?[a,""]:[a];let o=zd(s.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Vm(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Jm(t.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}const zm=/^:[\w-]+$/,Um=3,Qm=2,Hm=1,Ym=10,Gm=-2,_c=e=>e==="*";function Km(e,t){let r=e.split("/"),s=r.length;return r.some(_c)&&(s+=Gm),t&&(s+=Qm),r.filter(i=>!_c(i)).reduce((i,a)=>i+(zm.test(a)?Um:a===""?Hm:Ym),s)}function Jm(e,t){return e.length===t.length&&e.slice(0,-1).every((s,i)=>s===t[i])?e[e.length-1]-t[t.length-1]:0}function Xm(e,t,r){let{routesMeta:s}=e,i={},a="/",o=[];for(let l=0;l<s.length;++l){let c=s[l],u=l===s.length-1,d=a==="/"?t:t.slice(a.length)||"/",h=Zm({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Jr([a,h.pathname]),pathnameBase:ix(Jr([a,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(a=Jr([a,h.pathnameBase]))}return o}function Zm(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,s]=ex(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:s.reduce((u,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let m=l[h]||"";o=a.slice(0,a.length-m.length).replace(/(.)\/+$/,"$1")}const g=l[h];return p&&!g?u[f]=void 0:u[f]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:e}}function ex(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Bd(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),s]}function tx(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Bd(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Dl(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,s=e.charAt(r);return s&&s!=="/"?null:e.slice(r)||"/"}function rx(e,t){t===void 0&&(t="/");let{pathname:r,search:s="",hash:i=""}=typeof e=="string"?ds(e):e;return{pathname:r?r.startsWith("/")?r:nx(r,t):t,search:ax(s),hash:ox(i)}}function nx(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Xa(e,t,r,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function sx(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Il(e,t){let r=sx(e);return t?r.map((s,i)=>i===r.length-1?s.pathname:s.pathnameBase):r.map(s=>s.pathnameBase)}function El(e,t,r,s){s===void 0&&(s=!1);let i;typeof e=="string"?i=ds(e):(i=ri({},e),gt(!i.pathname||!i.pathname.includes("?"),Xa("?","pathname","search",i)),gt(!i.pathname||!i.pathname.includes("#"),Xa("#","pathname","hash",i)),gt(!i.search||!i.search.includes("#"),Xa("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=r;else{let h=t.length-1;if(!s&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}l=h>=0?t[h]:"/"}let c=rx(i,l),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Jr=e=>e.join("/").replace(/\/\/+/g,"/"),ix=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ax=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ox=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function lx(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Ud=["post","put","patch","delete"];new Set(Ud);const cx=["get",...Ud];new Set(cx);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ni(){return ni=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},ni.apply(this,arguments)}const Tl=v.createContext(null),ux=v.createContext(null),on=v.createContext(null),ma=v.createContext(null),Er=v.createContext({outlet:null,matches:[],isDataRoute:!1}),Qd=v.createContext(null);function dx(e,t){let{relative:r}=t===void 0?{}:t;hs()||gt(!1);let{basename:s,navigator:i}=v.useContext(on),{hash:a,pathname:o,search:l}=Yd(e,{relative:r}),c=o;return s!=="/"&&(c=o==="/"?s:Jr([s,o])),i.createHref({pathname:c,search:l,hash:a})}function hs(){return v.useContext(ma)!=null}function Lr(){return hs()||gt(!1),v.useContext(ma).location}function Hd(e){v.useContext(on).static||v.useLayoutEffect(e)}function Xe(){let{isDataRoute:e}=v.useContext(Er);return e?kx():hx()}function hx(){hs()||gt(!1);let e=v.useContext(Tl),{basename:t,future:r,navigator:s}=v.useContext(on),{matches:i}=v.useContext(Er),{pathname:a}=Lr(),o=JSON.stringify(Il(i,r.v7_relativeSplatPath)),l=v.useRef(!1);return Hd(()=>{l.current=!0}),v.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){s.go(u);return}let h=El(u,JSON.parse(o),a,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Jr([t,h.pathname])),(d.replace?s.replace:s.push)(h,d.state,d)},[t,s,o,a,e])}const fx=v.createContext(null);function px(e){let t=v.useContext(Er).outlet;return t&&v.createElement(fx.Provider,{value:e},t)}function Ht(){let{matches:e}=v.useContext(Er),t=e[e.length-1];return t?t.params:{}}function Yd(e,t){let{relative:r}=t===void 0?{}:t,{future:s}=v.useContext(on),{matches:i}=v.useContext(Er),{pathname:a}=Lr(),o=JSON.stringify(Il(i,s.v7_relativeSplatPath));return v.useMemo(()=>El(e,JSON.parse(o),a,r==="path"),[e,o,a,r])}function mx(e,t){return xx(e,t)}function xx(e,t,r,s){hs()||gt(!1);let{navigator:i}=v.useContext(on),{matches:a}=v.useContext(Er),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Lr(),d;if(t){var h;let x=typeof t=="string"?ds(t):t;c==="/"||(h=x.pathname)!=null&&h.startsWith(c)||gt(!1),d=x}else d=u;let f=d.pathname||"/",p=f;if(c!=="/"){let x=c.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(x.length).join("/")}let g=$m(e,{pathname:p}),m=jx(g&&g.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:Jr([c,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:Jr([c,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),a,r,s);return t&&m?v.createElement(ma.Provider,{value:{location:ni({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Yr.Pop}},m):m}function gx(){let e=Px(),t=lx(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),r?v.createElement("pre",{style:i},r):null,null)}const yx=v.createElement(gx,null);class bx extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?v.createElement(Er.Provider,{value:this.props.routeContext},v.createElement(Qd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function vx(e){let{routeContext:t,match:r,children:s}=e,i=v.useContext(Tl);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),v.createElement(Er.Provider,{value:t},s)}function jx(e,t,r,s){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),s===void 0&&(s=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=s)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(i=r)==null?void 0:i.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||gt(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&s&&s.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:p}=r,g=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||g){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let p,g=!1,m=null,x=null;r&&(p=l&&h.route.id?l[h.route.id]:void 0,m=h.route.errorElement||yx,c&&(u<0&&f===0?(Dx("route-fallback"),g=!0,x=null):u===f&&(g=!0,x=h.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,f+1)),b=()=>{let j;return p?j=m:g?j=x:h.route.Component?j=v.createElement(h.route.Component,null):h.route.element?j=h.route.element:j=d,v.createElement(vx,{match:h,routeContext:{outlet:d,matches:y,isDataRoute:r!=null},children:j})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?v.createElement(bx,{location:r.location,revalidation:r.revalidation,component:m,error:p,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}var Gd=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Gd||{}),Kd=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Kd||{});function wx(e){let t=v.useContext(Tl);return t||gt(!1),t}function Sx(e){let t=v.useContext(ux);return t||gt(!1),t}function Cx(e){let t=v.useContext(Er);return t||gt(!1),t}function Jd(e){let t=Cx(),r=t.matches[t.matches.length-1];return r.route.id||gt(!1),r.route.id}function Px(){var e;let t=v.useContext(Qd),r=Sx(),s=Jd();return t!==void 0?t:(e=r.errors)==null?void 0:e[s]}function kx(){let{router:e}=wx(Gd.UseNavigateStable),t=Jd(Kd.UseNavigateStable),r=v.useRef(!1);return Hd(()=>{r.current=!0}),v.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,ni({fromRouteId:t},a)))},[e,t])}const Ac={};function Dx(e,t,r){Ac[e]||(Ac[e]=!0)}function Ix(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Xd(e){let{to:t,replace:r,state:s,relative:i}=e;hs()||gt(!1);let{future:a,static:o}=v.useContext(on),{matches:l}=v.useContext(Er),{pathname:c}=Lr(),u=Xe(),d=El(t,Il(l,a.v7_relativeSplatPath),c,i==="path"),h=JSON.stringify(d);return v.useEffect(()=>u(JSON.parse(h),{replace:r,state:s,relative:i}),[u,h,i,r,s]),null}function Zd(e){return px(e.context)}function _e(e){gt(!1)}function Ex(e){let{basename:t="/",children:r=null,location:s,navigationType:i=Yr.Pop,navigator:a,static:o=!1,future:l}=e;hs()&&gt(!1);let c=t.replace(/^\/*/,"/"),u=v.useMemo(()=>({basename:c,navigator:a,static:o,future:ni({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof s=="string"&&(s=ds(s));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:g="default"}=s,m=v.useMemo(()=>{let x=Dl(d,c);return x==null?null:{location:{pathname:x,search:h,hash:f,state:p,key:g},navigationType:i}},[c,d,h,f,p,g,i]);return m==null?null:v.createElement(on.Provider,{value:u},v.createElement(ma.Provider,{children:r,value:m}))}function Tx(e){let{children:t,location:r}=e;return mx(Ro(t),r)}new Promise(()=>{});function Ro(e,t){t===void 0&&(t=[]);let r=[];return v.Children.forEach(e,(s,i)=>{if(!v.isValidElement(s))return;let a=[...t,i];if(s.type===v.Fragment){r.push.apply(r,Ro(s.props.children,a));return}s.type!==_e&&gt(!1),!s.props.index||!s.props.children||gt(!1);let o={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=Ro(s.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function No(){return No=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},No.apply(this,arguments)}function Mx(e,t){if(e==null)return{};var r={},s=Object.keys(e),i,a;for(a=0;a<s.length;a++)i=s[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Ox(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Rx(e,t){return e.button===0&&(!t||t==="_self")&&!Ox(e)}function _o(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let s=e[r];return t.concat(Array.isArray(s)?s.map(i=>[r,i]):[[r,s]])},[]))}function Nx(e,t){let r=_o(e);return t&&t.forEach((s,i)=>{r.has(i)||t.getAll(i).forEach(a=>{r.append(i,a)})}),r}const _x=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Ax="6";try{window.__reactRouterVersion=Ax}catch{}const Fx="startTransition",Fc=ym[Fx];function Lx(e){let{basename:t,children:r,future:s,window:i}=e,a=v.useRef();a.current==null&&(a.current=Lm({window:i,v5Compat:!0}));let o=a.current,[l,c]=v.useState({action:o.action,location:o.location}),{v7_startTransition:u}=s||{},d=v.useCallback(h=>{u&&Fc?Fc(()=>c(h)):c(h)},[c,u]);return v.useLayoutEffect(()=>o.listen(d),[o,d]),v.useEffect(()=>Ix(s),[s]),v.createElement(Ex,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:s})}const Wx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",qx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ra=v.forwardRef(function(t,r){let{onClick:s,relative:i,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,f=Mx(t,_x),{basename:p}=v.useContext(on),g,m=!1;if(typeof u=="string"&&qx.test(u)&&(g=u,Wx))try{let j=new URL(window.location.href),P=u.startsWith("//")?new URL(j.protocol+u):new URL(u),C=Dl(P.pathname,p);P.origin===j.origin&&C!=null?u=C+P.search+P.hash:m=!0}catch{}let x=dx(u,{relative:i}),y=$x(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:h});function b(j){s&&s(j),j.defaultPrevented||y(j)}return v.createElement("a",No({},f,{href:g||x,onClick:m||a?s:b,ref:r,target:c}))});var Lc;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Lc||(Lc={}));var Wc;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Wc||(Wc={}));function $x(e,t){let{target:r,replace:s,state:i,preventScrollReset:a,relative:o,viewTransition:l}=t===void 0?{}:t,c=Xe(),u=Lr(),d=Yd(e,{relative:o});return v.useCallback(h=>{if(Rx(h,r)){h.preventDefault();let f=s!==void 0?s:ta(u)===ta(d);c(e,{replace:f,state:i,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,d,s,i,r,e,a,o,l])}function Bx(e){let t=v.useRef(_o(e)),r=v.useRef(!1),s=Lr(),i=v.useMemo(()=>Nx(s.search,r.current?null:t.current),[s.search]),a=Xe(),o=v.useCallback((l,c)=>{const u=_o(typeof l=="function"?l(i):l);r.current=!0,a("?"+u,c)},[a,i]);return[i,o]}var Ao=function(e,t){return Ao=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(r[i]=s[i])},Ao(e,t)};function yr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Ao(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var F=function(){return F=Object.assign||function(t){for(var r,s=1,i=arguments.length;s<i;s++){r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},F.apply(this,arguments)};function hr(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(r[s[i]]=e[s[i]]);return r}function Ur(e,t,r,s){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(h){o(h)}}function c(d){try{u(s.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})}function Qr(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},s,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=l(0),o.throw=l(1),o.return=l(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(d){return c([u,d])}}function c(u){if(s)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(s=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],i=0}finally{s=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Rt(e,t,r){if(r||arguments.length===2)for(var s=0,i=t.length,a;s<i;s++)(a||!(s in t))&&(a||(a=Array.prototype.slice.call(t,0,s)),a[s]=t[s]);return e.concat(a||Array.prototype.slice.call(t))}var Za="Invariant Violation",qc=Object.setPrototypeOf,Vx=qc===void 0?function(e,t){return e.__proto__=t,e}:qc,eh=function(e){yr(t,e);function t(r){r===void 0&&(r=Za);var s=e.call(this,typeof r=="number"?Za+": "+r+" (see https://github.com/apollographql/invariant-packages)":r)||this;return s.framesToPop=1,s.name=Za,Vx(s,t.prototype),s}return t}(Error);function pn(e,t){if(!e)throw new eh(t)}var th=["debug","log","warn","error","silent"],zx=th.indexOf("log");function Mi(e){return function(){if(th.indexOf(e)>=zx){var t=console[e]||console.log;return t.apply(console,arguments)}}}(function(e){e.debug=Mi("debug"),e.log=Mi("log"),e.warn=Mi("warn"),e.error=Mi("error")})(pn||(pn={}));var Ml="3.13.8";function ur(e){try{return e()}catch{}}const Fo=ur(function(){return globalThis})||ur(function(){return window})||ur(function(){return self})||ur(function(){return global})||ur(function(){return ur.constructor("return this")()});var $c=new Map;function Lo(e){var t=$c.get(e)||1;return $c.set(e,t+1),"".concat(e,":").concat(t,":").concat(Math.random().toString(36).slice(2))}function rh(e,t){t===void 0&&(t=0);var r=Lo("stringifyForDisplay");return JSON.stringify(e,function(s,i){return i===void 0?r:i},t).split(JSON.stringify(r)).join("<undefined>")}function Oi(e){return function(t){for(var r=[],s=1;s<arguments.length;s++)r[s-1]=arguments[s];if(typeof t=="number"){var i=t;t=Ol(i),t||(t=Rl(i,r),r=[])}e.apply(void 0,[t].concat(r))}}var ue=Object.assign(function(t,r){for(var s=[],i=2;i<arguments.length;i++)s[i-2]=arguments[i];t||pn(t,Ol(r,s)||Rl(r,s))},{debug:Oi(pn.debug),log:Oi(pn.log),warn:Oi(pn.warn),error:Oi(pn.error)});function zt(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return new eh(Ol(e,t)||Rl(e,t))}var Bc=Symbol.for("ApolloErrorMessageHandler_"+Ml);function nh(e){if(typeof e=="string")return e;try{return rh(e,2).slice(0,1e3)}catch{return"<non-serializable>"}}function Ol(e,t){if(t===void 0&&(t=[]),!!e)return Fo[Bc]&&Fo[Bc](e,t.map(nh))}function Rl(e,t){if(t===void 0&&(t=[]),!!e)return"An error occurred! For more details, see the full error text at https://go.apollo.dev/c/err#".concat(encodeURIComponent(JSON.stringify({version:Ml,message:e,args:t.map(nh)})))}function $i(e,t){if(!!!e)throw new Error(t)}function Ux(e){return typeof e=="object"&&e!==null}function Qx(e,t){if(!!!e)throw new Error("Unexpected invariant triggered.")}const Hx=/\r\n|[\n\r]/g;function Wo(e,t){let r=0,s=1;for(const i of e.body.matchAll(Hx)){if(typeof i.index=="number"||Qx(!1),i.index>=t)break;r=i.index+i[0].length,s+=1}return{line:s,column:t+1-r}}function Yx(e){return sh(e.source,Wo(e.source,e.start))}function sh(e,t){const r=e.locationOffset.column-1,s="".padStart(r)+e.body,i=t.line-1,a=e.locationOffset.line-1,o=t.line+a,l=t.line===1?r:0,c=t.column+l,u=`${e.name}:${o}:${c}
`,d=s.split(/\r\n|[\n\r]/g),h=d[i];if(h.length>120){const f=Math.floor(c/80),p=c%80,g=[];for(let m=0;m<h.length;m+=80)g.push(h.slice(m,m+80));return u+Vc([[`${o} |`,g[0]],...g.slice(1,f+1).map(m=>["|",m]),["|","^".padStart(p)],["|",g[f+1]]])}return u+Vc([[`${o-1} |`,d[i-1]],[`${o} |`,h],["|","^".padStart(c)],[`${o+1} |`,d[i+1]]])}function Vc(e){const t=e.filter(([s,i])=>i!==void 0),r=Math.max(...t.map(([s])=>s.length));return t.map(([s,i])=>s.padStart(r)+(i?" "+i:"")).join(`
`)}function Gx(e){const t=e[0];return t==null||"kind"in t||"length"in t?{nodes:t,source:e[1],positions:e[2],path:e[3],originalError:e[4],extensions:e[5]}:t}class Nl extends Error{constructor(t,...r){var s,i,a;const{nodes:o,source:l,positions:c,path:u,originalError:d,extensions:h}=Gx(r);super(t),this.name="GraphQLError",this.path=u??void 0,this.originalError=d??void 0,this.nodes=zc(Array.isArray(o)?o:o?[o]:void 0);const f=zc((s=this.nodes)===null||s===void 0?void 0:s.map(g=>g.loc).filter(g=>g!=null));this.source=l??(f==null||(i=f[0])===null||i===void 0?void 0:i.source),this.positions=c??(f==null?void 0:f.map(g=>g.start)),this.locations=c&&l?c.map(g=>Wo(l,g)):f==null?void 0:f.map(g=>Wo(g.source,g.start));const p=Ux(d==null?void 0:d.extensions)?d==null?void 0:d.extensions:void 0;this.extensions=(a=h??p)!==null&&a!==void 0?a:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),d!=null&&d.stack?Object.defineProperty(this,"stack",{value:d.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,Nl):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let t=this.message;if(this.nodes)for(const r of this.nodes)r.loc&&(t+=`

`+Yx(r.loc));else if(this.source&&this.locations)for(const r of this.locations)t+=`

`+sh(this.source,r);return t}toJSON(){const t={message:this.message};return this.locations!=null&&(t.locations=this.locations),this.path!=null&&(t.path=this.path),this.extensions!=null&&Object.keys(this.extensions).length>0&&(t.extensions=this.extensions),t}}function zc(e){return e===void 0||e.length===0?void 0:e}function It(e,t,r){return new Nl(`Syntax Error: ${r}`,{source:e,positions:[t]})}class Kx{constructor(t,r,s){this.start=t.start,this.end=r.end,this.startToken=t,this.endToken=r,this.source=s}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class ih{constructor(t,r,s,i,a,o){this.kind=t,this.start=r,this.end=s,this.line=i,this.column=a,this.value=o,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}const ah={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},Jx=new Set(Object.keys(ah));function Uc(e){const t=e==null?void 0:e.kind;return typeof t=="string"&&Jx.has(t)}var zn;(function(e){e.QUERY="query",e.MUTATION="mutation",e.SUBSCRIPTION="subscription"})(zn||(zn={}));var qo;(function(e){e.QUERY="QUERY",e.MUTATION="MUTATION",e.SUBSCRIPTION="SUBSCRIPTION",e.FIELD="FIELD",e.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",e.FRAGMENT_SPREAD="FRAGMENT_SPREAD",e.INLINE_FRAGMENT="INLINE_FRAGMENT",e.VARIABLE_DEFINITION="VARIABLE_DEFINITION",e.SCHEMA="SCHEMA",e.SCALAR="SCALAR",e.OBJECT="OBJECT",e.FIELD_DEFINITION="FIELD_DEFINITION",e.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",e.INTERFACE="INTERFACE",e.UNION="UNION",e.ENUM="ENUM",e.ENUM_VALUE="ENUM_VALUE",e.INPUT_OBJECT="INPUT_OBJECT",e.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"})(qo||(qo={}));var le;(function(e){e.NAME="Name",e.DOCUMENT="Document",e.OPERATION_DEFINITION="OperationDefinition",e.VARIABLE_DEFINITION="VariableDefinition",e.SELECTION_SET="SelectionSet",e.FIELD="Field",e.ARGUMENT="Argument",e.FRAGMENT_SPREAD="FragmentSpread",e.INLINE_FRAGMENT="InlineFragment",e.FRAGMENT_DEFINITION="FragmentDefinition",e.VARIABLE="Variable",e.INT="IntValue",e.FLOAT="FloatValue",e.STRING="StringValue",e.BOOLEAN="BooleanValue",e.NULL="NullValue",e.ENUM="EnumValue",e.LIST="ListValue",e.OBJECT="ObjectValue",e.OBJECT_FIELD="ObjectField",e.DIRECTIVE="Directive",e.NAMED_TYPE="NamedType",e.LIST_TYPE="ListType",e.NON_NULL_TYPE="NonNullType",e.SCHEMA_DEFINITION="SchemaDefinition",e.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",e.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",e.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",e.FIELD_DEFINITION="FieldDefinition",e.INPUT_VALUE_DEFINITION="InputValueDefinition",e.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",e.UNION_TYPE_DEFINITION="UnionTypeDefinition",e.ENUM_TYPE_DEFINITION="EnumTypeDefinition",e.ENUM_VALUE_DEFINITION="EnumValueDefinition",e.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",e.DIRECTIVE_DEFINITION="DirectiveDefinition",e.SCHEMA_EXTENSION="SchemaExtension",e.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",e.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",e.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",e.UNION_TYPE_EXTENSION="UnionTypeExtension",e.ENUM_TYPE_EXTENSION="EnumTypeExtension",e.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"})(le||(le={}));function $o(e){return e===9||e===32}function si(e){return e>=48&&e<=57}function oh(e){return e>=97&&e<=122||e>=65&&e<=90}function lh(e){return oh(e)||e===95}function Xx(e){return oh(e)||si(e)||e===95}function Zx(e){var t;let r=Number.MAX_SAFE_INTEGER,s=null,i=-1;for(let o=0;o<e.length;++o){var a;const l=e[o],c=eg(l);c!==l.length&&(s=(a=s)!==null&&a!==void 0?a:o,i=o,o!==0&&c<r&&(r=c))}return e.map((o,l)=>l===0?o:o.slice(r)).slice((t=s)!==null&&t!==void 0?t:0,i+1)}function eg(e){let t=0;for(;t<e.length&&$o(e.charCodeAt(t));)++t;return t}function tg(e,t){const r=e.replace(/"""/g,'\\"""'),s=r.split(/\r\n|[\n\r]/g),i=s.length===1,a=s.length>1&&s.slice(1).every(p=>p.length===0||$o(p.charCodeAt(0))),o=r.endsWith('\\"""'),l=e.endsWith('"')&&!o,c=e.endsWith("\\"),u=l||c,d=!i||e.length>70||u||a||o;let h="";const f=i&&$o(e.charCodeAt(0));return(d&&!f||a)&&(h+=`
`),h+=r,(d||u)&&(h+=`
`),'"""'+h+'"""'}var Y;(function(e){e.SOF="<SOF>",e.EOF="<EOF>",e.BANG="!",e.DOLLAR="$",e.AMP="&",e.PAREN_L="(",e.PAREN_R=")",e.SPREAD="...",e.COLON=":",e.EQUALS="=",e.AT="@",e.BRACKET_L="[",e.BRACKET_R="]",e.BRACE_L="{",e.PIPE="|",e.BRACE_R="}",e.NAME="Name",e.INT="Int",e.FLOAT="Float",e.STRING="String",e.BLOCK_STRING="BlockString",e.COMMENT="Comment"})(Y||(Y={}));class rg{constructor(t){const r=new ih(Y.SOF,0,0,0,0);this.source=t,this.lastToken=r,this.token=r,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let t=this.token;if(t.kind!==Y.EOF)do if(t.next)t=t.next;else{const r=sg(this,t.end);t.next=r,r.prev=t,t=r}while(t.kind===Y.COMMENT);return t}}function ng(e){return e===Y.BANG||e===Y.DOLLAR||e===Y.AMP||e===Y.PAREN_L||e===Y.PAREN_R||e===Y.SPREAD||e===Y.COLON||e===Y.EQUALS||e===Y.AT||e===Y.BRACKET_L||e===Y.BRACKET_R||e===Y.BRACE_L||e===Y.PIPE||e===Y.BRACE_R}function fs(e){return e>=0&&e<=55295||e>=57344&&e<=1114111}function xa(e,t){return ch(e.charCodeAt(t))&&uh(e.charCodeAt(t+1))}function ch(e){return e>=55296&&e<=56319}function uh(e){return e>=56320&&e<=57343}function In(e,t){const r=e.source.body.codePointAt(t);if(r===void 0)return Y.EOF;if(r>=32&&r<=126){const s=String.fromCodePoint(r);return s==='"'?`'"'`:`"${s}"`}return"U+"+r.toString(16).toUpperCase().padStart(4,"0")}function bt(e,t,r,s,i){const a=e.line,o=1+r-e.lineStart;return new ih(t,r,s,a,o,i)}function sg(e,t){const r=e.source.body,s=r.length;let i=t;for(;i<s;){const a=r.charCodeAt(i);switch(a){case 65279:case 9:case 32:case 44:++i;continue;case 10:++i,++e.line,e.lineStart=i;continue;case 13:r.charCodeAt(i+1)===10?i+=2:++i,++e.line,e.lineStart=i;continue;case 35:return ig(e,i);case 33:return bt(e,Y.BANG,i,i+1);case 36:return bt(e,Y.DOLLAR,i,i+1);case 38:return bt(e,Y.AMP,i,i+1);case 40:return bt(e,Y.PAREN_L,i,i+1);case 41:return bt(e,Y.PAREN_R,i,i+1);case 46:if(r.charCodeAt(i+1)===46&&r.charCodeAt(i+2)===46)return bt(e,Y.SPREAD,i,i+3);break;case 58:return bt(e,Y.COLON,i,i+1);case 61:return bt(e,Y.EQUALS,i,i+1);case 64:return bt(e,Y.AT,i,i+1);case 91:return bt(e,Y.BRACKET_L,i,i+1);case 93:return bt(e,Y.BRACKET_R,i,i+1);case 123:return bt(e,Y.BRACE_L,i,i+1);case 124:return bt(e,Y.PIPE,i,i+1);case 125:return bt(e,Y.BRACE_R,i,i+1);case 34:return r.charCodeAt(i+1)===34&&r.charCodeAt(i+2)===34?dg(e,i):og(e,i)}if(si(a)||a===45)return ag(e,i,a);if(lh(a))return hg(e,i);throw It(e.source,i,a===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:fs(a)||xa(r,i)?`Unexpected character: ${In(e,i)}.`:`Invalid character: ${In(e,i)}.`)}return bt(e,Y.EOF,s,s)}function ig(e,t){const r=e.source.body,s=r.length;let i=t+1;for(;i<s;){const a=r.charCodeAt(i);if(a===10||a===13)break;if(fs(a))++i;else if(xa(r,i))i+=2;else break}return bt(e,Y.COMMENT,t,i,r.slice(t+1,i))}function ag(e,t,r){const s=e.source.body;let i=t,a=r,o=!1;if(a===45&&(a=s.charCodeAt(++i)),a===48){if(a=s.charCodeAt(++i),si(a))throw It(e.source,i,`Invalid number, unexpected digit after 0: ${In(e,i)}.`)}else i=eo(e,i,a),a=s.charCodeAt(i);if(a===46&&(o=!0,a=s.charCodeAt(++i),i=eo(e,i,a),a=s.charCodeAt(i)),(a===69||a===101)&&(o=!0,a=s.charCodeAt(++i),(a===43||a===45)&&(a=s.charCodeAt(++i)),i=eo(e,i,a),a=s.charCodeAt(i)),a===46||lh(a))throw It(e.source,i,`Invalid number, expected digit but got: ${In(e,i)}.`);return bt(e,o?Y.FLOAT:Y.INT,t,i,s.slice(t,i))}function eo(e,t,r){if(!si(r))throw It(e.source,t,`Invalid number, expected digit but got: ${In(e,t)}.`);const s=e.source.body;let i=t+1;for(;si(s.charCodeAt(i));)++i;return i}function og(e,t){const r=e.source.body,s=r.length;let i=t+1,a=i,o="";for(;i<s;){const l=r.charCodeAt(i);if(l===34)return o+=r.slice(a,i),bt(e,Y.STRING,t,i+1,o);if(l===92){o+=r.slice(a,i);const c=r.charCodeAt(i+1)===117?r.charCodeAt(i+2)===123?lg(e,i):cg(e,i):ug(e,i);o+=c.value,i+=c.size,a=i;continue}if(l===10||l===13)break;if(fs(l))++i;else if(xa(r,i))i+=2;else throw It(e.source,i,`Invalid character within String: ${In(e,i)}.`)}throw It(e.source,i,"Unterminated string.")}function lg(e,t){const r=e.source.body;let s=0,i=3;for(;i<12;){const a=r.charCodeAt(t+i++);if(a===125){if(i<5||!fs(s))break;return{value:String.fromCodePoint(s),size:i}}if(s=s<<4|Vs(a),s<0)break}throw It(e.source,t,`Invalid Unicode escape sequence: "${r.slice(t,t+i)}".`)}function cg(e,t){const r=e.source.body,s=Qc(r,t+2);if(fs(s))return{value:String.fromCodePoint(s),size:6};if(ch(s)&&r.charCodeAt(t+6)===92&&r.charCodeAt(t+7)===117){const i=Qc(r,t+8);if(uh(i))return{value:String.fromCodePoint(s,i),size:12}}throw It(e.source,t,`Invalid Unicode escape sequence: "${r.slice(t,t+6)}".`)}function Qc(e,t){return Vs(e.charCodeAt(t))<<12|Vs(e.charCodeAt(t+1))<<8|Vs(e.charCodeAt(t+2))<<4|Vs(e.charCodeAt(t+3))}function Vs(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function ug(e,t){const r=e.source.body;switch(r.charCodeAt(t+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:`
`,size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw It(e.source,t,`Invalid character escape sequence: "${r.slice(t,t+2)}".`)}function dg(e,t){const r=e.source.body,s=r.length;let i=e.lineStart,a=t+3,o=a,l="";const c=[];for(;a<s;){const u=r.charCodeAt(a);if(u===34&&r.charCodeAt(a+1)===34&&r.charCodeAt(a+2)===34){l+=r.slice(o,a),c.push(l);const d=bt(e,Y.BLOCK_STRING,t,a+3,Zx(c).join(`
`));return e.line+=c.length-1,e.lineStart=i,d}if(u===92&&r.charCodeAt(a+1)===34&&r.charCodeAt(a+2)===34&&r.charCodeAt(a+3)===34){l+=r.slice(o,a),o=a+1,a+=4;continue}if(u===10||u===13){l+=r.slice(o,a),c.push(l),u===13&&r.charCodeAt(a+1)===10?a+=2:++a,l="",o=a,i=a;continue}if(fs(u))++a;else if(xa(r,a))a+=2;else throw It(e.source,a,`Invalid character within String: ${In(e,a)}.`)}throw It(e.source,a,"Unterminated string.")}function hg(e,t){const r=e.source.body,s=r.length;let i=t+1;for(;i<s;){const a=r.charCodeAt(i);if(Xx(a))++i;else break}return bt(e,Y.NAME,t,i,r.slice(t,i))}const fg=10,dh=2;function _l(e){return ga(e,[])}function ga(e,t){switch(typeof e){case"string":return JSON.stringify(e);case"function":return e.name?`[function ${e.name}]`:"[function]";case"object":return pg(e,t);default:return String(e)}}function pg(e,t){if(e===null)return"null";if(t.includes(e))return"[Circular]";const r=[...t,e];if(mg(e)){const s=e.toJSON();if(s!==e)return typeof s=="string"?s:ga(s,r)}else if(Array.isArray(e))return gg(e,r);return xg(e,r)}function mg(e){return typeof e.toJSON=="function"}function xg(e,t){const r=Object.entries(e);return r.length===0?"{}":t.length>dh?"["+yg(e)+"]":"{ "+r.map(([i,a])=>i+": "+ga(a,t)).join(", ")+" }"}function gg(e,t){if(e.length===0)return"[]";if(t.length>dh)return"[Array]";const r=Math.min(fg,e.length),s=e.length-r,i=[];for(let a=0;a<r;++a)i.push(ga(e[a],t));return s===1?i.push("... 1 more item"):s>1&&i.push(`... ${s} more items`),"["+i.join(", ")+"]"}function yg(e){const t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if(t==="Object"&&typeof e.constructor=="function"){const r=e.constructor.name;if(typeof r=="string"&&r!=="")return r}return t}const bg=globalThis.process&&!0,vg=bg?function(t,r){return t instanceof r}:function(t,r){if(t instanceof r)return!0;if(typeof t=="object"&&t!==null){var s;const i=r.prototype[Symbol.toStringTag],a=Symbol.toStringTag in t?t[Symbol.toStringTag]:(s=t.constructor)===null||s===void 0?void 0:s.name;if(i===a){const o=_l(t);throw new Error(`Cannot use ${i} "${o}" from another module or realm.

Ensure that there is only one instance of "graphql" in the node_modules
directory. If different versions of "graphql" are the dependencies of other
relied on modules, use "resolutions" to ensure only one version is installed.

https://yarnpkg.com/en/docs/selective-version-resolutions

Duplicate "graphql" modules cannot be used at the same time since different
versions may have different capabilities and behavior. The data from one
version used in the function from another could produce confusing and
spurious results.`)}}return!1};class hh{constructor(t,r="GraphQL request",s={line:1,column:1}){typeof t=="string"||$i(!1,`Body must be a string. Received: ${_l(t)}.`),this.body=t,this.name=r,this.locationOffset=s,this.locationOffset.line>0||$i(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||$i(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}function jg(e){return vg(e,hh)}function wg(e,t){const r=new Sg(e,t),s=r.parseDocument();return Object.defineProperty(s,"tokenCount",{enumerable:!1,value:r.tokenCount}),s}let Sg=class{constructor(t,r={}){const s=jg(t)?t:new hh(t);this._lexer=new rg(s),this._options=r,this._tokenCounter=0}get tokenCount(){return this._tokenCounter}parseName(){const t=this.expectToken(Y.NAME);return this.node(t,{kind:le.NAME,value:t.value})}parseDocument(){return this.node(this._lexer.token,{kind:le.DOCUMENT,definitions:this.many(Y.SOF,this.parseDefinition,Y.EOF)})}parseDefinition(){if(this.peek(Y.BRACE_L))return this.parseOperationDefinition();const t=this.peekDescription(),r=t?this._lexer.lookahead():this._lexer.token;if(r.kind===Y.NAME){switch(r.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(t)throw It(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(r.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(r)}parseOperationDefinition(){const t=this._lexer.token;if(this.peek(Y.BRACE_L))return this.node(t,{kind:le.OPERATION_DEFINITION,operation:zn.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const r=this.parseOperationType();let s;return this.peek(Y.NAME)&&(s=this.parseName()),this.node(t,{kind:le.OPERATION_DEFINITION,operation:r,name:s,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const t=this.expectToken(Y.NAME);switch(t.value){case"query":return zn.QUERY;case"mutation":return zn.MUTATION;case"subscription":return zn.SUBSCRIPTION}throw this.unexpected(t)}parseVariableDefinitions(){return this.optionalMany(Y.PAREN_L,this.parseVariableDefinition,Y.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:le.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(Y.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(Y.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const t=this._lexer.token;return this.expectToken(Y.DOLLAR),this.node(t,{kind:le.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:le.SELECTION_SET,selections:this.many(Y.BRACE_L,this.parseSelection,Y.BRACE_R)})}parseSelection(){return this.peek(Y.SPREAD)?this.parseFragment():this.parseField()}parseField(){const t=this._lexer.token,r=this.parseName();let s,i;return this.expectOptionalToken(Y.COLON)?(s=r,i=this.parseName()):i=r,this.node(t,{kind:le.FIELD,alias:s,name:i,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(Y.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(t){const r=t?this.parseConstArgument:this.parseArgument;return this.optionalMany(Y.PAREN_L,r,Y.PAREN_R)}parseArgument(t=!1){const r=this._lexer.token,s=this.parseName();return this.expectToken(Y.COLON),this.node(r,{kind:le.ARGUMENT,name:s,value:this.parseValueLiteral(t)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const t=this._lexer.token;this.expectToken(Y.SPREAD);const r=this.expectOptionalKeyword("on");return!r&&this.peek(Y.NAME)?this.node(t,{kind:le.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(t,{kind:le.INLINE_FRAGMENT,typeCondition:r?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){const t=this._lexer.token;return this.expectKeyword("fragment"),this._options.allowLegacyFragmentVariables===!0?this.node(t,{kind:le.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(t,{kind:le.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()}parseValueLiteral(t){const r=this._lexer.token;switch(r.kind){case Y.BRACKET_L:return this.parseList(t);case Y.BRACE_L:return this.parseObject(t);case Y.INT:return this.advanceLexer(),this.node(r,{kind:le.INT,value:r.value});case Y.FLOAT:return this.advanceLexer(),this.node(r,{kind:le.FLOAT,value:r.value});case Y.STRING:case Y.BLOCK_STRING:return this.parseStringLiteral();case Y.NAME:switch(this.advanceLexer(),r.value){case"true":return this.node(r,{kind:le.BOOLEAN,value:!0});case"false":return this.node(r,{kind:le.BOOLEAN,value:!1});case"null":return this.node(r,{kind:le.NULL});default:return this.node(r,{kind:le.ENUM,value:r.value})}case Y.DOLLAR:if(t)if(this.expectToken(Y.DOLLAR),this._lexer.token.kind===Y.NAME){const s=this._lexer.token.value;throw It(this._lexer.source,r.start,`Unexpected variable "$${s}" in constant value.`)}else throw this.unexpected(r);return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const t=this._lexer.token;return this.advanceLexer(),this.node(t,{kind:le.STRING,value:t.value,block:t.kind===Y.BLOCK_STRING})}parseList(t){const r=()=>this.parseValueLiteral(t);return this.node(this._lexer.token,{kind:le.LIST,values:this.any(Y.BRACKET_L,r,Y.BRACKET_R)})}parseObject(t){const r=()=>this.parseObjectField(t);return this.node(this._lexer.token,{kind:le.OBJECT,fields:this.any(Y.BRACE_L,r,Y.BRACE_R)})}parseObjectField(t){const r=this._lexer.token,s=this.parseName();return this.expectToken(Y.COLON),this.node(r,{kind:le.OBJECT_FIELD,name:s,value:this.parseValueLiteral(t)})}parseDirectives(t){const r=[];for(;this.peek(Y.AT);)r.push(this.parseDirective(t));return r}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(t){const r=this._lexer.token;return this.expectToken(Y.AT),this.node(r,{kind:le.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(t)})}parseTypeReference(){const t=this._lexer.token;let r;if(this.expectOptionalToken(Y.BRACKET_L)){const s=this.parseTypeReference();this.expectToken(Y.BRACKET_R),r=this.node(t,{kind:le.LIST_TYPE,type:s})}else r=this.parseNamedType();return this.expectOptionalToken(Y.BANG)?this.node(t,{kind:le.NON_NULL_TYPE,type:r}):r}parseNamedType(){return this.node(this._lexer.token,{kind:le.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(Y.STRING)||this.peek(Y.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const t=this._lexer.token,r=this.parseDescription();this.expectKeyword("schema");const s=this.parseConstDirectives(),i=this.many(Y.BRACE_L,this.parseOperationTypeDefinition,Y.BRACE_R);return this.node(t,{kind:le.SCHEMA_DEFINITION,description:r,directives:s,operationTypes:i})}parseOperationTypeDefinition(){const t=this._lexer.token,r=this.parseOperationType();this.expectToken(Y.COLON);const s=this.parseNamedType();return this.node(t,{kind:le.OPERATION_TYPE_DEFINITION,operation:r,type:s})}parseScalarTypeDefinition(){const t=this._lexer.token,r=this.parseDescription();this.expectKeyword("scalar");const s=this.parseName(),i=this.parseConstDirectives();return this.node(t,{kind:le.SCALAR_TYPE_DEFINITION,description:r,name:s,directives:i})}parseObjectTypeDefinition(){const t=this._lexer.token,r=this.parseDescription();this.expectKeyword("type");const s=this.parseName(),i=this.parseImplementsInterfaces(),a=this.parseConstDirectives(),o=this.parseFieldsDefinition();return this.node(t,{kind:le.OBJECT_TYPE_DEFINITION,description:r,name:s,interfaces:i,directives:a,fields:o})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(Y.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(Y.BRACE_L,this.parseFieldDefinition,Y.BRACE_R)}parseFieldDefinition(){const t=this._lexer.token,r=this.parseDescription(),s=this.parseName(),i=this.parseArgumentDefs();this.expectToken(Y.COLON);const a=this.parseTypeReference(),o=this.parseConstDirectives();return this.node(t,{kind:le.FIELD_DEFINITION,description:r,name:s,arguments:i,type:a,directives:o})}parseArgumentDefs(){return this.optionalMany(Y.PAREN_L,this.parseInputValueDef,Y.PAREN_R)}parseInputValueDef(){const t=this._lexer.token,r=this.parseDescription(),s=this.parseName();this.expectToken(Y.COLON);const i=this.parseTypeReference();let a;this.expectOptionalToken(Y.EQUALS)&&(a=this.parseConstValueLiteral());const o=this.parseConstDirectives();return this.node(t,{kind:le.INPUT_VALUE_DEFINITION,description:r,name:s,type:i,defaultValue:a,directives:o})}parseInterfaceTypeDefinition(){const t=this._lexer.token,r=this.parseDescription();this.expectKeyword("interface");const s=this.parseName(),i=this.parseImplementsInterfaces(),a=this.parseConstDirectives(),o=this.parseFieldsDefinition();return this.node(t,{kind:le.INTERFACE_TYPE_DEFINITION,description:r,name:s,interfaces:i,directives:a,fields:o})}parseUnionTypeDefinition(){const t=this._lexer.token,r=this.parseDescription();this.expectKeyword("union");const s=this.parseName(),i=this.parseConstDirectives(),a=this.parseUnionMemberTypes();return this.node(t,{kind:le.UNION_TYPE_DEFINITION,description:r,name:s,directives:i,types:a})}parseUnionMemberTypes(){return this.expectOptionalToken(Y.EQUALS)?this.delimitedMany(Y.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const t=this._lexer.token,r=this.parseDescription();this.expectKeyword("enum");const s=this.parseName(),i=this.parseConstDirectives(),a=this.parseEnumValuesDefinition();return this.node(t,{kind:le.ENUM_TYPE_DEFINITION,description:r,name:s,directives:i,values:a})}parseEnumValuesDefinition(){return this.optionalMany(Y.BRACE_L,this.parseEnumValueDefinition,Y.BRACE_R)}parseEnumValueDefinition(){const t=this._lexer.token,r=this.parseDescription(),s=this.parseEnumValueName(),i=this.parseConstDirectives();return this.node(t,{kind:le.ENUM_VALUE_DEFINITION,description:r,name:s,directives:i})}parseEnumValueName(){if(this._lexer.token.value==="true"||this._lexer.token.value==="false"||this._lexer.token.value==="null")throw It(this._lexer.source,this._lexer.token.start,`${Ri(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const t=this._lexer.token,r=this.parseDescription();this.expectKeyword("input");const s=this.parseName(),i=this.parseConstDirectives(),a=this.parseInputFieldsDefinition();return this.node(t,{kind:le.INPUT_OBJECT_TYPE_DEFINITION,description:r,name:s,directives:i,fields:a})}parseInputFieldsDefinition(){return this.optionalMany(Y.BRACE_L,this.parseInputValueDef,Y.BRACE_R)}parseTypeSystemExtension(){const t=this._lexer.lookahead();if(t.kind===Y.NAME)switch(t.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(t)}parseSchemaExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const r=this.parseConstDirectives(),s=this.optionalMany(Y.BRACE_L,this.parseOperationTypeDefinition,Y.BRACE_R);if(r.length===0&&s.length===0)throw this.unexpected();return this.node(t,{kind:le.SCHEMA_EXTENSION,directives:r,operationTypes:s})}parseScalarTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const r=this.parseName(),s=this.parseConstDirectives();if(s.length===0)throw this.unexpected();return this.node(t,{kind:le.SCALAR_TYPE_EXTENSION,name:r,directives:s})}parseObjectTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const r=this.parseName(),s=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),a=this.parseFieldsDefinition();if(s.length===0&&i.length===0&&a.length===0)throw this.unexpected();return this.node(t,{kind:le.OBJECT_TYPE_EXTENSION,name:r,interfaces:s,directives:i,fields:a})}parseInterfaceTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const r=this.parseName(),s=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),a=this.parseFieldsDefinition();if(s.length===0&&i.length===0&&a.length===0)throw this.unexpected();return this.node(t,{kind:le.INTERFACE_TYPE_EXTENSION,name:r,interfaces:s,directives:i,fields:a})}parseUnionTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const r=this.parseName(),s=this.parseConstDirectives(),i=this.parseUnionMemberTypes();if(s.length===0&&i.length===0)throw this.unexpected();return this.node(t,{kind:le.UNION_TYPE_EXTENSION,name:r,directives:s,types:i})}parseEnumTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const r=this.parseName(),s=this.parseConstDirectives(),i=this.parseEnumValuesDefinition();if(s.length===0&&i.length===0)throw this.unexpected();return this.node(t,{kind:le.ENUM_TYPE_EXTENSION,name:r,directives:s,values:i})}parseInputObjectTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const r=this.parseName(),s=this.parseConstDirectives(),i=this.parseInputFieldsDefinition();if(s.length===0&&i.length===0)throw this.unexpected();return this.node(t,{kind:le.INPUT_OBJECT_TYPE_EXTENSION,name:r,directives:s,fields:i})}parseDirectiveDefinition(){const t=this._lexer.token,r=this.parseDescription();this.expectKeyword("directive"),this.expectToken(Y.AT);const s=this.parseName(),i=this.parseArgumentDefs(),a=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const o=this.parseDirectiveLocations();return this.node(t,{kind:le.DIRECTIVE_DEFINITION,description:r,name:s,arguments:i,repeatable:a,locations:o})}parseDirectiveLocations(){return this.delimitedMany(Y.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const t=this._lexer.token,r=this.parseName();if(Object.prototype.hasOwnProperty.call(qo,r.value))return r;throw this.unexpected(t)}node(t,r){return this._options.noLocation!==!0&&(r.loc=new Kx(t,this._lexer.lastToken,this._lexer.source)),r}peek(t){return this._lexer.token.kind===t}expectToken(t){const r=this._lexer.token;if(r.kind===t)return this.advanceLexer(),r;throw It(this._lexer.source,r.start,`Expected ${fh(t)}, found ${Ri(r)}.`)}expectOptionalToken(t){return this._lexer.token.kind===t?(this.advanceLexer(),!0):!1}expectKeyword(t){const r=this._lexer.token;if(r.kind===Y.NAME&&r.value===t)this.advanceLexer();else throw It(this._lexer.source,r.start,`Expected "${t}", found ${Ri(r)}.`)}expectOptionalKeyword(t){const r=this._lexer.token;return r.kind===Y.NAME&&r.value===t?(this.advanceLexer(),!0):!1}unexpected(t){const r=t??this._lexer.token;return It(this._lexer.source,r.start,`Unexpected ${Ri(r)}.`)}any(t,r,s){this.expectToken(t);const i=[];for(;!this.expectOptionalToken(s);)i.push(r.call(this));return i}optionalMany(t,r,s){if(this.expectOptionalToken(t)){const i=[];do i.push(r.call(this));while(!this.expectOptionalToken(s));return i}return[]}many(t,r,s){this.expectToken(t);const i=[];do i.push(r.call(this));while(!this.expectOptionalToken(s));return i}delimitedMany(t,r){this.expectOptionalToken(t);const s=[];do s.push(r.call(this));while(this.expectOptionalToken(t));return s}advanceLexer(){const{maxTokens:t}=this._options,r=this._lexer.advance();if(r.kind!==Y.EOF&&(++this._tokenCounter,t!==void 0&&this._tokenCounter>t))throw It(this._lexer.source,r.start,`Document contains more that ${t} tokens. Parsing aborted.`)}};function Ri(e){const t=e.value;return fh(e.kind)+(t!=null?` "${t}"`:"")}function fh(e){return ng(e)?`"${e}"`:e}function Cg(e){return`"${e.replace(Pg,kg)}"`}const Pg=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function kg(e){return Dg[e.charCodeAt(0)]}const Dg=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"],ya=Object.freeze({});function pr(e,t,r=ah){const s=new Map;for(const y of Object.values(le))s.set(y,Ig(t,y));let i,a=Array.isArray(e),o=[e],l=-1,c=[],u=e,d,h;const f=[],p=[];do{l++;const y=l===o.length,b=y&&c.length!==0;if(y){if(d=p.length===0?void 0:f[f.length-1],u=h,h=p.pop(),b)if(a){u=u.slice();let P=0;for(const[C,D]of c){const T=C-P;D===null?(u.splice(T,1),P++):u[T]=D}}else{u={...u};for(const[P,C]of c)u[P]=C}l=i.index,o=i.keys,c=i.edits,a=i.inArray,i=i.prev}else if(h){if(d=a?l:o[l],u=h[d],u==null)continue;f.push(d)}let j;if(!Array.isArray(u)){var g,m;Uc(u)||$i(!1,`Invalid AST Node: ${_l(u)}.`);const P=y?(g=s.get(u.kind))===null||g===void 0?void 0:g.leave:(m=s.get(u.kind))===null||m===void 0?void 0:m.enter;if(j=P==null?void 0:P.call(t,u,d,h,f,p),j===ya)break;if(j===!1){if(!y){f.pop();continue}}else if(j!==void 0&&(c.push([d,j]),!y))if(Uc(j))u=j;else{f.pop();continue}}if(j===void 0&&b&&c.push([d,u]),y)f.pop();else{var x;i={inArray:a,index:l,keys:o,edits:c,prev:i},a=Array.isArray(u),o=a?u:(x=r[u.kind])!==null&&x!==void 0?x:[],l=-1,c=[],h&&p.push(h),h=u}}while(i!==void 0);return c.length!==0?c[c.length-1][1]:e}function Ig(e,t){const r=e[t];return typeof r=="object"?r:typeof r=="function"?{enter:r,leave:void 0}:{enter:e.enter,leave:e.leave}}function Eg(e){return pr(e,Mg)}const Tg=80,Mg={Name:{leave:e=>e.value},Variable:{leave:e=>"$"+e.name},Document:{leave:e=>pe(e.definitions,`

`)},OperationDefinition:{leave(e){const t=Ue("(",pe(e.variableDefinitions,", "),")"),r=pe([e.operation,pe([e.name,t]),pe(e.directives," ")]," ");return(r==="query"?"":r+" ")+e.selectionSet}},VariableDefinition:{leave:({variable:e,type:t,defaultValue:r,directives:s})=>e+": "+t+Ue(" = ",r)+Ue(" ",pe(s," "))},SelectionSet:{leave:({selections:e})=>cr(e)},Field:{leave({alias:e,name:t,arguments:r,directives:s,selectionSet:i}){const a=Ue("",e,": ")+t;let o=a+Ue("(",pe(r,", "),")");return o.length>Tg&&(o=a+Ue(`(
`,Bi(pe(r,`
`)),`
)`)),pe([o,pe(s," "),i]," ")}},Argument:{leave:({name:e,value:t})=>e+": "+t},FragmentSpread:{leave:({name:e,directives:t})=>"..."+e+Ue(" ",pe(t," "))},InlineFragment:{leave:({typeCondition:e,directives:t,selectionSet:r})=>pe(["...",Ue("on ",e),pe(t," "),r]," ")},FragmentDefinition:{leave:({name:e,typeCondition:t,variableDefinitions:r,directives:s,selectionSet:i})=>`fragment ${e}${Ue("(",pe(r,", "),")")} on ${t} ${Ue("",pe(s," ")," ")}`+i},IntValue:{leave:({value:e})=>e},FloatValue:{leave:({value:e})=>e},StringValue:{leave:({value:e,block:t})=>t?tg(e):Cg(e)},BooleanValue:{leave:({value:e})=>e?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:e})=>e},ListValue:{leave:({values:e})=>"["+pe(e,", ")+"]"},ObjectValue:{leave:({fields:e})=>"{"+pe(e,", ")+"}"},ObjectField:{leave:({name:e,value:t})=>e+": "+t},Directive:{leave:({name:e,arguments:t})=>"@"+e+Ue("(",pe(t,", "),")")},NamedType:{leave:({name:e})=>e},ListType:{leave:({type:e})=>"["+e+"]"},NonNullType:{leave:({type:e})=>e+"!"},SchemaDefinition:{leave:({description:e,directives:t,operationTypes:r})=>Ue("",e,`
`)+pe(["schema",pe(t," "),cr(r)]," ")},OperationTypeDefinition:{leave:({operation:e,type:t})=>e+": "+t},ScalarTypeDefinition:{leave:({description:e,name:t,directives:r})=>Ue("",e,`
`)+pe(["scalar",t,pe(r," ")]," ")},ObjectTypeDefinition:{leave:({description:e,name:t,interfaces:r,directives:s,fields:i})=>Ue("",e,`
`)+pe(["type",t,Ue("implements ",pe(r," & ")),pe(s," "),cr(i)]," ")},FieldDefinition:{leave:({description:e,name:t,arguments:r,type:s,directives:i})=>Ue("",e,`
`)+t+(Hc(r)?Ue(`(
`,Bi(pe(r,`
`)),`
)`):Ue("(",pe(r,", "),")"))+": "+s+Ue(" ",pe(i," "))},InputValueDefinition:{leave:({description:e,name:t,type:r,defaultValue:s,directives:i})=>Ue("",e,`
`)+pe([t+": "+r,Ue("= ",s),pe(i," ")]," ")},InterfaceTypeDefinition:{leave:({description:e,name:t,interfaces:r,directives:s,fields:i})=>Ue("",e,`
`)+pe(["interface",t,Ue("implements ",pe(r," & ")),pe(s," "),cr(i)]," ")},UnionTypeDefinition:{leave:({description:e,name:t,directives:r,types:s})=>Ue("",e,`
`)+pe(["union",t,pe(r," "),Ue("= ",pe(s," | "))]," ")},EnumTypeDefinition:{leave:({description:e,name:t,directives:r,values:s})=>Ue("",e,`
`)+pe(["enum",t,pe(r," "),cr(s)]," ")},EnumValueDefinition:{leave:({description:e,name:t,directives:r})=>Ue("",e,`
`)+pe([t,pe(r," ")]," ")},InputObjectTypeDefinition:{leave:({description:e,name:t,directives:r,fields:s})=>Ue("",e,`
`)+pe(["input",t,pe(r," "),cr(s)]," ")},DirectiveDefinition:{leave:({description:e,name:t,arguments:r,repeatable:s,locations:i})=>Ue("",e,`
`)+"directive @"+t+(Hc(r)?Ue(`(
`,Bi(pe(r,`
`)),`
)`):Ue("(",pe(r,", "),")"))+(s?" repeatable":"")+" on "+pe(i," | ")},SchemaExtension:{leave:({directives:e,operationTypes:t})=>pe(["extend schema",pe(e," "),cr(t)]," ")},ScalarTypeExtension:{leave:({name:e,directives:t})=>pe(["extend scalar",e,pe(t," ")]," ")},ObjectTypeExtension:{leave:({name:e,interfaces:t,directives:r,fields:s})=>pe(["extend type",e,Ue("implements ",pe(t," & ")),pe(r," "),cr(s)]," ")},InterfaceTypeExtension:{leave:({name:e,interfaces:t,directives:r,fields:s})=>pe(["extend interface",e,Ue("implements ",pe(t," & ")),pe(r," "),cr(s)]," ")},UnionTypeExtension:{leave:({name:e,directives:t,types:r})=>pe(["extend union",e,pe(t," "),Ue("= ",pe(r," | "))]," ")},EnumTypeExtension:{leave:({name:e,directives:t,values:r})=>pe(["extend enum",e,pe(t," "),cr(r)]," ")},InputObjectTypeExtension:{leave:({name:e,directives:t,fields:r})=>pe(["extend input",e,pe(t," "),cr(r)]," ")}};function pe(e,t=""){var r;return(r=e==null?void 0:e.filter(s=>s).join(t))!==null&&r!==void 0?r:""}function cr(e){return Ue(`{
`,Bi(pe(e,`
`)),`
}`)}function Ue(e,t,r=""){return t!=null&&t!==""?e+t+r:""}function Bi(e){return Ue("  ",e.replace(/\n/g,`
  `))}function Hc(e){var t;return(t=e==null?void 0:e.some(r=>r.includes(`
`)))!==null&&t!==void 0?t:!1}function Yc(e){return e.kind===le.FIELD||e.kind===le.FRAGMENT_SPREAD||e.kind===le.INLINE_FRAGMENT}function yi(e,t){var r=e.directives;return!r||!r.length?!0:Ng(r).every(function(s){var i=s.directive,a=s.ifArgument,o=!1;return a.value.kind==="Variable"?(o=t&&t[a.value.name.value],ue(o!==void 0,78,i.name.value)):o=a.value.value,i.name.value==="skip"?!o:o})}function ii(e,t,r){var s=new Set(e),i=s.size;return pr(t,{Directive:function(a){if(s.delete(a.name.value)&&(!r||!s.size))return ya}}),r?!s.size:s.size<i}function Og(e){return e&&ii(["client","export"],e,!0)}function Rg(e){var t=e.name.value;return t==="skip"||t==="include"}function Ng(e){var t=[];return e&&e.length&&e.forEach(function(r){if(Rg(r)){var s=r.arguments,i=r.name.value;ue(s&&s.length===1,79,i);var a=s[0];ue(a.name&&a.name.value==="if",80,i);var o=a.value;ue(o&&(o.kind==="Variable"||o.kind==="BooleanValue"),81,i),t.push({directive:r,ifArgument:a})}}),t}function _g(e){var t,r,s=(t=e.directives)===null||t===void 0?void 0:t.find(function(a){var o=a.name;return o.value==="unmask"});if(!s)return"mask";var i=(r=s.arguments)===null||r===void 0?void 0:r.find(function(a){var o=a.name;return o.value==="mode"});return globalThis.__DEV__!==!1&&i&&(i.value.kind===le.VARIABLE?globalThis.__DEV__!==!1&&ue.warn(82):i.value.kind!==le.STRING?globalThis.__DEV__!==!1&&ue.warn(83):i.value.value!=="migrate"&&globalThis.__DEV__!==!1&&ue.warn(84,i.value.value)),i&&"value"in i.value&&i.value.value==="migrate"?"migrate":"unmask"}const Ag=()=>Object.create(null),{forEach:Fg,slice:Gc}=Array.prototype,{hasOwnProperty:Lg}=Object.prototype;class Wr{constructor(t=!0,r=Ag){this.weakness=t,this.makeData=r}lookup(){return this.lookupArray(arguments)}lookupArray(t){let r=this;return Fg.call(t,s=>r=r.getChildTrie(s)),Lg.call(r,"data")?r.data:r.data=this.makeData(Gc.call(t))}peek(){return this.peekArray(arguments)}peekArray(t){let r=this;for(let s=0,i=t.length;r&&s<i;++s){const a=r.mapFor(t[s],!1);r=a&&a.get(t[s])}return r&&r.data}remove(){return this.removeArray(arguments)}removeArray(t){let r;if(t.length){const s=t[0],i=this.mapFor(s,!1),a=i&&i.get(s);a&&(r=a.removeArray(Gc.call(t,1)),!a.data&&!a.weak&&!(a.strong&&a.strong.size)&&i.delete(s))}else r=this.data,delete this.data;return r}getChildTrie(t){const r=this.mapFor(t,!0);let s=r.get(t);return s||r.set(t,s=new Wr(this.weakness,this.makeData)),s}mapFor(t,r){return this.weakness&&Wg(t)?this.weak||(r?this.weak=new WeakMap:void 0):this.strong||(r?this.strong=new Map:void 0)}}function Wg(e){switch(typeof e){case"object":if(e===null)break;case"function":return!0}return!1}var ph=ur(function(){return navigator.product})=="ReactNative",Rn=typeof WeakMap=="function"&&!(ph&&!global.HermesInternal),Al=typeof WeakSet=="function",Fl=typeof Symbol=="function"&&typeof Symbol.for=="function",ba=Fl&&Symbol.asyncIterator,mh=typeof ur(function(){return window.document.createElement})=="function",qg=ur(function(){return navigator.userAgent.indexOf("jsdom")>=0})||!1,$g=(mh||ph)&&!qg;function ht(e){return e!==null&&typeof e=="object"}function Bg(e,t){var r=t,s=[];e.definitions.forEach(function(a){if(a.kind==="OperationDefinition")throw zt(85,a.operation,a.name?" named '".concat(a.name.value,"'"):"");a.kind==="FragmentDefinition"&&s.push(a)}),typeof r>"u"&&(ue(s.length===1,86,s.length),r=s[0].name.value);var i=F(F({},e),{definitions:Rt([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:r}}]}}],e.definitions,!0)});return i}function ps(e){e===void 0&&(e=[]);var t={};return e.forEach(function(r){t[r.name.value]=r}),t}function va(e,t){switch(e.kind){case"InlineFragment":return e;case"FragmentSpread":{var r=e.name.value;if(typeof t=="function")return t(r);var s=t&&t[r];return ue(s,87,r),s||null}default:return null}}function Vg(e){var t=!0;return pr(e,{FragmentSpread:function(r){if(t=!!r.directives&&r.directives.some(function(s){return s.name.value==="unmask"}),!t)return ya}}),t}function zg(){}class Bo{constructor(t=1/0,r=zg){this.max=t,this.dispose=r,this.map=new Map,this.newest=null,this.oldest=null}has(t){return this.map.has(t)}get(t){const r=this.getNode(t);return r&&r.value}get size(){return this.map.size}getNode(t){const r=this.map.get(t);if(r&&r!==this.newest){const{older:s,newer:i}=r;i&&(i.older=s),s&&(s.newer=i),r.older=this.newest,r.older.newer=r,r.newer=null,this.newest=r,r===this.oldest&&(this.oldest=i)}return r}set(t,r){let s=this.getNode(t);return s?s.value=r:(s={key:t,value:r,newer:null,older:this.newest},this.newest&&(this.newest.newer=s),this.newest=s,this.oldest=this.oldest||s,this.map.set(t,s),s.value)}clean(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)}delete(t){const r=this.map.get(t);return r?(r===this.newest&&(this.newest=r.older),r===this.oldest&&(this.oldest=r.newer),r.newer&&(r.newer.older=r.older),r.older&&(r.older.newer=r.newer),this.map.delete(t),this.dispose(r.value,t),!0):!1}}function Vo(){}const Ug=Vo,Qg=typeof WeakRef<"u"?WeakRef:function(e){return{deref:()=>e}},Hg=typeof WeakMap<"u"?WeakMap:Map,Yg=typeof FinalizationRegistry<"u"?FinalizationRegistry:function(){return{register:Vo,unregister:Vo}},Gg=10024;class na{constructor(t=1/0,r=Ug){this.max=t,this.dispose=r,this.map=new Hg,this.newest=null,this.oldest=null,this.unfinalizedNodes=new Set,this.finalizationScheduled=!1,this.size=0,this.finalize=()=>{const s=this.unfinalizedNodes.values();for(let i=0;i<Gg;i++){const a=s.next().value;if(!a)break;this.unfinalizedNodes.delete(a);const o=a.key;delete a.key,a.keyRef=new Qg(o),this.registry.register(o,a,a)}this.unfinalizedNodes.size>0?queueMicrotask(this.finalize):this.finalizationScheduled=!1},this.registry=new Yg(this.deleteNode.bind(this))}has(t){return this.map.has(t)}get(t){const r=this.getNode(t);return r&&r.value}getNode(t){const r=this.map.get(t);if(r&&r!==this.newest){const{older:s,newer:i}=r;i&&(i.older=s),s&&(s.newer=i),r.older=this.newest,r.older.newer=r,r.newer=null,this.newest=r,r===this.oldest&&(this.oldest=i)}return r}set(t,r){let s=this.getNode(t);return s?s.value=r:(s={key:t,value:r,newer:null,older:this.newest},this.newest&&(this.newest.newer=s),this.newest=s,this.oldest=this.oldest||s,this.scheduleFinalization(s),this.map.set(t,s),this.size++,s.value)}clean(){for(;this.oldest&&this.size>this.max;)this.deleteNode(this.oldest)}deleteNode(t){t===this.newest&&(this.newest=t.older),t===this.oldest&&(this.oldest=t.newer),t.newer&&(t.newer.older=t.older),t.older&&(t.older.newer=t.newer),this.size--;const r=t.key||t.keyRef&&t.keyRef.deref();this.dispose(t.value,r),t.keyRef?this.registry.unregister(t):this.unfinalizedNodes.delete(t),r&&this.map.delete(r)}delete(t){const r=this.map.get(t);return r?(this.deleteNode(r),!0):!1}scheduleFinalization(t){this.unfinalizedNodes.add(t),this.finalizationScheduled||(this.finalizationScheduled=!0,queueMicrotask(this.finalize))}}var to=new WeakSet;function xh(e){e.size<=(e.max||-1)||to.has(e)||(to.add(e),setTimeout(function(){e.clean(),to.delete(e)},100))}var Ll=function(e,t){var r=new na(e,t);return r.set=function(s,i){var a=na.prototype.set.call(this,s,i);return xh(this),a},r},Kg=function(e,t){var r=new Bo(e,t);return r.set=function(s,i){var a=Bo.prototype.set.call(this,s,i);return xh(this),a},r},Jg=Symbol.for("apollo.cacheSize"),Ir=F({},Fo[Jg]),hn={};function Wl(e,t){hn[e]=t}var Xg=globalThis.__DEV__!==!1?ry:void 0,Zg=globalThis.__DEV__!==!1?ny:void 0,ey=globalThis.__DEV__!==!1?gh:void 0;function ty(){var e={parser:1e3,canonicalStringify:1e3,print:2e3,"documentTransform.cache":2e3,"queryManager.getDocumentInfo":2e3,"PersistedQueryLink.persistedQueryHashes":2e3,"fragmentRegistry.transform":2e3,"fragmentRegistry.lookup":1e3,"fragmentRegistry.findFragmentSpreads":4e3,"cache.fragmentQueryDocuments":1e3,"removeTypenameFromVariables.getVariableDefinitions":2e3,"inMemoryCache.maybeBroadcastWatch":5e3,"inMemoryCache.executeSelectionSet":5e4,"inMemoryCache.executeSubSelectedArray":1e4};return Object.fromEntries(Object.entries(e).map(function(t){var r=t[0],s=t[1];return[r,Ir[r]||s]}))}function ry(){var e,t,r,s,i;if(globalThis.__DEV__===!1)throw new Error("only supported in development mode");return{limits:ty(),sizes:F({print:(e=hn.print)===null||e===void 0?void 0:e.call(hn),parser:(t=hn.parser)===null||t===void 0?void 0:t.call(hn),canonicalStringify:(r=hn.canonicalStringify)===null||r===void 0?void 0:r.call(hn),links:Uo(this.link),queryManager:{getDocumentInfo:this.queryManager.transformCache.size,documentTransforms:bh(this.queryManager.documentTransform)}},(i=(s=this.cache).getMemoryInternals)===null||i===void 0?void 0:i.call(s))}}function gh(){return{cache:{fragmentQueryDocuments:Hr(this.getFragmentDoc)}}}function ny(){var e=this.config.fragments;return F(F({},gh.apply(this)),{addTypenameDocumentTransform:bh(this.addTypenameTransform),inMemoryCache:{executeSelectionSet:Hr(this.storeReader.executeSelectionSet),executeSubSelectedArray:Hr(this.storeReader.executeSubSelectedArray),maybeBroadcastWatch:Hr(this.maybeBroadcastWatch)},fragmentRegistry:{findFragmentSpreads:Hr(e==null?void 0:e.findFragmentSpreads),lookup:Hr(e==null?void 0:e.lookup),transform:Hr(e==null?void 0:e.transform)}})}function sy(e){return!!e&&"dirtyKey"in e}function Hr(e){return sy(e)?e.size:void 0}function yh(e){return e!=null}function bh(e){return zo(e).map(function(t){return{cache:t}})}function zo(e){return e?Rt(Rt([Hr(e==null?void 0:e.performWork)],zo(e==null?void 0:e.left),!0),zo(e==null?void 0:e.right),!0).filter(yh):[]}function Uo(e){var t;return e?Rt(Rt([(t=e==null?void 0:e.getMemoryInternals)===null||t===void 0?void 0:t.call(e)],Uo(e==null?void 0:e.left),!0),Uo(e==null?void 0:e.right),!0).filter(yh):[]}var Xr=Object.assign(function(t){return JSON.stringify(t,iy)},{reset:function(){Un=new Kg(Ir.canonicalStringify||1e3)}});globalThis.__DEV__!==!1&&Wl("canonicalStringify",function(){return Un.size});var Un;Xr.reset();function iy(e,t){if(t&&typeof t=="object"){var r=Object.getPrototypeOf(t);if(r===Object.prototype||r===null){var s=Object.keys(t);if(s.every(ay))return t;var i=JSON.stringify(s),a=Un.get(i);if(!a){s.sort();var o=JSON.stringify(s);a=Un.get(o)||s,Un.set(i,a),Un.set(o,a)}var l=Object.create(r);return a.forEach(function(c){l[c]=t[c]}),l}}return t}function ay(e,t,r){return t===0||r[t-1]<=e}function Kn(e){return{__ref:String(e)}}function rt(e){return!!(e&&typeof e=="object"&&typeof e.__ref=="string")}function oy(e){return ht(e)&&e.kind==="Document"&&Array.isArray(e.definitions)}function ly(e){return e.kind==="StringValue"}function cy(e){return e.kind==="BooleanValue"}function uy(e){return e.kind==="IntValue"}function dy(e){return e.kind==="FloatValue"}function hy(e){return e.kind==="Variable"}function fy(e){return e.kind==="ObjectValue"}function py(e){return e.kind==="ListValue"}function my(e){return e.kind==="EnumValue"}function xy(e){return e.kind==="NullValue"}function is(e,t,r,s){if(uy(r)||dy(r))e[t.value]=Number(r.value);else if(cy(r)||ly(r))e[t.value]=r.value;else if(fy(r)){var i={};r.fields.map(function(o){return is(i,o.name,o.value,s)}),e[t.value]=i}else if(hy(r)){var a=(s||{})[r.name.value];e[t.value]=a}else if(py(r))e[t.value]=r.values.map(function(o){var l={};return is(l,t,o,s),l[t.value]});else if(my(r))e[t.value]=r.value;else if(xy(r))e[t.value]=null;else throw zt(96,t.value,r.kind)}function gy(e,t){var r=null;e.directives&&(r={},e.directives.forEach(function(i){r[i.name.value]={},i.arguments&&i.arguments.forEach(function(a){var o=a.name,l=a.value;return is(r[i.name.value],o,l,t)})}));var s=null;return e.arguments&&e.arguments.length&&(s={},e.arguments.forEach(function(i){var a=i.name,o=i.value;return is(s,a,o,t)})),vh(e.name.value,s,r)}var yy=["connection","include","skip","client","rest","export","nonreactive"],Ts=Xr,vh=Object.assign(function(e,t,r){if(t&&r&&r.connection&&r.connection.key)if(r.connection.filter&&r.connection.filter.length>0){var s=r.connection.filter?r.connection.filter:[];s.sort();var i={};return s.forEach(function(l){i[l]=t[l]}),"".concat(r.connection.key,"(").concat(Ts(i),")")}else return r.connection.key;var a=e;if(t){var o=Ts(t);a+="(".concat(o,")")}return r&&Object.keys(r).forEach(function(l){yy.indexOf(l)===-1&&(r[l]&&Object.keys(r[l]).length?a+="@".concat(l,"(").concat(Ts(r[l]),")"):a+="@".concat(l))}),a},{setStringify:function(e){var t=Ts;return Ts=e,t}});function ja(e,t){if(e.arguments&&e.arguments.length){var r={};return e.arguments.forEach(function(s){var i=s.name,a=s.value;return is(r,i,a,t)}),r}return null}function Nr(e){return e.alias?e.alias.value:e.name.value}function Qo(e,t,r){for(var s,i=0,a=t.selections;i<a.length;i++){var o=a[i];if(tn(o)){if(o.name.value==="__typename")return e[Nr(o)]}else s?s.push(o):s=[o]}if(typeof e.__typename=="string")return e.__typename;if(s)for(var l=0,c=s;l<c.length;l++){var o=c[l],u=Qo(e,va(o,r).selectionSet,r);if(typeof u=="string")return u}}function tn(e){return e.kind==="Field"}function by(e){return e.kind==="InlineFragment"}function ms(e){ue(e&&e.kind==="Document",88);var t=e.definitions.filter(function(r){return r.kind!=="FragmentDefinition"}).map(function(r){if(r.kind!=="OperationDefinition")throw zt(89,r.kind);return r});return ue(t.length<=1,90,t.length),e}function En(e){return ms(e),e.definitions.filter(function(t){return t.kind==="OperationDefinition"})[0]}function zs(e){return e.definitions.filter(function(t){return t.kind==="OperationDefinition"&&!!t.name}).map(function(t){return t.name.value})[0]||null}function xs(e){return e.definitions.filter(function(t){return t.kind==="FragmentDefinition"})}function jh(e){var t=En(e);return ue(t&&t.operation==="query",91),t}function wh(e){ue(e.kind==="Document",92),ue(e.definitions.length<=1,93);var t=e.definitions[0];return ue(t.kind==="FragmentDefinition",94),t}function gs(e){ms(e);for(var t,r=0,s=e.definitions;r<s.length;r++){var i=s[r];if(i.kind==="OperationDefinition"){var a=i.operation;if(a==="query"||a==="mutation"||a==="subscription")return i}i.kind==="FragmentDefinition"&&!t&&(t=i)}if(t)return t;throw zt(95)}function ql(e){var t=Object.create(null),r=e&&e.variableDefinitions;return r&&r.length&&r.forEach(function(s){s.defaultValue&&is(t,s.variable.name,s.defaultValue)}),t}let Et=null;const Kc={};let vy=1;const jy=()=>class{constructor(){this.id=["slot",vy++,Date.now(),Math.random().toString(36).slice(2)].join(":")}hasValue(){for(let t=Et;t;t=t.parent)if(this.id in t.slots){const r=t.slots[this.id];if(r===Kc)break;return t!==Et&&(Et.slots[this.id]=r),!0}return Et&&(Et.slots[this.id]=Kc),!1}getValue(){if(this.hasValue())return Et.slots[this.id]}withValue(t,r,s,i){const a={__proto__:null,[this.id]:t},o=Et;Et={parent:o,slots:a};try{return r.apply(i,s)}finally{Et=o}}static bind(t){const r=Et;return function(){const s=Et;try{return Et=r,t.apply(this,arguments)}finally{Et=s}}}static noContext(t,r,s){if(Et){const i=Et;try{return Et=null,t.apply(s,r)}finally{Et=i}}else return t.apply(s,r)}};function Jc(e){try{return e()}catch{}}const ro="@wry/context:Slot",wy=Jc(()=>globalThis)||Jc(()=>global)||Object.create(null),Xc=wy,bi=Xc[ro]||Array[ro]||function(e){try{Object.defineProperty(Xc,ro,{value:e,enumerable:!1,writable:!1,configurable:!0})}finally{return e}}(jy()),{bind:_D,noContext:AD}=bi,wa=new bi,{hasOwnProperty:Sy}=Object.prototype,$l=Array.from||function(e){const t=[];return e.forEach(r=>t.push(r)),t};function Bl(e){const{unsubscribe:t}=e;typeof t=="function"&&(e.unsubscribe=void 0,t())}const ai=[],Cy=100;function as(e,t){if(!e)throw new Error(t||"assertion failure")}function Sh(e,t){const r=e.length;return r>0&&r===t.length&&e[r-1]===t[r-1]}function Ch(e){switch(e.length){case 0:throw new Error("unknown value");case 1:return e[0];case 2:throw e[1]}}function Ph(e){return e.slice(0)}class Sa{constructor(t){this.fn=t,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++Sa.count}peek(){if(this.value.length===1&&!rn(this))return Zc(this),this.value[0]}recompute(t){return as(!this.recomputing,"already recomputing"),Zc(this),rn(this)?Py(this,t):Ch(this.value)}setDirty(){this.dirty||(this.dirty=!0,kh(this),Bl(this))}dispose(){this.setDirty(),Mh(this),Vl(this,(t,r)=>{t.setDirty(),Oh(t,this)})}forget(){this.dispose()}dependOn(t){t.add(this),this.deps||(this.deps=ai.pop()||new Set),this.deps.add(t)}forgetDeps(){this.deps&&($l(this.deps).forEach(t=>t.delete(this)),this.deps.clear(),ai.push(this.deps),this.deps=null)}}Sa.count=0;function Zc(e){const t=wa.getValue();if(t)return e.parents.add(t),t.childValues.has(e)||t.childValues.set(e,[]),rn(e)?Ih(t,e):Eh(t,e),t}function Py(e,t){return Mh(e),wa.withValue(e,ky,[e,t]),Iy(e,t)&&Dy(e),Ch(e.value)}function ky(e,t){e.recomputing=!0;const{normalizeResult:r}=e;let s;r&&e.value.length===1&&(s=Ph(e.value)),e.value.length=0;try{if(e.value[0]=e.fn.apply(null,t),r&&s&&!Sh(s,e.value))try{e.value[0]=r(e.value[0],s[0])}catch{}}catch(i){e.value[1]=i}e.recomputing=!1}function rn(e){return e.dirty||!!(e.dirtyChildren&&e.dirtyChildren.size)}function Dy(e){e.dirty=!1,!rn(e)&&Dh(e)}function kh(e){Vl(e,Ih)}function Dh(e){Vl(e,Eh)}function Vl(e,t){const r=e.parents.size;if(r){const s=$l(e.parents);for(let i=0;i<r;++i)t(s[i],e)}}function Ih(e,t){as(e.childValues.has(t)),as(rn(t));const r=!rn(e);if(!e.dirtyChildren)e.dirtyChildren=ai.pop()||new Set;else if(e.dirtyChildren.has(t))return;e.dirtyChildren.add(t),r&&kh(e)}function Eh(e,t){as(e.childValues.has(t)),as(!rn(t));const r=e.childValues.get(t);r.length===0?e.childValues.set(t,Ph(t.value)):Sh(r,t.value)||e.setDirty(),Th(e,t),!rn(e)&&Dh(e)}function Th(e,t){const r=e.dirtyChildren;r&&(r.delete(t),r.size===0&&(ai.length<Cy&&ai.push(r),e.dirtyChildren=null))}function Mh(e){e.childValues.size>0&&e.childValues.forEach((t,r)=>{Oh(e,r)}),e.forgetDeps(),as(e.dirtyChildren===null)}function Oh(e,t){t.parents.delete(e),e.childValues.delete(t),Th(e,t)}function Iy(e,t){if(typeof e.subscribe=="function")try{Bl(e),e.unsubscribe=e.subscribe.apply(null,t)}catch{return e.setDirty(),!1}return!0}const Ey={setDirty:!0,dispose:!0,forget:!0};function Rh(e){const t=new Map;function r(s){const i=wa.getValue();if(i){let a=t.get(s);a||t.set(s,a=new Set),i.dependOn(a)}}return r.dirty=function(i,a){const o=t.get(i);if(o){const l=a&&Sy.call(Ey,a)?a:"setDirty";$l(o).forEach(c=>c[l]()),t.delete(i),Bl(o)}},r}let eu;function Ty(...e){return(eu||(eu=new Wr(typeof WeakMap=="function"))).lookupArray(e)}const no=new Set;function oi(e,{max:t=Math.pow(2,16),keyArgs:r,makeCacheKey:s=Ty,normalizeResult:i,subscribe:a,cache:o=Bo}=Object.create(null)){const l=typeof o=="function"?new o(t,f=>f.dispose()):o,c=function(){const f=s.apply(null,r?r.apply(null,arguments):arguments);if(f===void 0)return e.apply(null,arguments);let p=l.get(f);p||(l.set(f,p=new Sa(e)),p.normalizeResult=i,p.subscribe=a,p.forget=()=>l.delete(f));const g=p.recompute(Array.prototype.slice.call(arguments));return l.set(f,p),no.add(l),wa.hasValue()||(no.forEach(m=>m.clean()),no.clear()),g};Object.defineProperty(c,"size",{get:()=>l.size,configurable:!1,enumerable:!1}),Object.freeze(c.options={max:t,keyArgs:r,makeCacheKey:s,normalizeResult:i,subscribe:a,cache:l});function u(f){const p=f&&l.get(f);p&&p.setDirty()}c.dirtyKey=u,c.dirty=function(){u(s.apply(null,arguments))};function d(f){const p=f&&l.get(f);if(p)return p.peek()}c.peekKey=d,c.peek=function(){return d(s.apply(null,arguments))};function h(f){return f?l.delete(f):!1}return c.forgetKey=h,c.forget=function(){return h(s.apply(null,arguments))},c.makeCacheKey=s,c.getKey=r?function(){return s.apply(null,r.apply(null,arguments))}:s,Object.freeze(c)}function My(e){return e}var Nh=function(){function e(t,r){r===void 0&&(r=Object.create(null)),this.resultCache=Al?new WeakSet:new Set,this.transform=t,r.getCacheKey&&(this.getCacheKey=r.getCacheKey),this.cached=r.cache!==!1,this.resetCache()}return e.prototype.getCacheKey=function(t){return[t]},e.identity=function(){return new e(My,{cache:!1})},e.split=function(t,r,s){return s===void 0&&(s=e.identity()),Object.assign(new e(function(i){var a=t(i)?r:s;return a.transformDocument(i)},{cache:!1}),{left:r,right:s})},e.prototype.resetCache=function(){var t=this;if(this.cached){var r=new Wr(Rn);this.performWork=oi(e.prototype.performWork.bind(this),{makeCacheKey:function(s){var i=t.getCacheKey(s);if(i)return ue(Array.isArray(i),77),r.lookupArray(i)},max:Ir["documentTransform.cache"],cache:na})}},e.prototype.performWork=function(t){return ms(t),this.transform(t)},e.prototype.transformDocument=function(t){if(this.resultCache.has(t))return t;var r=this.performWork(t);return this.resultCache.add(r),r},e.prototype.concat=function(t){var r=this;return Object.assign(new e(function(s){return t.transformDocument(r.transformDocument(s))},{cache:!1}),{left:this,right:t})},e}(),Ys,mn=Object.assign(function(e){var t=Ys.get(e);return t||(t=Eg(e),Ys.set(e,t)),t},{reset:function(){Ys=new Ll(Ir.print||2e3)}});mn.reset();globalThis.__DEV__!==!1&&Wl("print",function(){return Ys?Ys.size:0});var ft=Array.isArray;function sr(e){return Array.isArray(e)&&e.length>0}var tu={kind:le.FIELD,name:{kind:le.NAME,value:"__typename"}};function _h(e,t){return!e||e.selectionSet.selections.every(function(r){return r.kind===le.FRAGMENT_SPREAD&&_h(t[r.name.value],t)})}function Oy(e){return _h(En(e)||wh(e),ps(xs(e)))?null:e}function Ry(e){var t=new Map,r=new Map;return e.forEach(function(s){s&&(s.name?t.set(s.name,s):s.test&&r.set(s.test,s))}),function(s){var i=t.get(s.name.value);return!i&&r.size&&r.forEach(function(a,o){o(s)&&(i=a)}),i}}function ru(e){var t=new Map;return function(s){s===void 0&&(s=e);var i=t.get(s);return i||t.set(s,i={variables:new Set,fragmentSpreads:new Set}),i}}function Ah(e,t){ms(t);for(var r=ru(""),s=ru(""),i=function(y){for(var b=0,j=void 0;b<y.length&&(j=y[b]);++b)if(!ft(j)){if(j.kind===le.OPERATION_DEFINITION)return r(j.name&&j.name.value);if(j.kind===le.FRAGMENT_DEFINITION)return s(j.name.value)}return globalThis.__DEV__!==!1&&ue.error(97),null},a=0,o=t.definitions.length-1;o>=0;--o)t.definitions[o].kind===le.OPERATION_DEFINITION&&++a;var l=Ry(e),c=function(y){return sr(y)&&y.map(l).some(function(b){return b&&b.remove})},u=new Map,d=!1,h={enter:function(y){if(c(y.directives))return d=!0,null}},f=pr(t,{Field:h,InlineFragment:h,VariableDefinition:{enter:function(){return!1}},Variable:{enter:function(y,b,j,P,C){var D=i(C);D&&D.variables.add(y.name.value)}},FragmentSpread:{enter:function(y,b,j,P,C){if(c(y.directives))return d=!0,null;var D=i(C);D&&D.fragmentSpreads.add(y.name.value)}},FragmentDefinition:{enter:function(y,b,j,P){u.set(JSON.stringify(P),y)},leave:function(y,b,j,P){var C=u.get(JSON.stringify(P));if(y===C)return y;if(a>0&&y.selectionSet.selections.every(function(D){return D.kind===le.FIELD&&D.name.value==="__typename"}))return s(y.name.value).removed=!0,d=!0,null}},Directive:{leave:function(y){if(l(y))return d=!0,null}}});if(!d)return t;var p=function(y){return y.transitiveVars||(y.transitiveVars=new Set(y.variables),y.removed||y.fragmentSpreads.forEach(function(b){p(s(b)).transitiveVars.forEach(function(j){y.transitiveVars.add(j)})})),y},g=new Set;f.definitions.forEach(function(y){y.kind===le.OPERATION_DEFINITION?p(r(y.name&&y.name.value)).fragmentSpreads.forEach(function(b){g.add(b)}):y.kind===le.FRAGMENT_DEFINITION&&a===0&&!s(y.name.value).removed&&g.add(y.name.value)}),g.forEach(function(y){p(s(y)).fragmentSpreads.forEach(function(b){g.add(b)})});var m=function(y){return!!(!g.has(y)||s(y).removed)},x={enter:function(y){if(m(y.name.value))return null}};return Oy(pr(f,{FragmentSpread:x,FragmentDefinition:x,OperationDefinition:{leave:function(y){if(y.variableDefinitions){var b=p(r(y.name&&y.name.value)).transitiveVars;if(b.size<y.variableDefinitions.length)return F(F({},y),{variableDefinitions:y.variableDefinitions.filter(function(j){return b.has(j.variable.name.value)})})}}}}))}var zl=Object.assign(function(e){return pr(e,{SelectionSet:{enter:function(t,r,s){if(!(s&&s.kind===le.OPERATION_DEFINITION)){var i=t.selections;if(i){var a=i.some(function(l){return tn(l)&&(l.name.value==="__typename"||l.name.value.lastIndexOf("__",0)===0)});if(!a){var o=s;if(!(tn(o)&&o.directives&&o.directives.some(function(l){return l.name.value==="export"})))return F(F({},t),{selections:Rt(Rt([],i,!0),[tu],!1)})}}}}}})},{added:function(e){return e===tu}});function Ny(e){var t=gs(e),r=t.operation;if(r==="query")return e;var s=pr(e,{OperationDefinition:{enter:function(i){return F(F({},i),{operation:"query"})}}});return s}function Fh(e){ms(e);var t=Ah([{test:function(r){return r.name.value==="client"},remove:!0}],e);return t}function _y(e){return ms(e),pr(e,{FragmentSpread:function(t){var r;if(!(!((r=t.directives)===null||r===void 0)&&r.some(function(s){return s.name.value==="unmask"})))return F(F({},t),{directives:Rt(Rt([],t.directives||[],!0),[{kind:le.DIRECTIVE,name:{kind:le.NAME,value:"nonreactive"}}],!1)})}})}var Ay=Object.prototype.hasOwnProperty;function nu(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Ca(e)}function Ca(e){var t=e[0]||{},r=e.length;if(r>1)for(var s=new nn,i=1;i<r;++i)t=s.merge(t,e[i]);return t}var Fy=function(e,t,r){return this.merge(e[r],t[r])},nn=function(){function e(t){t===void 0&&(t=Fy),this.reconciler=t,this.isObject=ht,this.pastCopies=new Set}return e.prototype.merge=function(t,r){for(var s=this,i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];return ht(r)&&ht(t)?(Object.keys(r).forEach(function(o){if(Ay.call(t,o)){var l=t[o];if(r[o]!==l){var c=s.reconciler.apply(s,Rt([t,r,o],i,!1));c!==l&&(t=s.shallowCopyForMerge(t),t[o]=c)}}else t=s.shallowCopyForMerge(t),t[o]=r[o]}),t):r},e.prototype.shallowCopyForMerge=function(t){return ht(t)&&(this.pastCopies.has(t)||(Array.isArray(t)?t=t.slice(0):t=F({__proto__:Object.getPrototypeOf(t)},t),this.pastCopies.add(t))),t},e}();function Ly(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=Wy(e))||t){r&&(e=r);var s=0;return function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wy(e,t){if(e){if(typeof e=="string")return su(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return su(e,t)}}function su(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function iu(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function Ul(e,t,r){return t&&iu(e.prototype,t),r&&iu(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Ql=function(){return typeof Symbol=="function"},Hl=function(e){return Ql()&&!!Symbol[e]},Yl=function(e){return Hl(e)?Symbol[e]:"@@"+e};Ql()&&!Hl("observable")&&(Symbol.observable=Symbol("observable"));var qy=Yl("iterator"),Ho=Yl("observable"),Lh=Yl("species");function sa(e,t){var r=e[t];if(r!=null){if(typeof r!="function")throw new TypeError(r+" is not a function");return r}}function Ms(e){var t=e.constructor;return t!==void 0&&(t=t[Lh],t===null&&(t=void 0)),t!==void 0?t:at}function $y(e){return e instanceof at}function os(e){os.log?os.log(e):setTimeout(function(){throw e})}function Vi(e){Promise.resolve().then(function(){try{e()}catch(t){os(t)}})}function Wh(e){var t=e._cleanup;if(t!==void 0&&(e._cleanup=void 0,!!t))try{if(typeof t=="function")t();else{var r=sa(t,"unsubscribe");r&&r.call(t)}}catch(s){os(s)}}function Yo(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function By(e){var t=e._queue;if(t){e._queue=void 0,e._state="ready";for(var r=0;r<t.length&&(qh(e,t[r].type,t[r].value),e._state!=="closed");++r);}}function qh(e,t,r){e._state="running";var s=e._observer;try{var i=sa(s,t);switch(t){case"next":i&&i.call(s,r);break;case"error":if(Yo(e),i)i.call(s,r);else throw r;break;case"complete":Yo(e),i&&i.call(s);break}}catch(a){os(a)}e._state==="closed"?Wh(e):e._state==="running"&&(e._state="ready")}function so(e,t,r){if(e._state!=="closed"){if(e._state==="buffering"){e._queue.push({type:t,value:r});return}if(e._state!=="ready"){e._state="buffering",e._queue=[{type:t,value:r}],Vi(function(){return By(e)});return}qh(e,t,r)}}var Vy=function(){function e(r,s){this._cleanup=void 0,this._observer=r,this._queue=void 0,this._state="initializing";var i=new zy(this);try{this._cleanup=s.call(void 0,i)}catch(a){i.error(a)}this._state==="initializing"&&(this._state="ready")}var t=e.prototype;return t.unsubscribe=function(){this._state!=="closed"&&(Yo(this),Wh(this))},Ul(e,[{key:"closed",get:function(){return this._state==="closed"}}]),e}(),zy=function(){function e(r){this._subscription=r}var t=e.prototype;return t.next=function(s){so(this._subscription,"next",s)},t.error=function(s){so(this._subscription,"error",s)},t.complete=function(){so(this._subscription,"complete")},Ul(e,[{key:"closed",get:function(){return this._subscription._state==="closed"}}]),e}(),at=function(){function e(r){if(!(this instanceof e))throw new TypeError("Observable cannot be called as a function");if(typeof r!="function")throw new TypeError("Observable initializer must be a function");this._subscriber=r}var t=e.prototype;return t.subscribe=function(s){return(typeof s!="object"||s===null)&&(s={next:s,error:arguments[1],complete:arguments[2]}),new Vy(s,this._subscriber)},t.forEach=function(s){var i=this;return new Promise(function(a,o){if(typeof s!="function"){o(new TypeError(s+" is not a function"));return}function l(){c.unsubscribe(),a()}var c=i.subscribe({next:function(u){try{s(u,l)}catch(d){o(d),c.unsubscribe()}},error:o,complete:a})})},t.map=function(s){var i=this;if(typeof s!="function")throw new TypeError(s+" is not a function");var a=Ms(this);return new a(function(o){return i.subscribe({next:function(l){try{l=s(l)}catch(c){return o.error(c)}o.next(l)},error:function(l){o.error(l)},complete:function(){o.complete()}})})},t.filter=function(s){var i=this;if(typeof s!="function")throw new TypeError(s+" is not a function");var a=Ms(this);return new a(function(o){return i.subscribe({next:function(l){try{if(!s(l))return}catch(c){return o.error(c)}o.next(l)},error:function(l){o.error(l)},complete:function(){o.complete()}})})},t.reduce=function(s){var i=this;if(typeof s!="function")throw new TypeError(s+" is not a function");var a=Ms(this),o=arguments.length>1,l=!1,c=arguments[1],u=c;return new a(function(d){return i.subscribe({next:function(h){var f=!l;if(l=!0,!f||o)try{u=s(u,h)}catch(p){return d.error(p)}else u=h},error:function(h){d.error(h)},complete:function(){if(!l&&!o)return d.error(new TypeError("Cannot reduce an empty sequence"));d.next(u),d.complete()}})})},t.concat=function(){for(var s=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];var l=Ms(this);return new l(function(c){var u,d=0;function h(f){u=f.subscribe({next:function(p){c.next(p)},error:function(p){c.error(p)},complete:function(){d===a.length?(u=void 0,c.complete()):h(l.from(a[d++]))}})}return h(s),function(){u&&(u.unsubscribe(),u=void 0)}})},t.flatMap=function(s){var i=this;if(typeof s!="function")throw new TypeError(s+" is not a function");var a=Ms(this);return new a(function(o){var l=[],c=i.subscribe({next:function(d){if(s)try{d=s(d)}catch(f){return o.error(f)}var h=a.from(d).subscribe({next:function(f){o.next(f)},error:function(f){o.error(f)},complete:function(){var f=l.indexOf(h);f>=0&&l.splice(f,1),u()}});l.push(h)},error:function(d){o.error(d)},complete:function(){u()}});function u(){c.closed&&l.length===0&&o.complete()}return function(){l.forEach(function(d){return d.unsubscribe()}),c.unsubscribe()}})},t[Ho]=function(){return this},e.from=function(s){var i=typeof this=="function"?this:e;if(s==null)throw new TypeError(s+" is not an object");var a=sa(s,Ho);if(a){var o=a.call(s);if(Object(o)!==o)throw new TypeError(o+" is not an object");return $y(o)&&o.constructor===i?o:new i(function(l){return o.subscribe(l)})}if(Hl("iterator")&&(a=sa(s,qy),a))return new i(function(l){Vi(function(){if(!l.closed){for(var c=Ly(a.call(s)),u;!(u=c()).done;){var d=u.value;if(l.next(d),l.closed)return}l.complete()}})});if(Array.isArray(s))return new i(function(l){Vi(function(){if(!l.closed){for(var c=0;c<s.length;++c)if(l.next(s[c]),l.closed)return;l.complete()}})});throw new TypeError(s+" is not observable")},e.of=function(){for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];var o=typeof this=="function"?this:e;return new o(function(l){Vi(function(){if(!l.closed){for(var c=0;c<i.length;++c)if(l.next(i[c]),l.closed)return;l.complete()}})})},Ul(e,null,[{key:Lh,get:function(){return this}}]),e}();Ql()&&Object.defineProperty(at,Symbol("extensions"),{value:{symbol:Ho,hostReportError:os},configurable:!0});function Uy(e){var t,r=e.Symbol;if(typeof r=="function")if(r.observable)t=r.observable;else{typeof r.for=="function"?t=r.for("https://github.com/benlesh/symbol-observable"):t=r("https://github.com/benlesh/symbol-observable");try{r.observable=t}catch{}}else t="@@observable";return t}var $n;typeof self<"u"?$n=self:typeof window<"u"?$n=window:typeof global<"u"?$n=global:typeof Sl<"u"?$n=Sl:$n=Function("return this")();Uy($n);var au=at.prototype,ou="@@observable";au[ou]||(au[ou]=function(){return this});function Qy(e){return e.catch(function(){}),e}var Hy=Object.prototype.toString;function $h(e){return Go(e)}function Go(e,t){switch(Hy.call(e)){case"[object Array]":{if(t=t||new Map,t.has(e))return t.get(e);var r=e.slice(0);return t.set(e,r),r.forEach(function(i,a){r[a]=Go(i,t)}),r}case"[object Object]":{if(t=t||new Map,t.has(e))return t.get(e);var s=Object.create(Object.getPrototypeOf(e));return t.set(e,s),Object.keys(e).forEach(function(i){s[i]=Go(e[i],t)}),s}default:return e}}function Yy(e){var t=new Set([e]);return t.forEach(function(r){ht(r)&&Gy(r)===r&&Object.getOwnPropertyNames(r).forEach(function(s){ht(r[s])&&t.add(r[s])})}),e}function Gy(e){if(globalThis.__DEV__!==!1&&!Object.isFrozen(e))try{Object.freeze(e)}catch(t){if(t instanceof TypeError)return null;throw t}return e}function ls(e){return globalThis.__DEV__!==!1&&Yy(e),e}function Gs(e,t,r){var s=[];e.forEach(function(i){return i[t]&&s.push(i)}),s.forEach(function(i){return i[t](r)})}function io(e,t,r){return new at(function(s){var i={then:function(c){return new Promise(function(u){return u(c())})}};function a(c,u){return function(d){if(c){var h=function(){return s.closed?0:c(d)};i=i.then(h,h).then(function(f){return s.next(f)},function(f){return s.error(f)})}else s[u](d)}}var o={next:a(t,"next"),error:a(r,"error"),complete:function(){i.then(function(){return s.complete()})}},l=e.subscribe(o);return function(){return l.unsubscribe()}})}function Bh(e){function t(r){Object.defineProperty(e,r,{value:at})}return Fl&&Symbol.species&&t(Symbol.species),t("@@species"),e}function lu(e){return e&&typeof e.then=="function"}var Bn=function(e){yr(t,e);function t(r){var s=e.call(this,function(i){return s.addObserver(i),function(){return s.removeObserver(i)}})||this;return s.observers=new Set,s.promise=new Promise(function(i,a){s.resolve=i,s.reject=a}),s.handlers={next:function(i){s.sub!==null&&(s.latest=["next",i],s.notify("next",i),Gs(s.observers,"next",i))},error:function(i){var a=s.sub;a!==null&&(a&&setTimeout(function(){return a.unsubscribe()}),s.sub=null,s.latest=["error",i],s.reject(i),s.notify("error",i),Gs(s.observers,"error",i))},complete:function(){var i=s,a=i.sub,o=i.sources,l=o===void 0?[]:o;if(a!==null){var c=l.shift();c?lu(c)?c.then(function(u){return s.sub=u.subscribe(s.handlers)},s.handlers.error):s.sub=c.subscribe(s.handlers):(a&&setTimeout(function(){return a.unsubscribe()}),s.sub=null,s.latest&&s.latest[0]==="next"?s.resolve(s.latest[1]):s.resolve(),s.notify("complete"),Gs(s.observers,"complete"))}}},s.nextResultListeners=new Set,s.cancel=function(i){s.reject(i),s.sources=[],s.handlers.error(i)},s.promise.catch(function(i){}),typeof r=="function"&&(r=[new at(r)]),lu(r)?r.then(function(i){return s.start(i)},s.handlers.error):s.start(r),s}return t.prototype.start=function(r){this.sub===void 0&&(this.sources=Array.from(r),this.handlers.complete())},t.prototype.deliverLastMessage=function(r){if(this.latest){var s=this.latest[0],i=r[s];i&&i.call(r,this.latest[1]),this.sub===null&&s==="next"&&r.complete&&r.complete()}},t.prototype.addObserver=function(r){this.observers.has(r)||(this.deliverLastMessage(r),this.observers.add(r))},t.prototype.removeObserver=function(r){this.observers.delete(r)&&this.observers.size<1&&this.handlers.complete()},t.prototype.notify=function(r,s){var i=this.nextResultListeners;i.size&&(this.nextResultListeners=new Set,i.forEach(function(a){return a(r,s)}))},t.prototype.beforeNext=function(r){var s=!1;this.nextResultListeners.add(function(i,a){s||(s=!0,r(i,a))})},t}(at);Bh(Bn);function Jn(e){return"incremental"in e}function Ky(e){return"hasNext"in e&&"data"in e}function Jy(e){return Jn(e)||Ky(e)}function Xy(e){return ht(e)&&"payload"in e}function Vh(e,t){var r=e,s=new nn;return Jn(t)&&sr(t.incremental)&&t.incremental.forEach(function(i){for(var a=i.data,o=i.path,l=o.length-1;l>=0;--l){var c=o[l],u=!isNaN(+c),d=u?[]:{};d[c]=a,a=d}r=s.merge(r,a)}),r}function zi(e){var t=Ko(e);return sr(t)}function Ko(e){var t=sr(e.errors)?e.errors.slice(0):[];return Jn(e)&&sr(e.incremental)&&e.incremental.forEach(function(r){r.errors&&t.push.apply(t,r.errors)}),t}function Tn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Object.create(null);return e.forEach(function(s){s&&Object.keys(s).forEach(function(i){var a=s[i];a!==void 0&&(r[i]=a)})}),r}function vn(e,t){return Tn(e,t,t.variables&&{variables:Tn(F(F({},e&&e.variables),t.variables))})}function ao(e){return new at(function(t){t.error(e)})}var zh=function(e,t,r){var s=new Error(r);throw s.name="ServerError",s.response=e,s.statusCode=e.status,s.result=t,s};function Zy(e){for(var t=["query","operationName","variables","extensions","context"],r=0,s=Object.keys(e);r<s.length;r++){var i=s[r];if(t.indexOf(i)<0)throw zt(46,i)}return e}function e0(e,t){var r=F({},e),s=function(a){typeof a=="function"?r=F(F({},r),a(r)):r=F(F({},r),a)},i=function(){return F({},r)};return Object.defineProperty(t,"setContext",{enumerable:!1,value:s}),Object.defineProperty(t,"getContext",{enumerable:!1,value:i}),t}function t0(e){var t={variables:e.variables||{},extensions:e.extensions||{},operationName:e.operationName,query:e.query};return t.operationName||(t.operationName=typeof t.query!="string"?zs(t.query)||void 0:""),t}function r0(e,t){var r=F({},e),s=new Set(Object.keys(e));return pr(t,{Variable:function(i,a,o){o&&o.kind!=="VariableDefinition"&&s.delete(i.name.value)}}),s.forEach(function(i){delete r[i]}),r}function cu(e,t){return t?t(e):at.of()}function Os(e){return typeof e=="function"?new Tr(e):e}function Ni(e){return e.request.length<=1}var Tr=function(){function e(t){t&&(this.request=t)}return e.empty=function(){return new e(function(){return at.of()})},e.from=function(t){return t.length===0?e.empty():t.map(Os).reduce(function(r,s){return r.concat(s)})},e.split=function(t,r,s){var i=Os(r),a=Os(s||new e(cu)),o;return Ni(i)&&Ni(a)?o=new e(function(l){return t(l)?i.request(l)||at.of():a.request(l)||at.of()}):o=new e(function(l,c){return t(l)?i.request(l,c)||at.of():a.request(l,c)||at.of()}),Object.assign(o,{left:i,right:a})},e.execute=function(t,r){return t.request(e0(r.context,t0(Zy(r))))||at.of()},e.concat=function(t,r){var s=Os(t);if(Ni(s))return globalThis.__DEV__!==!1&&ue.warn(38,s),s;var i=Os(r),a;return Ni(i)?a=new e(function(o){return s.request(o,function(l){return i.request(l)||at.of()})||at.of()}):a=new e(function(o,l){return s.request(o,function(c){return i.request(c,l)||at.of()})||at.of()}),Object.assign(a,{left:s,right:i})},e.prototype.split=function(t,r,s){return this.concat(e.split(t,r,s||new e(cu)))},e.prototype.concat=function(t){return e.concat(this,t)},e.prototype.request=function(t,r){throw zt(39)},e.prototype.onError=function(t,r){if(r&&r.error)return r.error(t),!1;throw t},e.prototype.setOnError=function(t){return this.onError=t,this},e}(),n0=Tr.from,Jo=Tr.execute;function s0(e){var t,r=e[Symbol.asyncIterator]();return t={next:function(){return r.next()}},t[Symbol.asyncIterator]=function(){return this},t}function i0(e){var t=null,r=null,s=!1,i=[],a=[];function o(h){if(!r){if(a.length){var f=a.shift();if(Array.isArray(f)&&f[0])return f[0]({value:h,done:!1})}i.push(h)}}function l(h){r=h;var f=a.slice();f.forEach(function(p){p[1](h)}),!t||t()}function c(){s=!0;var h=a.slice();h.forEach(function(f){f[0]({value:void 0,done:!0})}),!t||t()}t=function(){t=null,e.removeListener("data",o),e.removeListener("error",l),e.removeListener("end",c),e.removeListener("finish",c),e.removeListener("close",c)},e.on("data",o),e.on("error",l),e.on("end",c),e.on("finish",c),e.on("close",c);function u(){return new Promise(function(h,f){if(r)return f(r);if(i.length)return h({value:i.shift(),done:!1});if(s)return h({value:void 0,done:!0});a.push([h,f])})}var d={next:function(){return u()}};return ba&&(d[Symbol.asyncIterator]=function(){return this}),d}function a0(e){var t=!1,r={next:function(){return t?Promise.resolve({value:void 0,done:!0}):(t=!0,new Promise(function(s,i){e.then(function(a){s({value:a,done:!1})}).catch(i)}))}};return ba&&(r[Symbol.asyncIterator]=function(){return this}),r}function uu(e){var t={next:function(){return e.read()}};return ba&&(t[Symbol.asyncIterator]=function(){return this}),t}function o0(e){return!!e.body}function l0(e){return!!e.getReader}function c0(e){return!!(ba&&e[Symbol.asyncIterator])}function u0(e){return!!e.stream}function d0(e){return!!e.arrayBuffer}function h0(e){return!!e.pipe}function f0(e){var t=e;if(o0(e)&&(t=e.body),c0(t))return s0(t);if(l0(t))return uu(t.getReader());if(u0(t))return uu(t.stream().getReader());if(d0(t))return a0(t.arrayBuffer());if(h0(t))return i0(t);throw new Error("Unknown body type for responseIterator. Please pass a streamable response.")}var Pa=Symbol();function Uh(e){return e.extensions?Array.isArray(e.extensions[Pa]):!1}function Qh(e){return e.hasOwnProperty("graphQLErrors")}var p0=function(e){var t=Rt(Rt(Rt([],e.graphQLErrors,!0),e.clientErrors,!0),e.protocolErrors,!0);return e.networkError&&t.push(e.networkError),t.map(function(r){return ht(r)&&r.message||"Error message not found."}).join(`
`)},Sr=function(e){yr(t,e);function t(r){var s=r.graphQLErrors,i=r.protocolErrors,a=r.clientErrors,o=r.networkError,l=r.errorMessage,c=r.extraInfo,u=e.call(this,l)||this;return u.name="ApolloError",u.graphQLErrors=s||[],u.protocolErrors=i||[],u.clientErrors=a||[],u.networkError=o||null,u.message=l||p0(u),u.extraInfo=c,u.cause=Rt(Rt(Rt([o],s||[],!0),i||[],!0),a||[],!0).find(function(d){return!!d})||null,u.__proto__=t.prototype,u}return t}(Error),du=Object.prototype.hasOwnProperty;function m0(e,t){return Ur(this,void 0,void 0,function(){var r,s,i,a,o,l,c,u,d,h,f,p,g,m,x,y,b,j,P,C,D,T,I,M;return Qr(this,function(W){switch(W.label){case 0:if(TextDecoder===void 0)throw new Error("TextDecoder must be defined in the environment: please import a polyfill.");r=new TextDecoder("utf-8"),s=(M=e.headers)===null||M===void 0?void 0:M.get("content-type"),i="boundary=",a=s!=null&&s.includes(i)?s==null?void 0:s.substring((s==null?void 0:s.indexOf(i))+i.length).replace(/['"]/g,"").replace(/\;(.*)/gm,"").trim():"-",o=`\r
--`.concat(a),l="",c=f0(e),u=!0,W.label=1;case 1:return u?[4,c.next()]:[3,3];case 2:for(d=W.sent(),h=d.value,f=d.done,p=typeof h=="string"?h:r.decode(h),g=l.length-o.length+1,u=!f,l+=p,m=l.indexOf(o,g);m>-1;){if(x=void 0,T=[l.slice(0,m),l.slice(m+o.length)],x=T[0],l=T[1],y=x.indexOf(`\r
\r
`),b=x0(x.slice(0,y)),j=b["content-type"],j&&j.toLowerCase().indexOf("application/json")===-1)throw new Error("Unsupported patch content type: application/json is required.");if(P=x.slice(y),P){if(C=Hh(e,P),Object.keys(C).length>1||"data"in C||"incremental"in C||"errors"in C||"payload"in C)if(Xy(C)){if(D={},"payload"in C){if(Object.keys(C).length===1&&C.payload===null)return[2];D=F({},C.payload)}"errors"in C&&(D=F(F({},D),{extensions:F(F({},"extensions"in D?D.extensions:null),(I={},I[Pa]=C.errors,I))})),t(D)}else t(C);else if(Object.keys(C).length===1&&"hasNext"in C&&!C.hasNext)return[2]}m=l.indexOf(o)}return[3,1];case 3:return[2]}})})}function x0(e){var t={};return e.split(`
`).forEach(function(r){var s=r.indexOf(":");if(s>-1){var i=r.slice(0,s).trim().toLowerCase(),a=r.slice(s+1).trim();t[i]=a}}),t}function Hh(e,t){if(e.status>=300){var r=function(){try{return JSON.parse(t)}catch{return t}};zh(e,r(),"Response not successful: Received status code ".concat(e.status))}try{return JSON.parse(t)}catch(i){var s=i;throw s.name="ServerParseError",s.response=e,s.statusCode=e.status,s.bodyText=t,s}}function g0(e,t){e.result&&e.result.errors&&e.result.data&&t.next(e.result),t.error(e)}function y0(e){return function(t){return t.text().then(function(r){return Hh(t,r)}).then(function(r){return!Array.isArray(r)&&!du.call(r,"data")&&!du.call(r,"errors")&&zh(t,r,"Server response was missing for query '".concat(Array.isArray(e)?e.map(function(s){return s.operationName}):e.operationName,"'.")),r})}}var Xo=function(e,t){var r;try{r=JSON.stringify(e)}catch(i){var s=zt(42,t,i.message);throw s.parseError=i,s}return r},b0={includeQuery:!0,includeExtensions:!1,preserveHeaderCase:!1},v0={accept:"*/*","content-type":"application/json"},j0={method:"POST"},w0={http:b0,headers:v0,options:j0},S0=function(e,t){return t(e)};function C0(e,t){for(var r=[],s=2;s<arguments.length;s++)r[s-2]=arguments[s];var i={},a={};r.forEach(function(h){i=F(F(F({},i),h.options),{headers:F(F({},i.headers),h.headers)}),h.credentials&&(i.credentials=h.credentials),a=F(F({},a),h.http)}),i.headers&&(i.headers=P0(i.headers,a.preserveHeaderCase));var o=e.operationName,l=e.extensions,c=e.variables,u=e.query,d={operationName:o,variables:c};return a.includeExtensions&&(d.extensions=l),a.includeQuery&&(d.query=t(u,mn)),{options:i,body:d}}function P0(e,t){if(!t){var r={};return Object.keys(Object(e)).forEach(function(a){r[a.toLowerCase()]=e[a]}),r}var s={};Object.keys(Object(e)).forEach(function(a){s[a.toLowerCase()]={originalName:a,value:e[a]}});var i={};return Object.keys(s).forEach(function(a){i[s[a].originalName]=s[a].value}),i}var k0=function(e){if(!e&&typeof fetch>"u")throw zt(40)},D0=function(e,t){var r=e.getContext(),s=r.uri;return s||(typeof t=="function"?t(e):t||"/graphql")};function I0(e,t){var r=[],s=function(h,f){r.push("".concat(h,"=").concat(encodeURIComponent(f)))};if("query"in t&&s("query",t.query),t.operationName&&s("operationName",t.operationName),t.variables){var i=void 0;try{i=Xo(t.variables,"Variables map")}catch(h){return{parseError:h}}s("variables",i)}if(t.extensions){var a=void 0;try{a=Xo(t.extensions,"Extensions map")}catch(h){return{parseError:h}}s("extensions",a)}var o="",l=e,c=e.indexOf("#");c!==-1&&(o=e.substr(c),l=e.substr(0,c));var u=l.indexOf("?")===-1?"?":"&",d=l+u+r.join("&")+o;return{newURI:d}}var hu=ur(function(){return fetch}),E0=function(e){e===void 0&&(e={});var t=e.uri,r=t===void 0?"/graphql":t,s=e.fetch,i=e.print,a=i===void 0?S0:i,o=e.includeExtensions,l=e.preserveHeaderCase,c=e.useGETForQueries,u=e.includeUnusedVariables,d=u===void 0?!1:u,h=hr(e,["uri","fetch","print","includeExtensions","preserveHeaderCase","useGETForQueries","includeUnusedVariables"]);globalThis.__DEV__!==!1&&k0(s||hu);var f={http:{includeExtensions:o,preserveHeaderCase:l},options:h.fetchOptions,credentials:h.credentials,headers:h.headers};return new Tr(function(p){var g=D0(p,r),m=p.getContext(),x={};if(m.clientAwareness){var y=m.clientAwareness,b=y.name,j=y.version;b&&(x["apollographql-client-name"]=b),j&&(x["apollographql-client-version"]=j)}var P=F(F({},x),m.headers),C={http:m.http,options:m.fetchOptions,credentials:m.credentials,headers:P};if(ii(["client"],p.query)){var D=Fh(p.query);if(!D)return ao(new Error("HttpLink: Trying to send a client-only query to the server. To send to the server, ensure a non-client field is added to the query or set the `transformOptions.removeClientFields` option to `true`."));p.query=D}var T=C0(p,a,w0,f,C),I=T.options,M=T.body;M.variables&&!d&&(M.variables=r0(M.variables,p.query));var W;!I.signal&&typeof AbortController<"u"&&(W=new AbortController,I.signal=W.signal);var z=function(B){return B.kind==="OperationDefinition"&&B.operation==="mutation"},L=function(B){return B.kind==="OperationDefinition"&&B.operation==="subscription"},U=L(gs(p.query)),w=ii(["defer"],p.query);if(c&&!p.query.definitions.some(z)&&(I.method="GET"),w||U){I.headers=I.headers||{};var _="multipart/mixed;";U&&w&&globalThis.__DEV__!==!1&&ue.warn(41),U?_+="boundary=graphql;subscriptionSpec=1.0,application/json":w&&(_+="deferSpec=20220824,application/json"),I.headers.accept=_}if(I.method==="GET"){var N=I0(g,M),A=N.newURI,O=N.parseError;if(O)return ao(O);g=A}else try{I.body=Xo(M,"Payload")}catch(B){return ao(B)}return new at(function(B){var G=s||ur(function(){return fetch})||hu,me=B.next.bind(B);return G(g,I).then(function(he){var J;p.setContext({response:he});var ne=(J=he.headers)===null||J===void 0?void 0:J.get("content-type");return ne!==null&&/^multipart\/mixed/i.test(ne)?m0(he,me):y0(p)(he).then(me)}).then(function(){W=void 0,B.complete()}).catch(function(he){W=void 0,g0(he,B)}),function(){W&&W.abort()}})})},Nn=function(e){yr(t,e);function t(r){r===void 0&&(r={});var s=e.call(this,E0(r).request)||this;return s.options=r,s}return t}(Tr);const{toString:fu,hasOwnProperty:T0}=Object.prototype,pu=Function.prototype.toString,Zo=new Map;function et(e,t){try{return el(e,t)}finally{Zo.clear()}}function el(e,t){if(e===t)return!0;const r=fu.call(e),s=fu.call(t);if(r!==s)return!1;switch(r){case"[object Array]":if(e.length!==t.length)return!1;case"[object Object]":{if(xu(e,t))return!0;const i=mu(e),a=mu(t),o=i.length;if(o!==a.length)return!1;for(let l=0;l<o;++l)if(!T0.call(t,i[l]))return!1;for(let l=0;l<o;++l){const c=i[l];if(!el(e[c],t[c]))return!1}return!0}case"[object Error]":return e.name===t.name&&e.message===t.message;case"[object Number]":if(e!==e)return t!==t;case"[object Boolean]":case"[object Date]":return+e==+t;case"[object RegExp]":case"[object String]":return e==`${t}`;case"[object Map]":case"[object Set]":{if(e.size!==t.size)return!1;if(xu(e,t))return!0;const i=e.entries(),a=r==="[object Map]";for(;;){const o=i.next();if(o.done)break;const[l,c]=o.value;if(!t.has(l)||a&&!el(c,t.get(l)))return!1}return!0}case"[object Uint16Array]":case"[object Uint8Array]":case"[object Uint32Array]":case"[object Int32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object ArrayBuffer]":e=new Uint8Array(e),t=new Uint8Array(t);case"[object DataView]":{let i=e.byteLength;if(i===t.byteLength)for(;i--&&e[i]===t[i];);return i===-1}case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":{const i=pu.call(e);return i!==pu.call(t)?!1:!R0(i,O0)}}return!1}function mu(e){return Object.keys(e).filter(M0,e)}function M0(e){return this[e]!==void 0}const O0="{ [native code] }";function R0(e,t){const r=e.length-t.length;return r>=0&&e.indexOf(t,r)===r}function xu(e,t){let r=Zo.get(e);if(r){if(r.has(t))return!0}else Zo.set(e,r=new Set);return r.add(t),!1}function Yh(e,t,r,s){var i=t.data,a=hr(t,["data"]),o=r.data,l=hr(r,["data"]);return et(a,l)&&Ui(gs(e).selectionSet,i,o,{fragmentMap:ps(xs(e)),variables:s})}function Ui(e,t,r,s){if(t===r)return!0;var i=new Set;return e.selections.every(function(a){if(i.has(a)||(i.add(a),!yi(a,s.variables))||gu(a))return!0;if(tn(a)){var o=Nr(a),l=t&&t[o],c=r&&r[o],u=a.selectionSet;if(!u)return et(l,c);var d=Array.isArray(l),h=Array.isArray(c);if(d!==h)return!1;if(d&&h){var f=l.length;if(c.length!==f)return!1;for(var p=0;p<f;++p)if(!Ui(u,l[p],c[p],s))return!1;return!0}return Ui(u,l,c,s)}else{var g=va(a,s.fragmentMap);if(g)return gu(g)?!0:Ui(g.selectionSet,t,r,s)}})}function gu(e){return!!e.directives&&e.directives.some(N0)}function N0(e){return e.name.value==="nonreactive"}var Gh=Rn?WeakMap:Map,Kh=Al?WeakSet:Set,Gl=new bi,yu=!1;function Jh(){yu||(yu=!0,globalThis.__DEV__!==!1&&ue.warn(52))}function Xh(e,t,r){return Gl.withValue(!0,function(){var s=Us(e,t,r,!1);return Object.isFrozen(e)&&ls(s),s})}function _0(e,t){if(t.has(e))return t.get(e);var r=Array.isArray(e)?[]:Object.create(null);return t.set(e,r),r}function Us(e,t,r,s,i){var a,o=r.knownChanged,l=_0(e,r.mutableTargets);if(Array.isArray(e)){for(var c=0,u=Array.from(e.entries());c<u.length;c++){var d=u[c],h=d[0],f=d[1];if(f===null){l[h]=null;continue}var p=Us(f,t,r,s,globalThis.__DEV__!==!1?"".concat(i||"","[").concat(h,"]"):void 0);o.has(p)&&o.add(l),l[h]=p}return o.has(l)?l:e}for(var g=0,m=t.selections;g<m.length;g++){var x=m[g],y=void 0;if(s&&o.add(l),x.kind===le.FIELD){var b=Nr(x),j=x.selectionSet;if(y=l[b]||e[b],y===void 0)continue;if(j&&y!==null){var p=Us(e[b],j,r,s,globalThis.__DEV__!==!1?"".concat(i||"",".").concat(b):void 0);o.has(p)&&(y=p)}globalThis.__DEV__===!1&&(l[b]=y),globalThis.__DEV__!==!1&&(s&&b!=="__typename"&&!(!((a=Object.getOwnPropertyDescriptor(l,b))===null||a===void 0)&&a.value)?Object.defineProperty(l,b,A0(b,y,i||"",r.operationName,r.operationType)):(delete l[b],l[b]=y))}if(x.kind===le.INLINE_FRAGMENT&&(!x.typeCondition||r.cache.fragmentMatches(x,e.__typename))&&(y=Us(e,x.selectionSet,r,s,i)),x.kind===le.FRAGMENT_SPREAD){var P=x.name.value,C=r.fragmentMap[P]||(r.fragmentMap[P]=r.cache.lookupFragment(P));ue(C,47,P);var D=_g(x);D!=="mask"&&(y=Us(e,C.selectionSet,r,D==="migrate",i))}o.has(y)&&o.add(l)}return"__typename"in e&&!("__typename"in l)&&(l.__typename=e.__typename),Object.keys(l).length!==Object.keys(e).length&&o.add(l),o.has(l)?l:e}function A0(e,t,r,s,i){var a=function(){return Gl.getValue()||(globalThis.__DEV__!==!1&&ue.warn(48,s?"".concat(i," '").concat(s,"'"):"anonymous ".concat(i),"".concat(r,".").concat(e).replace(/^\./,"")),a=function(){return t}),t};return{get:function(){return a()},set:function(o){a=function(){return o}},enumerable:!0,configurable:!0}}function Zh(e,t,r,s){if(!r.fragmentMatches)return globalThis.__DEV__!==!1&&Jh(),e;var i=t.definitions.filter(function(o){return o.kind===le.FRAGMENT_DEFINITION});typeof s>"u"&&(ue(i.length===1,49,i.length),s=i[0].name.value);var a=i.find(function(o){return o.name.value===s});return ue(!!a,50,s),e==null||et(e,{})?e:Xh(e,a.selectionSet,{operationType:"fragment",operationName:a.name.value,fragmentMap:ps(xs(t)),cache:r,mutableTargets:new Gh,knownChanged:new Kh})}function F0(e,t,r){var s;if(!r.fragmentMatches)return globalThis.__DEV__!==!1&&Jh(),e;var i=En(t);return ue(i,51),e==null?e:Xh(e,i.selectionSet,{operationType:i.operation,operationName:(s=i.name)===null||s===void 0?void 0:s.value,fragmentMap:ps(xs(t)),cache:r,mutableTargets:new Gh,knownChanged:new Kh})}var ef=function(){function e(){this.assumeImmutableResults=!1,this.getFragmentDoc=oi(Bg,{max:Ir["cache.fragmentQueryDocuments"]||1e3,cache:na})}return e.prototype.lookupFragment=function(t){return null},e.prototype.batch=function(t){var r=this,s=typeof t.optimistic=="string"?t.optimistic:t.optimistic===!1?null:void 0,i;return this.performTransaction(function(){return i=t.update(r)},s),i},e.prototype.recordOptimisticTransaction=function(t,r){this.performTransaction(t,r)},e.prototype.transformDocument=function(t){return t},e.prototype.transformForLink=function(t){return t},e.prototype.identify=function(t){},e.prototype.gc=function(){return[]},e.prototype.modify=function(t){return!1},e.prototype.readQuery=function(t,r){return r===void 0&&(r=!!t.optimistic),this.read(F(F({},t),{rootId:t.id||"ROOT_QUERY",optimistic:r}))},e.prototype.watchFragment=function(t){var r=this,s=t.fragment,i=t.fragmentName,a=t.from,o=t.optimistic,l=o===void 0?!0:o,c=hr(t,["fragment","fragmentName","from","optimistic"]),u=this.getFragmentDoc(s,i),d=typeof a>"u"||typeof a=="string"?a:this.identify(a),h=!!t[Symbol.for("apollo.dataMasking")];if(globalThis.__DEV__!==!1){var f=i||wh(s).name.value;d||globalThis.__DEV__!==!1&&ue.warn(1,f)}var p=F(F({},c),{returnPartialData:!0,id:d,query:u,optimistic:l}),g;return new at(function(m){return r.watch(F(F({},p),{immediate:!0,callback:function(x){var y=h?Zh(x.result,s,r,i):x.result;if(!(g&&Yh(u,{data:g.result},{data:y},t.variables))){var b={data:y,complete:!!x.complete};x.missing&&(b.missing=Ca(x.missing.map(function(j){return j.missing}))),g=F(F({},x),{result:y}),m.next(b)}}}))})},e.prototype.readFragment=function(t,r){return r===void 0&&(r=!!t.optimistic),this.read(F(F({},t),{query:this.getFragmentDoc(t.fragment,t.fragmentName),rootId:t.id,optimistic:r}))},e.prototype.writeQuery=function(t){var r=t.id,s=t.data,i=hr(t,["id","data"]);return this.write(Object.assign(i,{dataId:r||"ROOT_QUERY",result:s}))},e.prototype.writeFragment=function(t){var r=t.id,s=t.data,i=t.fragment,a=t.fragmentName,o=hr(t,["id","data","fragment","fragmentName"]);return this.write(Object.assign(o,{query:this.getFragmentDoc(i,a),dataId:r,result:s}))},e.prototype.updateQuery=function(t,r){return this.batch({update:function(s){var i=s.readQuery(t),a=r(i);return a==null?i:(s.writeQuery(F(F({},t),{data:a})),a)}})},e.prototype.updateFragment=function(t,r){return this.batch({update:function(s){var i=s.readFragment(t),a=r(i);return a==null?i:(s.writeFragment(F(F({},t),{data:a})),a)}})},e}();globalThis.__DEV__!==!1&&(ef.prototype.getMemoryInternals=ey);var tf=function(e){yr(t,e);function t(r,s,i,a){var o,l=e.call(this,r)||this;if(l.message=r,l.path=s,l.query=i,l.variables=a,Array.isArray(l.path)){l.missing=l.message;for(var c=l.path.length-1;c>=0;--c)l.missing=(o={},o[l.path[c]]=l.missing,o)}else l.missing=l.path;return l.__proto__=t.prototype,l}return t}(Error),Dt=Object.prototype.hasOwnProperty;function Rs(e){return e==null}function rf(e,t){var r=e.__typename,s=e.id,i=e._id;if(typeof r=="string"&&(t&&(t.keyObject=Rs(s)?Rs(i)?void 0:{_id:i}:{id:s}),Rs(s)&&!Rs(i)&&(s=i),!Rs(s)))return"".concat(r,":").concat(typeof s=="number"||typeof s=="string"?s:JSON.stringify(s))}var nf={dataIdFromObject:rf,addTypename:!0,resultCaching:!0,canonizeResults:!1};function L0(e){return Tn(nf,e)}function sf(e){var t=e.canonizeResults;return t===void 0?nf.canonizeResults:t}function W0(e,t){return rt(t)?e.get(t.__ref,"__typename"):t&&t.__typename}var af=/^[_a-z][_0-9a-z]*/i;function sn(e){var t=e.match(af);return t?t[0]:e}function tl(e,t,r){return ht(t)?ft(t)?t.every(function(s){return tl(e,s,r)}):e.selections.every(function(s){if(tn(s)&&yi(s,r)){var i=Nr(s);return Dt.call(t,i)&&(!s.selectionSet||tl(s.selectionSet,t[i],r))}return!0}):!1}function Qn(e){return ht(e)&&!rt(e)&&!ft(e)}function q0(){return new nn}function of(e,t){var r=ps(xs(e));return{fragmentMap:r,lookupFragment:function(s){var i=r[s];return!i&&t&&(i=t.lookup(s)),i||null}}}var Qi=Object.create(null),oo=function(){return Qi},bu=Object.create(null),li=function(){function e(t,r){var s=this;this.policies=t,this.group=r,this.data=Object.create(null),this.rootIds=Object.create(null),this.refs=Object.create(null),this.getFieldValue=function(i,a){return ls(rt(i)?s.get(i.__ref,a):i&&i[a])},this.canRead=function(i){return rt(i)?s.has(i.__ref):typeof i=="object"},this.toReference=function(i,a){if(typeof i=="string")return Kn(i);if(rt(i))return i;var o=s.policies.identify(i)[0];if(o){var l=Kn(o);return a&&s.merge(o,i),l}}}return e.prototype.toObject=function(){return F({},this.data)},e.prototype.has=function(t){return this.lookup(t,!0)!==void 0},e.prototype.get=function(t,r){if(this.group.depend(t,r),Dt.call(this.data,t)){var s=this.data[t];if(s&&Dt.call(s,r))return s[r]}if(r==="__typename"&&Dt.call(this.policies.rootTypenamesById,t))return this.policies.rootTypenamesById[t];if(this instanceof zr)return this.parent.get(t,r)},e.prototype.lookup=function(t,r){if(r&&this.group.depend(t,"__exists"),Dt.call(this.data,t))return this.data[t];if(this instanceof zr)return this.parent.lookup(t,r);if(this.policies.rootTypenamesById[t])return Object.create(null)},e.prototype.merge=function(t,r){var s=this,i;rt(t)&&(t=t.__ref),rt(r)&&(r=r.__ref);var a=typeof t=="string"?this.lookup(i=t):t,o=typeof r=="string"?this.lookup(i=r):r;if(o){ue(typeof i=="string",2);var l=new nn(B0).merge(a,o);if(this.data[i]=l,l!==a&&(delete this.refs[i],this.group.caching)){var c=Object.create(null);a||(c.__exists=1),Object.keys(o).forEach(function(u){if(!a||a[u]!==l[u]){c[u]=1;var d=sn(u);d!==u&&!s.policies.hasKeyArgs(l.__typename,d)&&(c[d]=1),l[u]===void 0&&!(s instanceof zr)&&delete l[u]}}),c.__typename&&!(a&&a.__typename)&&this.policies.rootTypenamesById[i]===l.__typename&&delete c.__typename,Object.keys(c).forEach(function(u){return s.group.dirty(i,u)})}}},e.prototype.modify=function(t,r){var s=this,i=this.lookup(t);if(i){var a=Object.create(null),o=!1,l=!0,c={DELETE:Qi,INVALIDATE:bu,isReference:rt,toReference:this.toReference,canRead:this.canRead,readField:function(u,d){return s.policies.readField(typeof u=="string"?{fieldName:u,from:d||Kn(t)}:u,{store:s})}};if(Object.keys(i).forEach(function(u){var d=sn(u),h=i[u];if(h!==void 0){var f=typeof r=="function"?r:r[u]||r[d];if(f){var p=f===oo?Qi:f(ls(h),F(F({},c),{fieldName:d,storeFieldName:u,storage:s.getStorage(t,u)}));if(p===bu)s.group.dirty(t,u);else if(p===Qi&&(p=void 0),p!==h&&(a[u]=p,o=!0,h=p,globalThis.__DEV__!==!1)){var g=function(C){if(s.lookup(C.__ref)===void 0)return globalThis.__DEV__!==!1&&ue.warn(3,C),!0};if(rt(p))g(p);else if(Array.isArray(p))for(var m=!1,x=void 0,y=0,b=p;y<b.length;y++){var j=b[y];if(rt(j)){if(m=!0,g(j))break}else if(typeof j=="object"&&j){var P=s.policies.identify(j)[0];P&&(x=j)}if(m&&x!==void 0){globalThis.__DEV__!==!1&&ue.warn(4,x);break}}}}h!==void 0&&(l=!1)}}),o)return this.merge(t,a),l&&(this instanceof zr?this.data[t]=void 0:delete this.data[t],this.group.dirty(t,"__exists")),!0}return!1},e.prototype.delete=function(t,r,s){var i,a=this.lookup(t);if(a){var o=this.getFieldValue(a,"__typename"),l=r&&s?this.policies.getStoreFieldName({typename:o,fieldName:r,args:s}):r;return this.modify(t,l?(i={},i[l]=oo,i):oo)}return!1},e.prototype.evict=function(t,r){var s=!1;return t.id&&(Dt.call(this.data,t.id)&&(s=this.delete(t.id,t.fieldName,t.args)),this instanceof zr&&this!==r&&(s=this.parent.evict(t,r)||s),(t.fieldName||s)&&this.group.dirty(t.id,t.fieldName||"__exists")),s},e.prototype.clear=function(){this.replace(null)},e.prototype.extract=function(){var t=this,r=this.toObject(),s=[];return this.getRootIdSet().forEach(function(i){Dt.call(t.policies.rootTypenamesById,i)||s.push(i)}),s.length&&(r.__META={extraRootIds:s.sort()}),r},e.prototype.replace=function(t){var r=this;if(Object.keys(this.data).forEach(function(a){t&&Dt.call(t,a)||r.delete(a)}),t){var s=t.__META,i=hr(t,["__META"]);Object.keys(i).forEach(function(a){r.merge(a,i[a])}),s&&s.extraRootIds.forEach(this.retain,this)}},e.prototype.retain=function(t){return this.rootIds[t]=(this.rootIds[t]||0)+1},e.prototype.release=function(t){if(this.rootIds[t]>0){var r=--this.rootIds[t];return r||delete this.rootIds[t],r}return 0},e.prototype.getRootIdSet=function(t){return t===void 0&&(t=new Set),Object.keys(this.rootIds).forEach(t.add,t),this instanceof zr?this.parent.getRootIdSet(t):Object.keys(this.policies.rootTypenamesById).forEach(t.add,t),t},e.prototype.gc=function(){var t=this,r=this.getRootIdSet(),s=this.toObject();r.forEach(function(o){Dt.call(s,o)&&(Object.keys(t.findChildRefIds(o)).forEach(r.add,r),delete s[o])});var i=Object.keys(s);if(i.length){for(var a=this;a instanceof zr;)a=a.parent;i.forEach(function(o){return a.delete(o)})}return i},e.prototype.findChildRefIds=function(t){if(!Dt.call(this.refs,t)){var r=this.refs[t]=Object.create(null),s=this.data[t];if(!s)return r;var i=new Set([s]);i.forEach(function(a){rt(a)&&(r[a.__ref]=!0),ht(a)&&Object.keys(a).forEach(function(o){var l=a[o];ht(l)&&i.add(l)})})}return this.refs[t]},e.prototype.makeCacheKey=function(){return this.group.keyMaker.lookupArray(arguments)},e}(),lf=function(){function e(t,r){r===void 0&&(r=null),this.caching=t,this.parent=r,this.d=null,this.resetCaching()}return e.prototype.resetCaching=function(){this.d=this.caching?Rh():null,this.keyMaker=new Wr(Rn)},e.prototype.depend=function(t,r){if(this.d){this.d(lo(t,r));var s=sn(r);s!==r&&this.d(lo(t,s)),this.parent&&this.parent.depend(t,r)}},e.prototype.dirty=function(t,r){this.d&&this.d.dirty(lo(t,r),r==="__exists"?"forget":"setDirty")},e}();function lo(e,t){return t+"#"+e}function vu(e,t){Ks(e)&&e.group.depend(t,"__exists")}(function(e){var t=function(r){yr(s,r);function s(i){var a=i.policies,o=i.resultCaching,l=o===void 0?!0:o,c=i.seed,u=r.call(this,a,new lf(l))||this;return u.stump=new $0(u),u.storageTrie=new Wr(Rn),c&&u.replace(c),u}return s.prototype.addLayer=function(i,a){return this.stump.addLayer(i,a)},s.prototype.removeLayer=function(){return this},s.prototype.getStorage=function(){return this.storageTrie.lookupArray(arguments)},s}(e);e.Root=t})(li||(li={}));var zr=function(e){yr(t,e);function t(r,s,i,a){var o=e.call(this,s.policies,a)||this;return o.id=r,o.parent=s,o.replay=i,o.group=a,i(o),o}return t.prototype.addLayer=function(r,s){return new t(r,this,s,this.group)},t.prototype.removeLayer=function(r){var s=this,i=this.parent.removeLayer(r);return r===this.id?(this.group.caching&&Object.keys(this.data).forEach(function(a){var o=s.data[a],l=i.lookup(a);l?o?o!==l&&Object.keys(o).forEach(function(c){et(o[c],l[c])||s.group.dirty(a,c)}):(s.group.dirty(a,"__exists"),Object.keys(l).forEach(function(c){s.group.dirty(a,c)})):s.delete(a)}),i):i===this.parent?this:i.addLayer(this.id,this.replay)},t.prototype.toObject=function(){return F(F({},this.parent.toObject()),this.data)},t.prototype.findChildRefIds=function(r){var s=this.parent.findChildRefIds(r);return Dt.call(this.data,r)?F(F({},s),e.prototype.findChildRefIds.call(this,r)):s},t.prototype.getStorage=function(){for(var r=this.parent;r.parent;)r=r.parent;return r.getStorage.apply(r,arguments)},t}(li),$0=function(e){yr(t,e);function t(r){return e.call(this,"EntityStore.Stump",r,function(){},new lf(r.group.caching,r.group))||this}return t.prototype.removeLayer=function(){return this},t.prototype.merge=function(r,s){return this.parent.merge(r,s)},t}(zr);function B0(e,t,r){var s=e[r],i=t[r];return et(s,i)?s:i}function Ks(e){return!!(e instanceof li&&e.group.caching)}function V0(e){return ht(e)?ft(e)?e.slice(0):F({__proto__:Object.getPrototypeOf(e)},e):e}var ju=function(){function e(){this.known=new(Al?WeakSet:Set),this.pool=new Wr(Rn),this.passes=new WeakMap,this.keysByJSON=new Map,this.empty=this.admit({})}return e.prototype.isKnown=function(t){return ht(t)&&this.known.has(t)},e.prototype.pass=function(t){if(ht(t)){var r=V0(t);return this.passes.set(r,t),r}return t},e.prototype.admit=function(t){var r=this;if(ht(t)){var s=this.passes.get(t);if(s)return s;var i=Object.getPrototypeOf(t);switch(i){case Array.prototype:{if(this.known.has(t))return t;var a=t.map(this.admit,this),o=this.pool.lookupArray(a);return o.array||(this.known.add(o.array=a),globalThis.__DEV__!==!1&&Object.freeze(a)),o.array}case null:case Object.prototype:{if(this.known.has(t))return t;var l=Object.getPrototypeOf(t),c=[l],u=this.sortedKeys(t);c.push(u.json);var d=c.length;u.sorted.forEach(function(p){c.push(r.admit(t[p]))});var o=this.pool.lookupArray(c);if(!o.object){var h=o.object=Object.create(l);this.known.add(h),u.sorted.forEach(function(p,g){h[p]=c[d+g]}),globalThis.__DEV__!==!1&&Object.freeze(h)}return o.object}}}return t},e.prototype.sortedKeys=function(t){var r=Object.keys(t),s=this.pool.lookupArray(r);if(!s.keys){r.sort();var i=JSON.stringify(r);(s.keys=this.keysByJSON.get(i))||this.keysByJSON.set(i,s.keys={sorted:r,json:i})}return s.keys},e}();function wu(e){return[e.selectionSet,e.objectOrReference,e.context,e.context.canonizeResults]}var z0=function(){function e(t){var r=this;this.knownResults=new(Rn?WeakMap:Map),this.config=Tn(t,{addTypename:t.addTypename!==!1,canonizeResults:sf(t)}),this.canon=t.canon||new ju,this.executeSelectionSet=oi(function(s){var i,a=s.context.canonizeResults,o=wu(s);o[3]=!a;var l=(i=r.executeSelectionSet).peek.apply(i,o);return l?a?F(F({},l),{result:r.canon.admit(l.result)}):l:(vu(s.context.store,s.enclosingRef.__ref),r.execSelectionSetImpl(s))},{max:this.config.resultCacheMaxSize||Ir["inMemoryCache.executeSelectionSet"]||5e4,keyArgs:wu,makeCacheKey:function(s,i,a,o){if(Ks(a.store))return a.store.makeCacheKey(s,rt(i)?i.__ref:i,a.varString,o)}}),this.executeSubSelectedArray=oi(function(s){return vu(s.context.store,s.enclosingRef.__ref),r.execSubSelectedArrayImpl(s)},{max:this.config.resultCacheMaxSize||Ir["inMemoryCache.executeSubSelectedArray"]||1e4,makeCacheKey:function(s){var i=s.field,a=s.array,o=s.context;if(Ks(o.store))return o.store.makeCacheKey(i,a,o.varString)}})}return e.prototype.resetCanon=function(){this.canon=new ju},e.prototype.diffQueryAgainstStore=function(t){var r=t.store,s=t.query,i=t.rootId,a=i===void 0?"ROOT_QUERY":i,o=t.variables,l=t.returnPartialData,c=l===void 0?!0:l,u=t.canonizeResults,d=u===void 0?this.config.canonizeResults:u,h=this.config.cache.policies;o=F(F({},ql(jh(s))),o);var f=Kn(a),p=this.executeSelectionSet({selectionSet:gs(s).selectionSet,objectOrReference:f,enclosingRef:f,context:F({store:r,query:s,policies:h,variables:o,varString:Xr(o),canonizeResults:d},of(s,this.config.fragments))}),g;if(p.missing&&(g=[new tf(U0(p.missing),p.missing,s,o)],!c))throw g[0];return{result:p.result,complete:!g,missing:g}},e.prototype.isFresh=function(t,r,s,i){if(Ks(i.store)&&this.knownResults.get(t)===s){var a=this.executeSelectionSet.peek(s,r,i,this.canon.isKnown(t));if(a&&t===a.result)return!0}return!1},e.prototype.execSelectionSetImpl=function(t){var r=this,s=t.selectionSet,i=t.objectOrReference,a=t.enclosingRef,o=t.context;if(rt(i)&&!o.policies.rootTypenamesById[i.__ref]&&!o.store.has(i.__ref))return{result:this.canon.empty,missing:"Dangling reference to missing ".concat(i.__ref," object")};var l=o.variables,c=o.policies,u=o.store,d=u.getFieldValue(i,"__typename"),h=[],f,p=new nn;this.config.addTypename&&typeof d=="string"&&!c.rootIdsByTypename[d]&&h.push({__typename:d});function g(j,P){var C;return j.missing&&(f=p.merge(f,(C={},C[P]=j.missing,C))),j.result}var m=new Set(s.selections);m.forEach(function(j){var P,C;if(yi(j,l))if(tn(j)){var D=c.readField({fieldName:j.name.value,field:j,variables:o.variables,from:i},o),T=Nr(j);D===void 0?zl.added(j)||(f=p.merge(f,(P={},P[T]="Can't find field '".concat(j.name.value,"' on ").concat(rt(i)?i.__ref+" object":"object "+JSON.stringify(i,null,2)),P))):ft(D)?D.length>0&&(D=g(r.executeSubSelectedArray({field:j,array:D,enclosingRef:a,context:o}),T)):j.selectionSet?D!=null&&(D=g(r.executeSelectionSet({selectionSet:j.selectionSet,objectOrReference:D,enclosingRef:rt(D)?D:a,context:o}),T)):o.canonizeResults&&(D=r.canon.pass(D)),D!==void 0&&h.push((C={},C[T]=D,C))}else{var I=va(j,o.lookupFragment);if(!I&&j.kind===le.FRAGMENT_SPREAD)throw zt(10,j.name.value);I&&c.fragmentMatches(I,d)&&I.selectionSet.selections.forEach(m.add,m)}});var x=Ca(h),y={result:x,missing:f},b=o.canonizeResults?this.canon.admit(y):ls(y);return b.result&&this.knownResults.set(b.result,s),b},e.prototype.execSubSelectedArrayImpl=function(t){var r=this,s=t.field,i=t.array,a=t.enclosingRef,o=t.context,l,c=new nn;function u(d,h){var f;return d.missing&&(l=c.merge(l,(f={},f[h]=d.missing,f))),d.result}return s.selectionSet&&(i=i.filter(o.store.canRead)),i=i.map(function(d,h){return d===null?null:ft(d)?u(r.executeSubSelectedArray({field:s,array:d,enclosingRef:a,context:o}),h):s.selectionSet?u(r.executeSelectionSet({selectionSet:s.selectionSet,objectOrReference:d,enclosingRef:rt(d)?d:a,context:o}),h):(globalThis.__DEV__!==!1&&Q0(o.store,s,d),d)}),{result:o.canonizeResults?this.canon.admit(i):i,missing:l}},e}();function U0(e){try{JSON.stringify(e,function(t,r){if(typeof r=="string")throw r;return r})}catch(t){return t}}function Q0(e,t,r){if(!t.selectionSet){var s=new Set([r]);s.forEach(function(i){ht(i)&&(ue(!rt(i),11,W0(e,i),t.name.value),Object.values(i).forEach(s.add,s))})}}var Kl=new bi,Su=new WeakMap;function Js(e){var t=Su.get(e);return t||Su.set(e,t={vars:new Set,dep:Rh()}),t}function Cu(e){Js(e).vars.forEach(function(t){return t.forgetCache(e)})}function H0(e){Js(e).vars.forEach(function(t){return t.attachCache(e)})}function Y0(e){var t=new Set,r=new Set,s=function(a){if(arguments.length>0){if(e!==a){e=a,t.forEach(function(c){Js(c).dep.dirty(s),G0(c)});var o=Array.from(r);r.clear(),o.forEach(function(c){return c(e)})}}else{var l=Kl.getValue();l&&(i(l),Js(l).dep(s))}return e};s.onNextChange=function(a){return r.add(a),function(){r.delete(a)}};var i=s.attachCache=function(a){return t.add(a),Js(a).vars.add(s),s};return s.forgetCache=function(a){return t.delete(a)},s}function G0(e){e.broadcastWatches&&e.broadcastWatches()}var Pu=Object.create(null);function Jl(e){var t=JSON.stringify(e);return Pu[t]||(Pu[t]=Object.create(null))}function ku(e){var t=Jl(e);return t.keyFieldsFn||(t.keyFieldsFn=function(r,s){var i=function(o,l){return s.readField(l,o)},a=s.keyObject=Xl(e,function(o){var l=Xn(s.storeObject,o,i);return l===void 0&&r!==s.storeObject&&Dt.call(r,o[0])&&(l=Xn(r,o,uf)),ue(l!==void 0,5,o.join("."),r),l});return"".concat(s.typename,":").concat(JSON.stringify(a))})}function Du(e){var t=Jl(e);return t.keyArgsFn||(t.keyArgsFn=function(r,s){var i=s.field,a=s.variables,o=s.fieldName,l=Xl(e,function(u){var d=u[0],h=d.charAt(0);if(h==="@"){if(i&&sr(i.directives)){var f=d.slice(1),p=i.directives.find(function(y){return y.name.value===f}),g=p&&ja(p,a);return g&&Xn(g,u.slice(1))}return}if(h==="$"){var m=d.slice(1);if(a&&Dt.call(a,m)){var x=u.slice(0);return x[0]=m,Xn(a,x)}return}if(r)return Xn(r,u)}),c=JSON.stringify(l);return(r||c!=="{}")&&(o+=":"+c),o})}function Xl(e,t){var r=new nn;return cf(e).reduce(function(s,i){var a,o=t(i);if(o!==void 0){for(var l=i.length-1;l>=0;--l)o=(a={},a[i[l]]=o,a);s=r.merge(s,o)}return s},Object.create(null))}function cf(e){var t=Jl(e);if(!t.paths){var r=t.paths=[],s=[];e.forEach(function(i,a){ft(i)?(cf(i).forEach(function(o){return r.push(s.concat(o))}),s.length=0):(s.push(i),ft(e[a+1])||(r.push(s.slice(0)),s.length=0))})}return t.paths}function uf(e,t){return e[t]}function Xn(e,t,r){return r=r||uf,df(t.reduce(function s(i,a){return ft(i)?i.map(function(o){return s(o,a)}):i&&r(i,a)},e))}function df(e){return ht(e)?ft(e)?e.map(df):Xl(Object.keys(e).sort(),function(t){return Xn(e,t)}):e}function rl(e){return e.args!==void 0?e.args:e.field?ja(e.field,e.variables):null}var K0=function(){},Iu=function(e,t){return t.fieldName},Eu=function(e,t,r){var s=r.mergeObjects;return s(e,t)},Tu=function(e,t){return t},J0=function(){function e(t){this.config=t,this.typePolicies=Object.create(null),this.toBeAdded=Object.create(null),this.supertypeMap=new Map,this.fuzzySubtypes=new Map,this.rootIdsByTypename=Object.create(null),this.rootTypenamesById=Object.create(null),this.usingPossibleTypes=!1,this.config=F({dataIdFromObject:rf},t),this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),t.possibleTypes&&this.addPossibleTypes(t.possibleTypes),t.typePolicies&&this.addTypePolicies(t.typePolicies)}return e.prototype.identify=function(t,r){var s,i=this,a=r&&(r.typename||((s=r.storeObject)===null||s===void 0?void 0:s.__typename))||t.__typename;if(a===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];var o=r&&r.storeObject||t,l=F(F({},r),{typename:a,storeObject:o,readField:r&&r.readField||function(){var h=Zl(arguments,o);return i.readField(h,{store:i.cache.data,variables:h.variables})}}),c,u=a&&this.getTypePolicy(a),d=u&&u.keyFn||this.config.dataIdFromObject;return Gl.withValue(!0,function(){for(;d;){var h=d(F(F({},t),o),l);if(ft(h))d=ku(h);else{c=h;break}}}),c=c?String(c):void 0,l.keyObject?[c,l.keyObject]:[c]},e.prototype.addTypePolicies=function(t){var r=this;Object.keys(t).forEach(function(s){var i=t[s],a=i.queryType,o=i.mutationType,l=i.subscriptionType,c=hr(i,["queryType","mutationType","subscriptionType"]);a&&r.setRootTypename("Query",s),o&&r.setRootTypename("Mutation",s),l&&r.setRootTypename("Subscription",s),Dt.call(r.toBeAdded,s)?r.toBeAdded[s].push(c):r.toBeAdded[s]=[c]})},e.prototype.updateTypePolicy=function(t,r){var s=this,i=this.getTypePolicy(t),a=r.keyFields,o=r.fields;function l(c,u){c.merge=typeof u=="function"?u:u===!0?Eu:u===!1?Tu:c.merge}l(i,r.merge),i.keyFn=a===!1?K0:ft(a)?ku(a):typeof a=="function"?a:i.keyFn,o&&Object.keys(o).forEach(function(c){var u=s.getFieldPolicy(t,c,!0),d=o[c];if(typeof d=="function")u.read=d;else{var h=d.keyArgs,f=d.read,p=d.merge;u.keyFn=h===!1?Iu:ft(h)?Du(h):typeof h=="function"?h:u.keyFn,typeof f=="function"&&(u.read=f),l(u,p)}u.read&&u.merge&&(u.keyFn=u.keyFn||Iu)})},e.prototype.setRootTypename=function(t,r){r===void 0&&(r=t);var s="ROOT_"+t.toUpperCase(),i=this.rootTypenamesById[s];r!==i&&(ue(!i||i===t,6,t),i&&delete this.rootIdsByTypename[i],this.rootIdsByTypename[r]=s,this.rootTypenamesById[s]=r)},e.prototype.addPossibleTypes=function(t){var r=this;this.usingPossibleTypes=!0,Object.keys(t).forEach(function(s){r.getSupertypeSet(s,!0),t[s].forEach(function(i){r.getSupertypeSet(i,!0).add(s);var a=i.match(af);(!a||a[0]!==i)&&r.fuzzySubtypes.set(i,new RegExp(i))})})},e.prototype.getTypePolicy=function(t){var r=this;if(!Dt.call(this.typePolicies,t)){var s=this.typePolicies[t]=Object.create(null);s.fields=Object.create(null);var i=this.supertypeMap.get(t);!i&&this.fuzzySubtypes.size&&(i=this.getSupertypeSet(t,!0),this.fuzzySubtypes.forEach(function(o,l){if(o.test(t)){var c=r.supertypeMap.get(l);c&&c.forEach(function(u){return i.add(u)})}})),i&&i.size&&i.forEach(function(o){var l=r.getTypePolicy(o),c=l.fields,u=hr(l,["fields"]);Object.assign(s,u),Object.assign(s.fields,c)})}var a=this.toBeAdded[t];return a&&a.length&&a.splice(0).forEach(function(o){r.updateTypePolicy(t,o)}),this.typePolicies[t]},e.prototype.getFieldPolicy=function(t,r,s){if(t){var i=this.getTypePolicy(t).fields;return i[r]||s&&(i[r]=Object.create(null))}},e.prototype.getSupertypeSet=function(t,r){var s=this.supertypeMap.get(t);return!s&&r&&this.supertypeMap.set(t,s=new Set),s},e.prototype.fragmentMatches=function(t,r,s,i){var a=this;if(!t.typeCondition)return!0;if(!r)return!1;var o=t.typeCondition.name.value;if(r===o)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(o))for(var l=this.getSupertypeSet(r,!0),c=[l],u=function(g){var m=a.getSupertypeSet(g,!1);m&&m.size&&c.indexOf(m)<0&&c.push(m)},d=!!(s&&this.fuzzySubtypes.size),h=!1,f=0;f<c.length;++f){var p=c[f];if(p.has(o))return l.has(o)||(h&&globalThis.__DEV__!==!1&&ue.warn(7,r,o),l.add(o)),!0;p.forEach(u),d&&f===c.length-1&&tl(t.selectionSet,s,i)&&(d=!1,h=!0,this.fuzzySubtypes.forEach(function(g,m){var x=r.match(g);x&&x[0]===r&&u(m)}))}return!1},e.prototype.hasKeyArgs=function(t,r){var s=this.getFieldPolicy(t,r,!1);return!!(s&&s.keyFn)},e.prototype.getStoreFieldName=function(t){var r=t.typename,s=t.fieldName,i=this.getFieldPolicy(r,s,!1),a,o=i&&i.keyFn;if(o&&r)for(var l={typename:r,fieldName:s,field:t.field||null,variables:t.variables},c=rl(t);o;){var u=o(c,l);if(ft(u))o=Du(u);else{a=u||s;break}}return a===void 0&&(a=t.field?gy(t.field,t.variables):vh(s,rl(t))),a===!1?s:s===sn(a)?a:s+":"+a},e.prototype.readField=function(t,r){var s=t.from;if(s){var i=t.field||t.fieldName;if(i){if(t.typename===void 0){var a=r.store.getFieldValue(s,"__typename");a&&(t.typename=a)}var o=this.getStoreFieldName(t),l=sn(o),c=r.store.getFieldValue(s,o),u=this.getFieldPolicy(t.typename,l,!1),d=u&&u.read;if(d){var h=Mu(this,s,t,r,r.store.getStorage(rt(s)?s.__ref:s,o));return Kl.withValue(this.cache,d,[c,h])}return c}}},e.prototype.getReadFunction=function(t,r){var s=this.getFieldPolicy(t,r,!1);return s&&s.read},e.prototype.getMergeFunction=function(t,r,s){var i=this.getFieldPolicy(t,r,!1),a=i&&i.merge;return!a&&s&&(i=this.getTypePolicy(s),a=i&&i.merge),a},e.prototype.runMergeFunction=function(t,r,s,i,a){var o=s.field,l=s.typename,c=s.merge;return c===Eu?hf(i.store)(t,r):c===Tu?r:(i.overwrite&&(t=void 0),c(t,r,Mu(this,void 0,{typename:l,fieldName:o.name.value,field:o,variables:i.variables},i,a||Object.create(null))))},e}();function Mu(e,t,r,s,i){var a=e.getStoreFieldName(r),o=sn(a),l=r.variables||s.variables,c=s.store,u=c.toReference,d=c.canRead;return{args:rl(r),field:r.field||null,fieldName:o,storeFieldName:a,variables:l,isReference:rt,toReference:u,storage:i,cache:e.cache,canRead:d,readField:function(){return e.readField(Zl(arguments,t,l),s)},mergeObjects:hf(s.store)}}function Zl(e,t,r){var s=e[0],i=e[1],a=e.length,o;return typeof s=="string"?o={fieldName:s,from:a>1?i:t}:(o=F({},s),Dt.call(o,"from")||(o.from=t)),globalThis.__DEV__!==!1&&o.from===void 0&&globalThis.__DEV__!==!1&&ue.warn(8,rh(Array.from(e))),o.variables===void 0&&(o.variables=r),o}function hf(e){return function(r,s){if(ft(r)||ft(s))throw zt(9);if(ht(r)&&ht(s)){var i=e.getFieldValue(r,"__typename"),a=e.getFieldValue(s,"__typename"),o=i&&a&&i!==a;if(o)return s;if(rt(r)&&Qn(s))return e.merge(r.__ref,s),r;if(Qn(r)&&rt(s))return e.merge(r,s.__ref),s;if(Qn(r)&&Qn(s))return F(F({},r),s)}return s}}function co(e,t,r){var s="".concat(t).concat(r),i=e.flavors.get(s);return i||e.flavors.set(s,i=e.clientOnly===t&&e.deferred===r?e:F(F({},e),{clientOnly:t,deferred:r})),i}var X0=function(){function e(t,r,s){this.cache=t,this.reader=r,this.fragments=s}return e.prototype.writeToStore=function(t,r){var s=this,i=r.query,a=r.result,o=r.dataId,l=r.variables,c=r.overwrite,u=En(i),d=q0();l=F(F({},ql(u)),l);var h=F(F({store:t,written:Object.create(null),merge:function(p,g){return d.merge(p,g)},variables:l,varString:Xr(l)},of(i,this.fragments)),{overwrite:!!c,incomingById:new Map,clientOnly:!1,deferred:!1,flavors:new Map}),f=this.processSelectionSet({result:a||Object.create(null),dataId:o,selectionSet:u.selectionSet,mergeTree:{map:new Map},context:h});if(!rt(f))throw zt(12,a);return h.incomingById.forEach(function(p,g){var m=p.storeObject,x=p.mergeTree,y=p.fieldNodeSet,b=Kn(g);if(x&&x.map.size){var j=s.applyMerges(x,b,m,h);if(rt(j))return;m=j}if(globalThis.__DEV__!==!1&&!h.overwrite){var P=Object.create(null);y.forEach(function(T){T.selectionSet&&(P[T.name.value]=!0)});var C=function(T){return P[sn(T)]===!0},D=function(T){var I=x&&x.map.get(T);return!!(I&&I.info&&I.info.merge)};Object.keys(m).forEach(function(T){C(T)&&!D(T)&&Z0(b,m,T,h.store)})}t.merge(g,m)}),t.retain(f.__ref),f},e.prototype.processSelectionSet=function(t){var r=this,s=t.dataId,i=t.result,a=t.selectionSet,o=t.context,l=t.mergeTree,c=this.cache.policies,u=Object.create(null),d=s&&c.rootTypenamesById[s]||Qo(i,a,o.fragmentMap)||s&&o.store.get(s,"__typename");typeof d=="string"&&(u.__typename=d);var h=function(){var j=Zl(arguments,u,o.variables);if(rt(j.from)){var P=o.incomingById.get(j.from.__ref);if(P){var C=c.readField(F(F({},j),{from:P.storeObject}),o);if(C!==void 0)return C}}return c.readField(j,o)},f=new Set;this.flattenFields(a,i,o,d).forEach(function(j,P){var C,D=Nr(P),T=i[D];if(f.add(P),T!==void 0){var I=c.getStoreFieldName({typename:d,fieldName:P.name.value,field:P,variables:j.variables}),M=Ou(l,I),W=r.processFieldValue(T,P,P.selectionSet?co(j,!1,!1):j,M),z=void 0;P.selectionSet&&(rt(W)||Qn(W))&&(z=h("__typename",W));var L=c.getMergeFunction(d,P.name.value,z);L?M.info={field:P,typename:d,merge:L}:Ru(l,I),u=j.merge(u,(C={},C[I]=W,C))}else globalThis.__DEV__!==!1&&!j.clientOnly&&!j.deferred&&!zl.added(P)&&!c.getReadFunction(d,P.name.value)&&globalThis.__DEV__!==!1&&ue.error(13,Nr(P),i)});try{var p=c.identify(i,{typename:d,selectionSet:a,fragmentMap:o.fragmentMap,storeObject:u,readField:h}),g=p[0],m=p[1];s=s||g,m&&(u=o.merge(u,m))}catch(j){if(!s)throw j}if(typeof s=="string"){var x=Kn(s),y=o.written[s]||(o.written[s]=[]);if(y.indexOf(a)>=0||(y.push(a),this.reader&&this.reader.isFresh(i,x,a,o)))return x;var b=o.incomingById.get(s);return b?(b.storeObject=o.merge(b.storeObject,u),b.mergeTree=nl(b.mergeTree,l),f.forEach(function(j){return b.fieldNodeSet.add(j)})):o.incomingById.set(s,{storeObject:u,mergeTree:ia(l)?void 0:l,fieldNodeSet:f}),x}return u},e.prototype.processFieldValue=function(t,r,s,i){var a=this;return!r.selectionSet||t===null?globalThis.__DEV__!==!1?$h(t):t:ft(t)?t.map(function(o,l){var c=a.processFieldValue(o,r,s,Ou(i,l));return Ru(i,l),c}):this.processSelectionSet({result:t,selectionSet:r.selectionSet,context:s,mergeTree:i})},e.prototype.flattenFields=function(t,r,s,i){i===void 0&&(i=Qo(r,t,s.fragmentMap));var a=new Map,o=this.cache.policies,l=new Wr(!1);return function c(u,d){var h=l.lookup(u,d.clientOnly,d.deferred);h.visited||(h.visited=!0,u.selections.forEach(function(f){if(yi(f,s.variables)){var p=d.clientOnly,g=d.deferred;if(!(p&&g)&&sr(f.directives)&&f.directives.forEach(function(y){var b=y.name.value;if(b==="client"&&(p=!0),b==="defer"){var j=ja(y,s.variables);(!j||j.if!==!1)&&(g=!0)}}),tn(f)){var m=a.get(f);m&&(p=p&&m.clientOnly,g=g&&m.deferred),a.set(f,co(s,p,g))}else{var x=va(f,s.lookupFragment);if(!x&&f.kind===le.FRAGMENT_SPREAD)throw zt(14,f.name.value);x&&o.fragmentMatches(x,i,r,s.variables)&&c(x.selectionSet,co(s,p,g))}}}))}(t,s),a},e.prototype.applyMerges=function(t,r,s,i,a){var o,l=this;if(t.map.size&&!rt(s)){var c=!ft(s)&&(rt(r)||Qn(r))?r:void 0,u=s;c&&!a&&(a=[rt(c)?c.__ref:c]);var d,h=function(f,p){return ft(f)?typeof p=="number"?f[p]:void 0:i.store.getFieldValue(f,String(p))};t.map.forEach(function(f,p){var g=h(c,p),m=h(u,p);if(m!==void 0){a&&a.push(p);var x=l.applyMerges(f,g,m,i,a);x!==m&&(d=d||new Map,d.set(p,x)),a&&ue(a.pop()===p)}}),d&&(s=ft(u)?u.slice(0):F({},u),d.forEach(function(f,p){s[p]=f}))}return t.info?this.cache.policies.runMergeFunction(r,s,t.info,i,a&&(o=i.store).getStorage.apply(o,a)):s},e}(),ff=[];function Ou(e,t){var r=e.map;return r.has(t)||r.set(t,ff.pop()||{map:new Map}),r.get(t)}function nl(e,t){if(e===t||!t||ia(t))return e;if(!e||ia(e))return t;var r=e.info&&t.info?F(F({},e.info),t.info):e.info||t.info,s=e.map.size&&t.map.size,i=s?new Map:e.map.size?e.map:t.map,a={info:r,map:i};if(s){var o=new Set(t.map.keys());e.map.forEach(function(l,c){a.map.set(c,nl(l,t.map.get(c))),o.delete(c)}),o.forEach(function(l){a.map.set(l,nl(t.map.get(l),e.map.get(l)))})}return a}function ia(e){return!e||!(e.info||e.map.size)}function Ru(e,t){var r=e.map,s=r.get(t);s&&ia(s)&&(ff.push(s),r.delete(t))}var Nu=new Set;function Z0(e,t,r,s){var i=function(h){var f=s.getFieldValue(h,r);return typeof f=="object"&&f},a=i(e);if(a){var o=i(t);if(o&&!rt(a)&&!et(a,o)&&!Object.keys(a).every(function(h){return s.getFieldValue(o,h)!==void 0})){var l=s.getFieldValue(e,"__typename")||s.getFieldValue(t,"__typename"),c=sn(r),u="".concat(l,".").concat(c);if(!Nu.has(u)){Nu.add(u);var d=[];!ft(a)&&!ft(o)&&[a,o].forEach(function(h){var f=s.getFieldValue(h,"__typename");typeof f=="string"&&!d.includes(f)&&d.push(f)}),globalThis.__DEV__!==!1&&ue.warn(15,c,l,d.length?"either ensure all objects of type "+d.join(" and ")+" have an ID or a custom merge function, or ":"",u,F({},a),F({},o))}}}}var ka=function(e){yr(t,e);function t(r){r===void 0&&(r={});var s=e.call(this)||this;return s.watches=new Set,s.addTypenameTransform=new Nh(zl),s.assumeImmutableResults=!0,s.makeVar=Y0,s.txCount=0,s.config=L0(r),s.addTypename=!!s.config.addTypename,s.policies=new J0({cache:s,dataIdFromObject:s.config.dataIdFromObject,possibleTypes:s.config.possibleTypes,typePolicies:s.config.typePolicies}),s.init(),s}return t.prototype.init=function(){var r=this.data=new li.Root({policies:this.policies,resultCaching:this.config.resultCaching});this.optimisticData=r.stump,this.resetResultCache()},t.prototype.resetResultCache=function(r){var s=this,i=this.storeReader,a=this.config.fragments;this.storeWriter=new X0(this,this.storeReader=new z0({cache:this,addTypename:this.addTypename,resultCacheMaxSize:this.config.resultCacheMaxSize,canonizeResults:sf(this.config),canon:r?void 0:i&&i.canon,fragments:a}),a),this.maybeBroadcastWatch=oi(function(o,l){return s.broadcastWatch(o,l)},{max:this.config.resultCacheMaxSize||Ir["inMemoryCache.maybeBroadcastWatch"]||5e3,makeCacheKey:function(o){var l=o.optimistic?s.optimisticData:s.data;if(Ks(l)){var c=o.optimistic,u=o.id,d=o.variables;return l.makeCacheKey(o.query,o.callback,Xr({optimistic:c,id:u,variables:d}))}}}),new Set([this.data.group,this.optimisticData.group]).forEach(function(o){return o.resetCaching()})},t.prototype.restore=function(r){return this.init(),r&&this.data.replace(r),this},t.prototype.extract=function(r){return r===void 0&&(r=!1),(r?this.optimisticData:this.data).extract()},t.prototype.read=function(r){var s=r.returnPartialData,i=s===void 0?!1:s;try{return this.storeReader.diffQueryAgainstStore(F(F({},r),{store:r.optimistic?this.optimisticData:this.data,config:this.config,returnPartialData:i})).result||null}catch(a){if(a instanceof tf)return null;throw a}},t.prototype.write=function(r){try{return++this.txCount,this.storeWriter.writeToStore(this.data,r)}finally{!--this.txCount&&r.broadcast!==!1&&this.broadcastWatches()}},t.prototype.modify=function(r){if(Dt.call(r,"id")&&!r.id)return!1;var s=r.optimistic?this.optimisticData:this.data;try{return++this.txCount,s.modify(r.id||"ROOT_QUERY",r.fields)}finally{!--this.txCount&&r.broadcast!==!1&&this.broadcastWatches()}},t.prototype.diff=function(r){return this.storeReader.diffQueryAgainstStore(F(F({},r),{store:r.optimistic?this.optimisticData:this.data,rootId:r.id||"ROOT_QUERY",config:this.config}))},t.prototype.watch=function(r){var s=this;return this.watches.size||H0(this),this.watches.add(r),r.immediate&&this.maybeBroadcastWatch(r),function(){s.watches.delete(r)&&!s.watches.size&&Cu(s),s.maybeBroadcastWatch.forget(r)}},t.prototype.gc=function(r){var s;Xr.reset(),mn.reset(),this.addTypenameTransform.resetCache(),(s=this.config.fragments)===null||s===void 0||s.resetCaches();var i=this.optimisticData.gc();return r&&!this.txCount&&(r.resetResultCache?this.resetResultCache(r.resetResultIdentities):r.resetResultIdentities&&this.storeReader.resetCanon()),i},t.prototype.retain=function(r,s){return(s?this.optimisticData:this.data).retain(r)},t.prototype.release=function(r,s){return(s?this.optimisticData:this.data).release(r)},t.prototype.identify=function(r){if(rt(r))return r.__ref;try{return this.policies.identify(r)[0]}catch(s){globalThis.__DEV__!==!1&&ue.warn(s)}},t.prototype.evict=function(r){if(!r.id){if(Dt.call(r,"id"))return!1;r=F(F({},r),{id:"ROOT_QUERY"})}try{return++this.txCount,this.optimisticData.evict(r,this.data)}finally{!--this.txCount&&r.broadcast!==!1&&this.broadcastWatches()}},t.prototype.reset=function(r){var s=this;return this.init(),Xr.reset(),r&&r.discardWatches?(this.watches.forEach(function(i){return s.maybeBroadcastWatch.forget(i)}),this.watches.clear(),Cu(this)):this.broadcastWatches(),Promise.resolve()},t.prototype.removeOptimistic=function(r){var s=this.optimisticData.removeLayer(r);s!==this.optimisticData&&(this.optimisticData=s,this.broadcastWatches())},t.prototype.batch=function(r){var s=this,i=r.update,a=r.optimistic,o=a===void 0?!0:a,l=r.removeOptimistic,c=r.onWatchUpdated,u,d=function(f){var p=s,g=p.data,m=p.optimisticData;++s.txCount,f&&(s.data=s.optimisticData=f);try{return u=i(s)}finally{--s.txCount,s.data=g,s.optimisticData=m}},h=new Set;return c&&!this.txCount&&this.broadcastWatches(F(F({},r),{onWatchUpdated:function(f){return h.add(f),!1}})),typeof o=="string"?this.optimisticData=this.optimisticData.addLayer(o,d):o===!1?d(this.data):d(),typeof l=="string"&&(this.optimisticData=this.optimisticData.removeLayer(l)),c&&h.size?(this.broadcastWatches(F(F({},r),{onWatchUpdated:function(f,p){var g=c.call(this,f,p);return g!==!1&&h.delete(f),g}})),h.size&&h.forEach(function(f){return s.maybeBroadcastWatch.dirty(f)})):this.broadcastWatches(r),u},t.prototype.performTransaction=function(r,s){return this.batch({update:r,optimistic:s||s!==null})},t.prototype.transformDocument=function(r){return this.addTypenameToDocument(this.addFragmentsToDocument(r))},t.prototype.fragmentMatches=function(r,s){return this.policies.fragmentMatches(r,s)},t.prototype.lookupFragment=function(r){var s;return((s=this.config.fragments)===null||s===void 0?void 0:s.lookup(r))||null},t.prototype.broadcastWatches=function(r){var s=this;this.txCount||this.watches.forEach(function(i){return s.maybeBroadcastWatch(i,r)})},t.prototype.addFragmentsToDocument=function(r){var s=this.config.fragments;return s?s.transform(r):r},t.prototype.addTypenameToDocument=function(r){return this.addTypename?this.addTypenameTransform.transformDocument(r):r},t.prototype.broadcastWatch=function(r,s){var i=r.lastDiff,a=this.diff(r);s&&(r.optimistic&&typeof s.optimistic=="string"&&(a.fromOptimisticTransaction=!0),s.onWatchUpdated&&s.onWatchUpdated.call(this,r,a,i)===!1)||(!i||!et(i.result,a.result))&&r.callback(r.lastDiff=a,i)},t}(ef);globalThis.__DEV__!==!1&&(ka.prototype.getMemoryInternals=Zg);var Ye;(function(e){e[e.loading=1]="loading",e[e.setVariables=2]="setVariables",e[e.fetchMore=3]="fetchMore",e[e.refetch=4]="refetch",e[e.poll=6]="poll",e[e.ready=7]="ready",e[e.error=8]="error"})(Ye||(Ye={}));function Hn(e){return e?e<7:!1}var _u=Object.assign,eb=Object.hasOwnProperty,Xs=function(e){yr(t,e);function t(r){var s=r.queryManager,i=r.queryInfo,a=r.options,o=this,l=t.inactiveOnCreation.getValue();o=e.call(this,function(y){l&&(s.queries.set(o.queryId,i),l=!1);try{var b=y._subscription._observer;b&&!b.error&&(b.error=tb)}catch{}var j=!o.observers.size;o.observers.add(y);var P=o.last;return P&&P.error?y.error&&y.error(P.error):P&&P.result&&y.next&&y.next(o.maskResult(P.result)),j&&o.reobserve().catch(function(){}),function(){o.observers.delete(y)&&!o.observers.size&&o.tearDownQuery()}})||this,o.observers=new Set,o.subscriptions=new Set,o.dirty=!1,o.queryInfo=i,o.queryManager=s,o.waitForOwnResult=uo(a.fetchPolicy),o.isTornDown=!1,o.subscribeToMore=o.subscribeToMore.bind(o),o.maskResult=o.maskResult.bind(o);var c=s.defaultOptions.watchQuery,u=c===void 0?{}:c,d=u.fetchPolicy,h=d===void 0?"cache-first":d,f=a.fetchPolicy,p=f===void 0?h:f,g=a.initialFetchPolicy,m=g===void 0?p==="standby"?h:p:g;o.options=F(F({},a),{initialFetchPolicy:m,fetchPolicy:p}),o.queryId=i.queryId||s.generateQueryId();var x=En(o.query);return o.queryName=x&&x.name&&x.name.value,o}return Object.defineProperty(t.prototype,"query",{get:function(){return this.lastQuery||this.options.query},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"variables",{get:function(){return this.options.variables},enumerable:!1,configurable:!0}),t.prototype.result=function(){var r=this;return new Promise(function(s,i){var a={next:function(l){s(l),r.observers.delete(a),r.observers.size||r.queryManager.removeQuery(r.queryId),setTimeout(function(){o.unsubscribe()},0)},error:i},o=r.subscribe(a)})},t.prototype.resetDiff=function(){this.queryInfo.resetDiff()},t.prototype.getCurrentFullResult=function(r){r===void 0&&(r=!0);var s=this.getLastResult(!0),i=this.queryInfo.networkStatus||s&&s.networkStatus||Ye.ready,a=F(F({},s),{loading:Hn(i),networkStatus:i}),o=this.options.fetchPolicy,l=o===void 0?"cache-first":o;if(!(uo(l)||this.queryManager.getDocumentInfo(this.query).hasForcedResolvers))if(this.waitForOwnResult)this.queryInfo.updateWatch();else{var c=this.queryInfo.getDiff();(c.complete||this.options.returnPartialData)&&(a.data=c.result),et(a.data,{})&&(a.data=void 0),c.complete?(delete a.partial,c.complete&&a.networkStatus===Ye.loading&&(l==="cache-first"||l==="cache-only")&&(a.networkStatus=Ye.ready,a.loading=!1)):a.partial=!0,a.networkStatus===Ye.ready&&(a.error||a.errors)&&(a.networkStatus=Ye.error),globalThis.__DEV__!==!1&&!c.complete&&!this.options.partialRefetch&&!a.loading&&!a.data&&!a.error&&pf(c.missing)}return r&&this.updateLastResult(a),a},t.prototype.getCurrentResult=function(r){return r===void 0&&(r=!0),this.maskResult(this.getCurrentFullResult(r))},t.prototype.isDifferentFromLastResult=function(r,s){if(!this.last)return!0;var i=this.queryManager.getDocumentInfo(this.query),a=this.queryManager.dataMasking,o=a?i.nonReactiveQuery:this.query,l=a||i.hasNonreactiveDirective?!Yh(o,this.last.result,r,this.variables):!et(this.last.result,r);return l||s&&!et(this.last.variables,s)},t.prototype.getLast=function(r,s){var i=this.last;if(i&&i[r]&&(!s||et(i.variables,this.variables)))return i[r]},t.prototype.getLastResult=function(r){return this.getLast("result",r)},t.prototype.getLastError=function(r){return this.getLast("error",r)},t.prototype.resetLastResults=function(){delete this.last,this.isTornDown=!1},t.prototype.resetQueryStoreErrors=function(){this.queryManager.resetErrors(this.queryId)},t.prototype.refetch=function(r){var s,i={pollInterval:0},a=this.options.fetchPolicy;if(a==="no-cache"?i.fetchPolicy="no-cache":i.fetchPolicy="network-only",globalThis.__DEV__!==!1&&r&&eb.call(r,"variables")){var o=jh(this.query),l=o.variableDefinitions;(!l||!l.some(function(c){return c.variable.name.value==="variables"}))&&globalThis.__DEV__!==!1&&ue.warn(21,r,((s=o.name)===null||s===void 0?void 0:s.value)||o)}return r&&!et(this.options.variables,r)&&(i.variables=this.options.variables=F(F({},this.options.variables),r)),this.queryInfo.resetLastWrite(),this.reobserve(i,Ye.refetch)},t.prototype.fetchMore=function(r){var s=this,i=F(F({},r.query?r:F(F(F(F({},this.options),{query:this.options.query}),r),{variables:F(F({},this.options.variables),r.variables)})),{fetchPolicy:"no-cache"});i.query=this.transformDocument(i.query);var a=this.queryManager.generateQueryId();this.lastQuery=r.query?this.transformDocument(this.options.query):i.query;var o=this.queryInfo,l=o.networkStatus;o.networkStatus=Ye.fetchMore,i.notifyOnNetworkStatusChange&&this.observe();var c=new Set,u=r==null?void 0:r.updateQuery,d=this.options.fetchPolicy!=="no-cache";return d||ue(u,22),this.queryManager.fetchQuery(a,i,Ye.fetchMore).then(function(h){if(s.queryManager.removeQuery(a),o.networkStatus===Ye.fetchMore&&(o.networkStatus=l),d)s.queryManager.cache.batch({update:function(g){var m=r.updateQuery;m?g.updateQuery({query:s.query,variables:s.variables,returnPartialData:!0,optimistic:!1},function(x){return m(x,{fetchMoreResult:h.data,variables:i.variables})}):g.writeQuery({query:i.query,variables:i.variables,data:h.data})},onWatchUpdated:function(g){c.add(g.query)}});else{var f=s.getLast("result"),p=u(f.data,{fetchMoreResult:h.data,variables:i.variables});s.reportResult(F(F({},f),{networkStatus:l,loading:Hn(l),data:p}),s.variables)}return s.maskResult(h)}).finally(function(){d&&!c.has(s.query)&&s.reobserveCacheFirst()})},t.prototype.subscribeToMore=function(r){var s=this,i=this.queryManager.startGraphQLSubscription({query:r.document,variables:r.variables,context:r.context}).subscribe({next:function(a){var o=r.updateQuery;o&&s.updateQuery(function(l,c){return o(l,F({subscriptionData:a},c))})},error:function(a){if(r.onError){r.onError(a);return}globalThis.__DEV__!==!1&&ue.error(23,a)}});return this.subscriptions.add(i),function(){s.subscriptions.delete(i)&&i.unsubscribe()}},t.prototype.setOptions=function(r){return this.reobserve(r)},t.prototype.silentSetOptions=function(r){var s=Tn(this.options,r||{});_u(this.options,s)},t.prototype.setVariables=function(r){return et(this.variables,r)?this.observers.size?this.result():Promise.resolve():(this.options.variables=r,this.observers.size?this.reobserve({fetchPolicy:this.options.initialFetchPolicy,variables:r},Ye.setVariables):Promise.resolve())},t.prototype.updateQuery=function(r){var s=this.queryManager,i=s.cache.diff({query:this.options.query,variables:this.variables,returnPartialData:!0,optimistic:!1}),a=i.result,o=i.complete,l=r(a,{variables:this.variables,complete:!!o,previousData:a});l&&(s.cache.writeQuery({query:this.options.query,data:l,variables:this.variables}),s.broadcastQueries())},t.prototype.startPolling=function(r){this.options.pollInterval=r,this.updatePolling()},t.prototype.stopPolling=function(){this.options.pollInterval=0,this.updatePolling()},t.prototype.applyNextFetchPolicy=function(r,s){if(s.nextFetchPolicy){var i=s.fetchPolicy,a=i===void 0?"cache-first":i,o=s.initialFetchPolicy,l=o===void 0?a:o;a==="standby"||(typeof s.nextFetchPolicy=="function"?s.fetchPolicy=s.nextFetchPolicy(a,{reason:r,options:s,observable:this,initialFetchPolicy:l}):r==="variables-changed"?s.fetchPolicy=l:s.fetchPolicy=s.nextFetchPolicy)}return s.fetchPolicy},t.prototype.fetch=function(r,s,i){var a=this.queryManager.getOrCreateQuery(this.queryId);return a.setObservableQuery(this),this.queryManager.fetchConcastWithInfo(a,r,s,i)},t.prototype.updatePolling=function(){var r=this;if(!this.queryManager.ssrMode){var s=this,i=s.pollingInfo,a=s.options.pollInterval;if(!a||!this.hasObservers()){i&&(clearTimeout(i.timeout),delete this.pollingInfo);return}if(!(i&&i.interval===a)){ue(a,24);var o=i||(this.pollingInfo={});o.interval=a;var l=function(){var u,d;r.pollingInfo&&(!Hn(r.queryInfo.networkStatus)&&!(!((d=(u=r.options).skipPollAttempt)===null||d===void 0)&&d.call(u))?r.reobserve({fetchPolicy:r.options.initialFetchPolicy==="no-cache"?"no-cache":"network-only"},Ye.poll).then(c,c):c())},c=function(){var u=r.pollingInfo;u&&(clearTimeout(u.timeout),u.timeout=setTimeout(l,u.interval))};c()}}},t.prototype.updateLastResult=function(r,s){s===void 0&&(s=this.variables);var i=this.getLastError();return i&&this.last&&!et(s,this.last.variables)&&(i=void 0),this.last=F({result:this.queryManager.assumeImmutableResults?r:$h(r),variables:s},i?{error:i}:null)},t.prototype.reobserveAsConcast=function(r,s){var i=this;this.isTornDown=!1;var a=s===Ye.refetch||s===Ye.fetchMore||s===Ye.poll,o=this.options.variables,l=this.options.fetchPolicy,c=Tn(this.options,r||{}),u=a?c:_u(this.options,c),d=this.transformDocument(u.query);this.lastQuery=d,a||(this.updatePolling(),r&&r.variables&&!et(r.variables,o)&&u.fetchPolicy!=="standby"&&(u.fetchPolicy===l||typeof u.nextFetchPolicy=="function")&&(this.applyNextFetchPolicy("variables-changed",u),s===void 0&&(s=Ye.setVariables))),this.waitForOwnResult&&(this.waitForOwnResult=uo(u.fetchPolicy));var h=function(){i.concast===g&&(i.waitForOwnResult=!1)},f=u.variables&&F({},u.variables),p=this.fetch(u,s,d),g=p.concast,m=p.fromLink,x={next:function(y){et(i.variables,f)&&(h(),i.reportResult(y,f))},error:function(y){et(i.variables,f)&&(Qh(y)||(y=new Sr({networkError:y})),h(),i.reportError(y,f))}};return!a&&(m||!this.concast)&&(this.concast&&this.observer&&this.concast.removeObserver(this.observer),this.concast=g,this.observer=x),g.addObserver(x),g},t.prototype.reobserve=function(r,s){return Qy(this.reobserveAsConcast(r,s).promise.then(this.maskResult))},t.prototype.resubscribeAfterError=function(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];var i=this.last;this.resetLastResults();var a=this.subscribe.apply(this,r);return this.last=i,a},t.prototype.observe=function(){this.reportResult(this.getCurrentFullResult(!1),this.variables)},t.prototype.reportResult=function(r,s){var i=this.getLastError(),a=this.isDifferentFromLastResult(r,s);(i||!r.partial||this.options.returnPartialData)&&this.updateLastResult(r,s),(i||a)&&Gs(this.observers,"next",this.maskResult(r))},t.prototype.reportError=function(r,s){var i=F(F({},this.getLastResult()),{error:r,errors:r.graphQLErrors,networkStatus:Ye.error,loading:!1});this.updateLastResult(i,s),Gs(this.observers,"error",this.last.error=r)},t.prototype.hasObservers=function(){return this.observers.size>0},t.prototype.tearDownQuery=function(){this.isTornDown||(this.concast&&this.observer&&(this.concast.removeObserver(this.observer),delete this.concast,delete this.observer),this.stopPolling(),this.subscriptions.forEach(function(r){return r.unsubscribe()}),this.subscriptions.clear(),this.queryManager.stopQuery(this.queryId),this.observers.clear(),this.isTornDown=!0)},t.prototype.transformDocument=function(r){return this.queryManager.transform(r)},t.prototype.maskResult=function(r){return r&&"data"in r?F(F({},r),{data:this.queryManager.maskOperation({document:this.query,data:r.data,fetchPolicy:this.options.fetchPolicy,id:this.queryId})}):r},t.prototype.resetNotifications=function(){this.cancelNotifyTimeout(),this.dirty=!1},t.prototype.cancelNotifyTimeout=function(){this.notifyTimeout&&(clearTimeout(this.notifyTimeout),this.notifyTimeout=void 0)},t.prototype.scheduleNotify=function(){var r=this;this.dirty||(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout(function(){return r.notify()},0)))},t.prototype.notify=function(){if(this.cancelNotifyTimeout(),this.dirty&&(this.options.fetchPolicy=="cache-only"||this.options.fetchPolicy=="cache-and-network"||!Hn(this.queryInfo.networkStatus))){var r=this.queryInfo.getDiff();r.fromOptimisticTransaction?this.observe():this.reobserveCacheFirst()}this.dirty=!1},t.prototype.reobserveCacheFirst=function(){var r=this.options,s=r.fetchPolicy,i=r.nextFetchPolicy;return s==="cache-and-network"||s==="network-only"?this.reobserve({fetchPolicy:"cache-first",nextFetchPolicy:function(a,o){return this.nextFetchPolicy=i,typeof this.nextFetchPolicy=="function"?this.nextFetchPolicy(a,o):s}}):this.reobserve()},t.inactiveOnCreation=new bi,t}(at);Bh(Xs);function tb(e){globalThis.__DEV__!==!1&&ue.error(25,e.message,e.stack)}function pf(e){globalThis.__DEV__!==!1&&e&&globalThis.__DEV__!==!1&&ue.debug(26,e)}function uo(e){return e==="network-only"||e==="no-cache"||e==="standby"}var Yn=new(Rn?WeakMap:Map);function ho(e,t){var r=e[t];typeof r=="function"&&(e[t]=function(){return Yn.set(e,(Yn.get(e)+1)%1e15),r.apply(this,arguments)})}var fo=function(){function e(t,r){r===void 0&&(r=t.generateQueryId()),this.queryId=r,this.document=null,this.lastRequestId=1,this.stopped=!1,this.observableQuery=null;var s=this.cache=t.cache;Yn.has(s)||(Yn.set(s,0),ho(s,"evict"),ho(s,"modify"),ho(s,"reset"))}return e.prototype.init=function(t){var r=t.networkStatus||Ye.loading;return this.variables&&this.networkStatus!==Ye.loading&&!et(this.variables,t.variables)&&(r=Ye.setVariables),et(t.variables,this.variables)||(this.lastDiff=void 0,this.cancel()),Object.assign(this,{document:t.document,variables:t.variables,networkError:null,graphQLErrors:this.graphQLErrors||[],networkStatus:r}),t.observableQuery&&this.setObservableQuery(t.observableQuery),t.lastRequestId&&(this.lastRequestId=t.lastRequestId),this},e.prototype.resetDiff=function(){this.lastDiff=void 0},e.prototype.getDiff=function(){var t=this.getDiffOptions();if(this.lastDiff&&et(t,this.lastDiff.options))return this.lastDiff.diff;this.updateWatch(this.variables);var r=this.observableQuery;if(r&&r.options.fetchPolicy==="no-cache")return{complete:!1};var s=this.cache.diff(t);return this.updateLastDiff(s,t),s},e.prototype.updateLastDiff=function(t,r){this.lastDiff=t?{diff:t,options:r||this.getDiffOptions()}:void 0},e.prototype.getDiffOptions=function(t){var r;return t===void 0&&(t=this.variables),{query:this.document,variables:t,returnPartialData:!0,optimistic:!0,canonizeResults:(r=this.observableQuery)===null||r===void 0?void 0:r.options.canonizeResults}},e.prototype.setDiff=function(t){var r,s,i=this.lastDiff&&this.lastDiff.diff;t&&!t.complete&&(!((r=this.observableQuery)===null||r===void 0)&&r.getLastError())||(this.updateLastDiff(t),et(i&&i.result,t&&t.result)||(s=this.observableQuery)===null||s===void 0||s.scheduleNotify())},e.prototype.setObservableQuery=function(t){t!==this.observableQuery&&(this.observableQuery=t,t&&(t.queryInfo=this))},e.prototype.stop=function(){var t;if(!this.stopped){this.stopped=!0,(t=this.observableQuery)===null||t===void 0||t.resetNotifications(),this.cancel();var r=this.observableQuery;r&&r.stopPolling()}},e.prototype.cancel=function(){var t;(t=this.cancelWatch)===null||t===void 0||t.call(this),this.cancelWatch=void 0},e.prototype.updateWatch=function(t){var r=this;t===void 0&&(t=this.variables);var s=this.observableQuery;if(!(s&&s.options.fetchPolicy==="no-cache")){var i=F(F({},this.getDiffOptions(t)),{watcher:this,callback:function(a){return r.setDiff(a)}});(!this.lastWatch||!et(i,this.lastWatch))&&(this.cancel(),this.cancelWatch=this.cache.watch(this.lastWatch=i))}},e.prototype.resetLastWrite=function(){this.lastWrite=void 0},e.prototype.shouldWrite=function(t,r){var s=this.lastWrite;return!(s&&s.dmCount===Yn.get(this.cache)&&et(r,s.variables)&&et(t.data,s.result.data))},e.prototype.markResult=function(t,r,s,i){var a=this,o,l=new nn,c=sr(t.errors)?t.errors.slice(0):[];if((o=this.observableQuery)===null||o===void 0||o.resetNotifications(),"incremental"in t&&sr(t.incremental)){var u=Vh(this.getDiff().result,t);t.data=u}else if("hasNext"in t&&t.hasNext){var d=this.getDiff();t.data=l.merge(d.result,t.data)}this.graphQLErrors=c,s.fetchPolicy==="no-cache"?this.updateLastDiff({result:t.data,complete:!0},this.getDiffOptions(s.variables)):i!==0&&(sl(t,s.errorPolicy)?this.cache.performTransaction(function(h){if(a.shouldWrite(t,s.variables))h.writeQuery({query:r,data:t.data,variables:s.variables,overwrite:i===1}),a.lastWrite={result:t,variables:s.variables,dmCount:Yn.get(a.cache)};else if(a.lastDiff&&a.lastDiff.diff.complete){t.data=a.lastDiff.diff.result;return}var f=a.getDiffOptions(s.variables),p=h.diff(f);!a.stopped&&et(a.variables,s.variables)&&a.updateWatch(s.variables),a.updateLastDiff(p,f),p.complete&&(t.data=p.result)}):this.lastWrite=void 0)},e.prototype.markReady=function(){return this.networkError=null,this.networkStatus=Ye.ready},e.prototype.markError=function(t){var r;return this.networkStatus=Ye.error,this.lastWrite=void 0,(r=this.observableQuery)===null||r===void 0||r.resetNotifications(),t.graphQLErrors&&(this.graphQLErrors=t.graphQLErrors),t.networkError&&(this.networkError=t.networkError),t},e}();function sl(e,t){t===void 0&&(t="none");var r=t==="ignore"||t==="all",s=!zi(e);return!s&&r&&e.data&&(s=!0),s}var rb=Object.prototype.hasOwnProperty,Au=Object.create(null),nb=function(){function e(t){var r=this;this.clientAwareness={},this.queries=new Map,this.fetchCancelFns=new Map,this.transformCache=new Ll(Ir["queryManager.getDocumentInfo"]||2e3),this.queryIdCounter=1,this.requestIdCounter=1,this.mutationIdCounter=1,this.inFlightLinkObservables=new Wr(!1),this.noCacheWarningsByQueryId=new Set;var s=new Nh(function(a){return r.cache.transformDocument(a)},{cache:!1});this.cache=t.cache,this.link=t.link,this.defaultOptions=t.defaultOptions,this.queryDeduplication=t.queryDeduplication,this.clientAwareness=t.clientAwareness,this.localState=t.localState,this.ssrMode=t.ssrMode,this.assumeImmutableResults=t.assumeImmutableResults,this.dataMasking=t.dataMasking;var i=t.documentTransform;this.documentTransform=i?s.concat(i).concat(s):s,this.defaultContext=t.defaultContext||Object.create(null),(this.onBroadcast=t.onBroadcast)&&(this.mutationStore=Object.create(null))}return e.prototype.stop=function(){var t=this;this.queries.forEach(function(r,s){t.stopQueryNoBroadcast(s)}),this.cancelPendingFetches(zt(27))},e.prototype.cancelPendingFetches=function(t){this.fetchCancelFns.forEach(function(r){return r(t)}),this.fetchCancelFns.clear()},e.prototype.mutate=function(t){return Ur(this,arguments,void 0,function(r){var s,i,a,o,l,c,u,d=r.mutation,h=r.variables,f=r.optimisticResponse,p=r.updateQueries,g=r.refetchQueries,m=g===void 0?[]:g,x=r.awaitRefetchQueries,y=x===void 0?!1:x,b=r.update,j=r.onQueryUpdated,P=r.fetchPolicy,C=P===void 0?((c=this.defaultOptions.mutate)===null||c===void 0?void 0:c.fetchPolicy)||"network-only":P,D=r.errorPolicy,T=D===void 0?((u=this.defaultOptions.mutate)===null||u===void 0?void 0:u.errorPolicy)||"none":D,I=r.keepRootFields,M=r.context;return Qr(this,function(W){switch(W.label){case 0:return ue(d,28),ue(C==="network-only"||C==="no-cache",29),s=this.generateMutationId(),d=this.cache.transformForLink(this.transform(d)),i=this.getDocumentInfo(d).hasClientExports,h=this.getVariables(d,h),i?[4,this.localState.addExportedVariables(d,h,M)]:[3,2];case 1:h=W.sent(),W.label=2;case 2:return a=this.mutationStore&&(this.mutationStore[s]={mutation:d,variables:h,loading:!0,error:null}),o=f&&this.markMutationOptimistic(f,{mutationId:s,document:d,variables:h,fetchPolicy:C,errorPolicy:T,context:M,updateQueries:p,update:b,keepRootFields:I}),this.broadcastQueries(),l=this,[2,new Promise(function(z,L){return io(l.getObservableFromLink(d,F(F({},M),{optimisticResponse:o?f:void 0}),h,{},!1),function(U){if(zi(U)&&T==="none")throw new Sr({graphQLErrors:Ko(U)});a&&(a.loading=!1,a.error=null);var w=F({},U);return typeof m=="function"&&(m=m(w)),T==="ignore"&&zi(w)&&delete w.errors,l.markMutationResult({mutationId:s,result:w,document:d,variables:h,fetchPolicy:C,errorPolicy:T,context:M,update:b,updateQueries:p,awaitRefetchQueries:y,refetchQueries:m,removeOptimistic:o?s:void 0,onQueryUpdated:j,keepRootFields:I})}).subscribe({next:function(U){l.broadcastQueries(),(!("hasNext"in U)||U.hasNext===!1)&&z(F(F({},U),{data:l.maskOperation({document:d,data:U.data,fetchPolicy:C,id:s})}))},error:function(U){a&&(a.loading=!1,a.error=U),o&&l.cache.removeOptimistic(s),l.broadcastQueries(),L(U instanceof Sr?U:new Sr({networkError:U}))}})})]}})})},e.prototype.markMutationResult=function(t,r){var s=this;r===void 0&&(r=this.cache);var i=t.result,a=[],o=t.fetchPolicy==="no-cache";if(!o&&sl(i,t.errorPolicy)){if(Jn(i)||a.push({result:i.data,dataId:"ROOT_MUTATION",query:t.document,variables:t.variables}),Jn(i)&&sr(i.incremental)){var l=r.diff({id:"ROOT_MUTATION",query:this.getDocumentInfo(t.document).asQuery,variables:t.variables,optimistic:!1,returnPartialData:!0}),c=void 0;l.result&&(c=Vh(l.result,i)),typeof c<"u"&&(i.data=c,a.push({result:c,dataId:"ROOT_MUTATION",query:t.document,variables:t.variables}))}var u=t.updateQueries;u&&this.queries.forEach(function(h,f){var p=h.observableQuery,g=p&&p.queryName;if(!(!g||!rb.call(u,g))){var m=u[g],x=s.queries.get(f),y=x.document,b=x.variables,j=r.diff({query:y,variables:b,returnPartialData:!0,optimistic:!1}),P=j.result,C=j.complete;if(C&&P){var D=m(P,{mutationResult:i,queryName:y&&zs(y)||void 0,queryVariables:b});D&&a.push({result:D,dataId:"ROOT_QUERY",query:y,variables:b})}}})}if(a.length>0||(t.refetchQueries||"").length>0||t.update||t.onQueryUpdated||t.removeOptimistic){var d=[];if(this.refetchQueries({updateCache:function(h){o||a.forEach(function(m){return h.write(m)});var f=t.update,p=!Jy(i)||Jn(i)&&!i.hasNext;if(f){if(!o){var g=h.diff({id:"ROOT_MUTATION",query:s.getDocumentInfo(t.document).asQuery,variables:t.variables,optimistic:!1,returnPartialData:!0});g.complete&&(i=F(F({},i),{data:g.result}),"incremental"in i&&delete i.incremental,"hasNext"in i&&delete i.hasNext)}p&&f(h,i,{context:t.context,variables:t.variables})}!o&&!t.keepRootFields&&p&&h.modify({id:"ROOT_MUTATION",fields:function(m,x){var y=x.fieldName,b=x.DELETE;return y==="__typename"?m:b}})},include:t.refetchQueries,optimistic:!1,removeOptimistic:t.removeOptimistic,onQueryUpdated:t.onQueryUpdated||null}).forEach(function(h){return d.push(h)}),t.awaitRefetchQueries||t.onQueryUpdated)return Promise.all(d).then(function(){return i})}return Promise.resolve(i)},e.prototype.markMutationOptimistic=function(t,r){var s=this,i=typeof t=="function"?t(r.variables,{IGNORE:Au}):t;return i===Au?!1:(this.cache.recordOptimisticTransaction(function(a){try{s.markMutationResult(F(F({},r),{result:{data:i}}),a)}catch(o){globalThis.__DEV__!==!1&&ue.error(o)}},r.mutationId),!0)},e.prototype.fetchQuery=function(t,r,s){return this.fetchConcastWithInfo(this.getOrCreateQuery(t),r,s).concast.promise},e.prototype.getQueryStore=function(){var t=Object.create(null);return this.queries.forEach(function(r,s){t[s]={variables:r.variables,networkStatus:r.networkStatus,networkError:r.networkError,graphQLErrors:r.graphQLErrors}}),t},e.prototype.resetErrors=function(t){var r=this.queries.get(t);r&&(r.networkError=void 0,r.graphQLErrors=[])},e.prototype.transform=function(t){return this.documentTransform.transformDocument(t)},e.prototype.getDocumentInfo=function(t){var r=this.transformCache;if(!r.has(t)){var s={hasClientExports:Og(t),hasForcedResolvers:this.localState.shouldForceResolvers(t),hasNonreactiveDirective:ii(["nonreactive"],t),nonReactiveQuery:_y(t),clientQuery:this.localState.clientQuery(t),serverQuery:Ah([{name:"client",remove:!0},{name:"connection"},{name:"nonreactive"},{name:"unmask"}],t),defaultVars:ql(En(t)),asQuery:F(F({},t),{definitions:t.definitions.map(function(i){return i.kind==="OperationDefinition"&&i.operation!=="query"?F(F({},i),{operation:"query"}):i})})};r.set(t,s)}return r.get(t)},e.prototype.getVariables=function(t,r){return F(F({},this.getDocumentInfo(t).defaultVars),r)},e.prototype.watchQuery=function(t){var r=this.transform(t.query);t=F(F({},t),{variables:this.getVariables(r,t.variables)}),typeof t.notifyOnNetworkStatusChange>"u"&&(t.notifyOnNetworkStatusChange=!1);var s=new fo(this),i=new Xs({queryManager:this,queryInfo:s,options:t});return i.lastQuery=r,Xs.inactiveOnCreation.getValue()||this.queries.set(i.queryId,s),s.init({document:r,observableQuery:i,variables:i.variables}),i},e.prototype.query=function(t,r){var s=this;r===void 0&&(r=this.generateQueryId()),ue(t.query,30),ue(t.query.kind==="Document",31),ue(!t.returnPartialData,32),ue(!t.pollInterval,33);var i=this.transform(t.query);return this.fetchQuery(r,F(F({},t),{query:i})).then(function(a){return a&&F(F({},a),{data:s.maskOperation({document:i,data:a.data,fetchPolicy:t.fetchPolicy,id:r})})}).finally(function(){return s.stopQuery(r)})},e.prototype.generateQueryId=function(){return String(this.queryIdCounter++)},e.prototype.generateRequestId=function(){return this.requestIdCounter++},e.prototype.generateMutationId=function(){return String(this.mutationIdCounter++)},e.prototype.stopQueryInStore=function(t){this.stopQueryInStoreNoBroadcast(t),this.broadcastQueries()},e.prototype.stopQueryInStoreNoBroadcast=function(t){var r=this.queries.get(t);r&&r.stop()},e.prototype.clearStore=function(t){return t===void 0&&(t={discardWatches:!0}),this.cancelPendingFetches(zt(34)),this.queries.forEach(function(r){r.observableQuery?r.networkStatus=Ye.loading:r.stop()}),this.mutationStore&&(this.mutationStore=Object.create(null)),this.cache.reset(t)},e.prototype.getObservableQueries=function(t){var r=this;t===void 0&&(t="active");var s=new Map,i=new Map,a=new Map,o=new Set;return Array.isArray(t)&&t.forEach(function(l){if(typeof l=="string")i.set(l,l),a.set(l,!1);else if(oy(l)){var c=mn(r.transform(l));i.set(c,zs(l)),a.set(c,!1)}else ht(l)&&l.query&&o.add(l)}),this.queries.forEach(function(l,c){var u=l.observableQuery,d=l.document;if(u){if(t==="all"){s.set(c,u);return}var h=u.queryName,f=u.options.fetchPolicy;if(f==="standby"||t==="active"&&!u.hasObservers())return;(t==="active"||h&&a.has(h)||d&&a.has(mn(d)))&&(s.set(c,u),h&&a.set(h,!0),d&&a.set(mn(d),!0))}}),o.size&&o.forEach(function(l){var c=Lo("legacyOneTimeQuery"),u=r.getOrCreateQuery(c).init({document:l.query,variables:l.variables}),d=new Xs({queryManager:r,queryInfo:u,options:F(F({},l),{fetchPolicy:"network-only"})});ue(d.queryId===c),u.setObservableQuery(d),s.set(c,d)}),globalThis.__DEV__!==!1&&a.size&&a.forEach(function(l,c){if(!l){var u=i.get(c);u?globalThis.__DEV__!==!1&&ue.warn(35,u):globalThis.__DEV__!==!1&&ue.warn(36)}}),s},e.prototype.reFetchObservableQueries=function(t){var r=this;t===void 0&&(t=!1);var s=[];return this.getObservableQueries(t?"all":"active").forEach(function(i,a){var o=i.options.fetchPolicy;i.resetLastResults(),(t||o!=="standby"&&o!=="cache-only")&&s.push(i.refetch()),(r.queries.get(a)||i.queryInfo).setDiff(null)}),this.broadcastQueries(),Promise.all(s)},e.prototype.startGraphQLSubscription=function(t){var r=this,s=t.query,i=t.variables,a=t.fetchPolicy,o=t.errorPolicy,l=o===void 0?"none":o,c=t.context,u=c===void 0?{}:c,d=t.extensions,h=d===void 0?{}:d;s=this.transform(s),i=this.getVariables(s,i);var f=function(g){return r.getObservableFromLink(s,u,g,h).map(function(m){a!=="no-cache"&&(sl(m,l)&&r.cache.write({query:s,result:m.data,dataId:"ROOT_SUBSCRIPTION",variables:g}),r.broadcastQueries());var x=zi(m),y=Uh(m);if(x||y){var b={};if(x&&(b.graphQLErrors=m.errors),y&&(b.protocolErrors=m.extensions[Pa]),l==="none"||y)throw new Sr(b)}return l==="ignore"&&delete m.errors,m})};if(this.getDocumentInfo(s).hasClientExports){var p=this.localState.addExportedVariables(s,i,u).then(f);return new at(function(g){var m=null;return p.then(function(x){return m=x.subscribe(g)},g.error),function(){return m&&m.unsubscribe()}})}return f(i)},e.prototype.stopQuery=function(t){this.stopQueryNoBroadcast(t),this.broadcastQueries()},e.prototype.stopQueryNoBroadcast=function(t){this.stopQueryInStoreNoBroadcast(t),this.removeQuery(t)},e.prototype.removeQuery=function(t){var r;this.fetchCancelFns.delete(t),this.queries.has(t)&&((r=this.queries.get(t))===null||r===void 0||r.stop(),this.queries.delete(t))},e.prototype.broadcastQueries=function(){this.onBroadcast&&this.onBroadcast(),this.queries.forEach(function(t){var r;return(r=t.observableQuery)===null||r===void 0?void 0:r.notify()})},e.prototype.getLocalState=function(){return this.localState},e.prototype.getObservableFromLink=function(t,r,s,i,a){var o=this,l;a===void 0&&(a=(l=r==null?void 0:r.queryDeduplication)!==null&&l!==void 0?l:this.queryDeduplication);var c,u=this.getDocumentInfo(t),d=u.serverQuery,h=u.clientQuery;if(d){var f=this,p=f.inFlightLinkObservables,g=f.link,m={query:d,variables:s,operationName:zs(d)||void 0,context:this.prepareContext(F(F({},r),{forceFetch:!a})),extensions:i};if(r=m.context,a){var x=mn(d),y=Xr(s),b=p.lookup(x,y);if(c=b.observable,!c){var j=new Bn([Jo(g,m)]);c=b.observable=j,j.beforeNext(function P(C,D){C==="next"&&"hasNext"in D&&D.hasNext?j.beforeNext(P):p.remove(x,y)})}}else c=new Bn([Jo(g,m)])}else c=new Bn([at.of({data:{}})]),r=this.prepareContext(r);return h&&(c=io(c,function(P){return o.localState.runResolvers({document:h,remoteResult:P,context:r,variables:s})})),c},e.prototype.getResultsFromLink=function(t,r,s){var i=t.lastRequestId=this.generateRequestId(),a=this.cache.transformForLink(s.query);return io(this.getObservableFromLink(a,s.context,s.variables),function(o){var l=Ko(o),c=l.length>0,u=s.errorPolicy;if(i>=t.lastRequestId){if(c&&u==="none")throw t.markError(new Sr({graphQLErrors:l}));t.markResult(o,a,s,r),t.markReady()}var d={data:o.data,loading:!1,networkStatus:Ye.ready};return c&&u==="none"&&(d.data=void 0),c&&u!=="ignore"&&(d.errors=l,d.networkStatus=Ye.error),d},function(o){var l=Qh(o)?o:new Sr({networkError:o});throw i>=t.lastRequestId&&t.markError(l),l})},e.prototype.fetchConcastWithInfo=function(t,r,s,i){var a=this;s===void 0&&(s=Ye.loading),i===void 0&&(i=r.query);var o=this.getVariables(i,r.variables),l=this.defaultOptions.watchQuery,c=r.fetchPolicy,u=c===void 0?l&&l.fetchPolicy||"cache-first":c,d=r.errorPolicy,h=d===void 0?l&&l.errorPolicy||"none":d,f=r.returnPartialData,p=f===void 0?!1:f,g=r.notifyOnNetworkStatusChange,m=g===void 0?!1:g,x=r.context,y=x===void 0?{}:x,b=Object.assign({},r,{query:i,variables:o,fetchPolicy:u,errorPolicy:h,returnPartialData:p,notifyOnNetworkStatusChange:m,context:y}),j=function(I){b.variables=I;var M=a.fetchQueryByPolicy(t,b,s);return b.fetchPolicy!=="standby"&&M.sources.length>0&&t.observableQuery&&t.observableQuery.applyNextFetchPolicy("after-fetch",r),M},P=function(){return a.fetchCancelFns.delete(t.queryId)};this.fetchCancelFns.set(t.queryId,function(I){P(),setTimeout(function(){return C.cancel(I)})});var C,D;if(this.getDocumentInfo(b.query).hasClientExports)C=new Bn(this.localState.addExportedVariables(b.query,b.variables,b.context).then(j).then(function(I){return I.sources})),D=!0;else{var T=j(b.variables);D=T.fromLink,C=new Bn(T.sources)}return C.promise.then(P,P),{concast:C,fromLink:D}},e.prototype.refetchQueries=function(t){var r=this,s=t.updateCache,i=t.include,a=t.optimistic,o=a===void 0?!1:a,l=t.removeOptimistic,c=l===void 0?o?Lo("refetchQueries"):void 0:l,u=t.onQueryUpdated,d=new Map;i&&this.getObservableQueries(i).forEach(function(f,p){d.set(p,{oq:f,lastDiff:(r.queries.get(p)||f.queryInfo).getDiff()})});var h=new Map;return s&&this.cache.batch({update:s,optimistic:o&&c||!1,removeOptimistic:c,onWatchUpdated:function(f,p,g){var m=f.watcher instanceof fo&&f.watcher.observableQuery;if(m){if(u){d.delete(m.queryId);var x=u(m,p,g);return x===!0&&(x=m.refetch()),x!==!1&&h.set(m,x),x}u!==null&&d.set(m.queryId,{oq:m,lastDiff:g,diff:p})}}}),d.size&&d.forEach(function(f,p){var g=f.oq,m=f.lastDiff,x=f.diff,y;u&&(x||(x=r.cache.diff(g.queryInfo.getDiffOptions())),y=u(g,x,m)),(!u||y===!0)&&(y=g.refetch()),y!==!1&&h.set(g,y),p.indexOf("legacyOneTimeQuery")>=0&&r.stopQueryNoBroadcast(p)}),c&&this.cache.removeOptimistic(c),h},e.prototype.maskOperation=function(t){var r,s,i,a=t.document,o=t.data;if(globalThis.__DEV__!==!1){var l=t.fetchPolicy,c=t.id,u=(r=En(a))===null||r===void 0?void 0:r.operation,d=((s=u==null?void 0:u[0])!==null&&s!==void 0?s:"o")+c;this.dataMasking&&l==="no-cache"&&!Vg(a)&&!this.noCacheWarningsByQueryId.has(d)&&(this.noCacheWarningsByQueryId.add(d),globalThis.__DEV__!==!1&&ue.warn(37,(i=zs(a))!==null&&i!==void 0?i:"Unnamed ".concat(u??"operation")))}return this.dataMasking?F0(o,a,this.cache):o},e.prototype.maskFragment=function(t){var r=t.data,s=t.fragment,i=t.fragmentName;return this.dataMasking?Zh(r,s,this.cache,i):r},e.prototype.fetchQueryByPolicy=function(t,r,s){var i=this,a=r.query,o=r.variables,l=r.fetchPolicy,c=r.refetchWritePolicy,u=r.errorPolicy,d=r.returnPartialData,h=r.context,f=r.notifyOnNetworkStatusChange,p=t.networkStatus;t.init({document:a,variables:o,networkStatus:s});var g=function(){return t.getDiff()},m=function(P,C){C===void 0&&(C=t.networkStatus||Ye.loading);var D=P.result;globalThis.__DEV__!==!1&&!d&&!et(D,{})&&pf(P.missing);var T=function(I){return at.of(F({data:I,loading:Hn(C),networkStatus:C},P.complete?null:{partial:!0}))};return D&&i.getDocumentInfo(a).hasForcedResolvers?i.localState.runResolvers({document:a,remoteResult:{data:D},context:h,variables:o,onlyRunForcedResolvers:!0}).then(function(I){return T(I.data||void 0)}):u==="none"&&C===Ye.refetch&&Array.isArray(P.missing)?T(void 0):T(D)},x=l==="no-cache"?0:s===Ye.refetch&&c!=="merge"?1:2,y=function(){return i.getResultsFromLink(t,x,{query:a,variables:o,context:h,fetchPolicy:l,errorPolicy:u})},b=f&&typeof p=="number"&&p!==s&&Hn(s);switch(l){default:case"cache-first":{var j=g();return j.complete?{fromLink:!1,sources:[m(j,t.markReady())]}:d||b?{fromLink:!0,sources:[m(j),y()]}:{fromLink:!0,sources:[y()]}}case"cache-and-network":{var j=g();return j.complete||d||b?{fromLink:!0,sources:[m(j),y()]}:{fromLink:!0,sources:[y()]}}case"cache-only":return{fromLink:!1,sources:[m(g(),t.markReady())]};case"network-only":return b?{fromLink:!0,sources:[m(g()),y()]}:{fromLink:!0,sources:[y()]};case"no-cache":return b?{fromLink:!0,sources:[m(t.getDiff()),y()]}:{fromLink:!0,sources:[y()]};case"standby":return{fromLink:!1,sources:[]}}},e.prototype.getOrCreateQuery=function(t){return t&&!this.queries.has(t)&&this.queries.set(t,new fo(this,t)),this.queries.get(t)},e.prototype.prepareContext=function(t){t===void 0&&(t={});var r=this.localState.prepareContext(t);return F(F(F({},this.defaultContext),r),{clientAwareness:this.clientAwareness})},e}(),sb=function(){function e(t){var r=t.cache,s=t.client,i=t.resolvers,a=t.fragmentMatcher;this.selectionsToResolveCache=new WeakMap,this.cache=r,s&&(this.client=s),i&&this.addResolvers(i),a&&this.setFragmentMatcher(a)}return e.prototype.addResolvers=function(t){var r=this;this.resolvers=this.resolvers||{},Array.isArray(t)?t.forEach(function(s){r.resolvers=nu(r.resolvers,s)}):this.resolvers=nu(this.resolvers,t)},e.prototype.setResolvers=function(t){this.resolvers={},this.addResolvers(t)},e.prototype.getResolvers=function(){return this.resolvers||{}},e.prototype.runResolvers=function(t){return Ur(this,arguments,void 0,function(r){var s=r.document,i=r.remoteResult,a=r.context,o=r.variables,l=r.onlyRunForcedResolvers,c=l===void 0?!1:l;return Qr(this,function(u){return s?[2,this.resolveDocument(s,i.data,a,o,this.fragmentMatcher,c).then(function(d){return F(F({},i),{data:d.result})})]:[2,i]})})},e.prototype.setFragmentMatcher=function(t){this.fragmentMatcher=t},e.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},e.prototype.clientQuery=function(t){return ii(["client"],t)&&this.resolvers?t:null},e.prototype.serverQuery=function(t){return Fh(t)},e.prototype.prepareContext=function(t){var r=this.cache;return F(F({},t),{cache:r,getCacheKey:function(s){return r.identify(s)}})},e.prototype.addExportedVariables=function(t){return Ur(this,arguments,void 0,function(r,s,i){return s===void 0&&(s={}),i===void 0&&(i={}),Qr(this,function(a){return r?[2,this.resolveDocument(r,this.buildRootValueFromCache(r,s)||{},this.prepareContext(i),s).then(function(o){return F(F({},s),o.exportedVariables)})]:[2,F({},s)]})})},e.prototype.shouldForceResolvers=function(t){var r=!1;return pr(t,{Directive:{enter:function(s){if(s.name.value==="client"&&s.arguments&&(r=s.arguments.some(function(i){return i.name.value==="always"&&i.value.kind==="BooleanValue"&&i.value.value===!0}),r))return ya}}}),r},e.prototype.buildRootValueFromCache=function(t,r){return this.cache.diff({query:Ny(t),variables:r,returnPartialData:!0,optimistic:!1}).result},e.prototype.resolveDocument=function(t,r){return Ur(this,arguments,void 0,function(s,i,a,o,l,c){var u,d,h,f,p,g,m,x,y,b,j;return a===void 0&&(a={}),o===void 0&&(o={}),l===void 0&&(l=function(){return!0}),c===void 0&&(c=!1),Qr(this,function(P){return u=gs(s),d=xs(s),h=ps(d),f=this.collectSelectionsToResolve(u,h),p=u.operation,g=p?p.charAt(0).toUpperCase()+p.slice(1):"Query",m=this,x=m.cache,y=m.client,b={fragmentMap:h,context:F(F({},a),{cache:x,client:y}),variables:o,fragmentMatcher:l,defaultOperationType:g,exportedVariables:{},selectionsToResolve:f,onlyRunForcedResolvers:c},j=!1,[2,this.resolveSelectionSet(u.selectionSet,j,i,b).then(function(C){return{result:C,exportedVariables:b.exportedVariables}})]})})},e.prototype.resolveSelectionSet=function(t,r,s,i){return Ur(this,void 0,void 0,function(){var a,o,l,c,u,d=this;return Qr(this,function(h){return a=i.fragmentMap,o=i.context,l=i.variables,c=[s],u=function(f){return Ur(d,void 0,void 0,function(){var p,g;return Qr(this,function(m){return!r&&!i.selectionsToResolve.has(f)?[2]:yi(f,l)?tn(f)?[2,this.resolveField(f,r,s,i).then(function(x){var y;typeof x<"u"&&c.push((y={},y[Nr(f)]=x,y))})]:(by(f)?p=f:(p=a[f.name.value],ue(p,19,f.name.value)),p&&p.typeCondition&&(g=p.typeCondition.name.value,i.fragmentMatcher(s,g,o))?[2,this.resolveSelectionSet(p.selectionSet,r,s,i).then(function(x){c.push(x)})]:[2]):[2]})})},[2,Promise.all(t.selections.map(u)).then(function(){return Ca(c)})]})})},e.prototype.resolveField=function(t,r,s,i){return Ur(this,void 0,void 0,function(){var a,o,l,c,u,d,h,f,p,g=this;return Qr(this,function(m){return s?(a=i.variables,o=t.name.value,l=Nr(t),c=o!==l,u=s[l]||s[o],d=Promise.resolve(u),(!i.onlyRunForcedResolvers||this.shouldForceResolvers(t))&&(h=s.__typename||i.defaultOperationType,f=this.resolvers&&this.resolvers[h],f&&(p=f[c?o:l],p&&(d=Promise.resolve(Kl.withValue(this.cache,p,[s,ja(t,a),i.context,{field:t,fragmentMap:i.fragmentMap}]))))),[2,d.then(function(x){var y,b;if(x===void 0&&(x=u),t.directives&&t.directives.forEach(function(P){P.name.value==="export"&&P.arguments&&P.arguments.forEach(function(C){C.name.value==="as"&&C.value.kind==="StringValue"&&(i.exportedVariables[C.value.value]=x)})}),!t.selectionSet||x==null)return x;var j=(b=(y=t.directives)===null||y===void 0?void 0:y.some(function(P){return P.name.value==="client"}))!==null&&b!==void 0?b:!1;if(Array.isArray(x))return g.resolveSubSelectedArray(t,r||j,x,i);if(t.selectionSet)return g.resolveSelectionSet(t.selectionSet,r||j,x,i)})]):[2,null]})})},e.prototype.resolveSubSelectedArray=function(t,r,s,i){var a=this;return Promise.all(s.map(function(o){if(o===null)return null;if(Array.isArray(o))return a.resolveSubSelectedArray(t,r,o,i);if(t.selectionSet)return a.resolveSelectionSet(t.selectionSet,r,o,i)}))},e.prototype.collectSelectionsToResolve=function(t,r){var s=function(o){return!Array.isArray(o)},i=this.selectionsToResolveCache;function a(o){if(!i.has(o)){var l=new Set;i.set(o,l),pr(o,{Directive:function(c,u,d,h,f){c.name.value==="client"&&f.forEach(function(p){s(p)&&Yc(p)&&l.add(p)})},FragmentSpread:function(c,u,d,h,f){var p=r[c.name.value];ue(p,20,c.name.value);var g=a(p);g.size>0&&(f.forEach(function(m){s(m)&&Yc(m)&&l.add(m)}),l.add(c),g.forEach(function(m){l.add(m)}))}})}return i.get(o)}return a(t)},e}(),Fu=!1,Da=function(){function e(t){var r=this,s;if(this.resetStoreCallbacks=[],this.clearStoreCallbacks=[],!t.cache)throw zt(16);var i=t.uri,a=t.credentials,o=t.headers,l=t.cache,c=t.documentTransform,u=t.ssrMode,d=u===void 0?!1:u,h=t.ssrForceFetchDelay,f=h===void 0?0:h,p=t.connectToDevTools,g=t.queryDeduplication,m=g===void 0?!0:g,x=t.defaultOptions,y=t.defaultContext,b=t.assumeImmutableResults,j=b===void 0?l.assumeImmutableResults:b,P=t.resolvers,C=t.typeDefs,D=t.fragmentMatcher,T=t.name,I=t.version,M=t.devtools,W=t.dataMasking,z=t.link;z||(z=i?new Nn({uri:i,credentials:a,headers:o}):Tr.empty()),this.link=z,this.cache=l,this.disableNetworkFetches=d||f>0,this.queryDeduplication=m,this.defaultOptions=x||Object.create(null),this.typeDefs=C,this.devtoolsConfig=F(F({},M),{enabled:(s=M==null?void 0:M.enabled)!==null&&s!==void 0?s:p}),this.devtoolsConfig.enabled===void 0&&(this.devtoolsConfig.enabled=globalThis.__DEV__!==!1),f&&setTimeout(function(){return r.disableNetworkFetches=!1},f),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.watchFragment=this.watchFragment.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this),this.version=Ml,this.localState=new sb({cache:l,client:this,resolvers:P,fragmentMatcher:D}),this.queryManager=new nb({cache:this.cache,link:this.link,defaultOptions:this.defaultOptions,defaultContext:y,documentTransform:c,queryDeduplication:m,ssrMode:d,dataMasking:!!W,clientAwareness:{name:T,version:I},localState:this.localState,assumeImmutableResults:j,onBroadcast:this.devtoolsConfig.enabled?function(){r.devToolsHookCb&&r.devToolsHookCb({action:{},state:{queries:r.queryManager.getQueryStore(),mutations:r.queryManager.mutationStore||{}},dataWithOptimisticResults:r.cache.extract(!0)})}:void 0}),this.devtoolsConfig.enabled&&this.connectToDevTools()}return e.prototype.connectToDevTools=function(){if(!(typeof window>"u")){var t=window,r=Symbol.for("apollo.devtools");(t[r]=t[r]||[]).push(this),t.__APOLLO_CLIENT__=this,!Fu&&globalThis.__DEV__!==!1&&(Fu=!0,window.document&&window.top===window.self&&/^(https?|file):$/.test(window.location.protocol)&&setTimeout(function(){if(!window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__){var s=window.navigator,i=s&&s.userAgent,a=void 0;typeof i=="string"&&(i.indexOf("Chrome/")>-1?a="https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm":i.indexOf("Firefox/")>-1&&(a="https://addons.mozilla.org/en-US/firefox/addon/apollo-developer-tools/")),a&&globalThis.__DEV__!==!1&&ue.log("Download the Apollo DevTools for a better development experience: %s",a)}},1e4))}},Object.defineProperty(e.prototype,"documentTransform",{get:function(){return this.queryManager.documentTransform},enumerable:!1,configurable:!0}),e.prototype.stop=function(){this.queryManager.stop()},e.prototype.watchQuery=function(t){return this.defaultOptions.watchQuery&&(t=vn(this.defaultOptions.watchQuery,t)),this.disableNetworkFetches&&(t.fetchPolicy==="network-only"||t.fetchPolicy==="cache-and-network")&&(t=F(F({},t),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(t)},e.prototype.query=function(t){return this.defaultOptions.query&&(t=vn(this.defaultOptions.query,t)),ue(t.fetchPolicy!=="cache-and-network",17),this.disableNetworkFetches&&t.fetchPolicy==="network-only"&&(t=F(F({},t),{fetchPolicy:"cache-first"})),this.queryManager.query(t)},e.prototype.mutate=function(t){return this.defaultOptions.mutate&&(t=vn(this.defaultOptions.mutate,t)),this.queryManager.mutate(t)},e.prototype.subscribe=function(t){var r=this,s=this.queryManager.generateQueryId();return this.queryManager.startGraphQLSubscription(t).map(function(i){return F(F({},i),{data:r.queryManager.maskOperation({document:t.query,data:i.data,fetchPolicy:t.fetchPolicy,id:s})})})},e.prototype.readQuery=function(t,r){return r===void 0&&(r=!1),this.cache.readQuery(t,r)},e.prototype.watchFragment=function(t){var r;return this.cache.watchFragment(F(F({},t),(r={},r[Symbol.for("apollo.dataMasking")]=this.queryManager.dataMasking,r)))},e.prototype.readFragment=function(t,r){return r===void 0&&(r=!1),this.cache.readFragment(t,r)},e.prototype.writeQuery=function(t){var r=this.cache.writeQuery(t);return t.broadcast!==!1&&this.queryManager.broadcastQueries(),r},e.prototype.writeFragment=function(t){var r=this.cache.writeFragment(t);return t.broadcast!==!1&&this.queryManager.broadcastQueries(),r},e.prototype.__actionHookForDevTools=function(t){this.devToolsHookCb=t},e.prototype.__requestRaw=function(t){return Jo(this.link,t)},e.prototype.resetStore=function(){var t=this;return Promise.resolve().then(function(){return t.queryManager.clearStore({discardWatches:!1})}).then(function(){return Promise.all(t.resetStoreCallbacks.map(function(r){return r()}))}).then(function(){return t.reFetchObservableQueries()})},e.prototype.clearStore=function(){var t=this;return Promise.resolve().then(function(){return t.queryManager.clearStore({discardWatches:!0})}).then(function(){return Promise.all(t.clearStoreCallbacks.map(function(r){return r()}))})},e.prototype.onResetStore=function(t){var r=this;return this.resetStoreCallbacks.push(t),function(){r.resetStoreCallbacks=r.resetStoreCallbacks.filter(function(s){return s!==t})}},e.prototype.onClearStore=function(t){var r=this;return this.clearStoreCallbacks.push(t),function(){r.clearStoreCallbacks=r.clearStoreCallbacks.filter(function(s){return s!==t})}},e.prototype.reFetchObservableQueries=function(t){return this.queryManager.reFetchObservableQueries(t)},e.prototype.refetchQueries=function(t){var r=this.queryManager.refetchQueries(t),s=[],i=[];r.forEach(function(o,l){s.push(l),i.push(o)});var a=Promise.all(i);return a.queries=s,a.results=i,a.catch(function(o){globalThis.__DEV__!==!1&&ue.debug(18,o)}),a},e.prototype.getObservableQueries=function(t){return t===void 0&&(t="active"),this.queryManager.getObservableQueries(t)},e.prototype.extract=function(t){return this.cache.extract(t)},e.prototype.restore=function(t){return this.cache.restore(t)},e.prototype.addResolvers=function(t){this.localState.addResolvers(t)},e.prototype.setResolvers=function(t){this.localState.setResolvers(t)},e.prototype.getResolvers=function(){return this.localState.getResolvers()},e.prototype.setLocalStateFragmentMatcher=function(t){this.localState.setFragmentMatcher(t)},e.prototype.setLink=function(t){this.link=this.queryManager.link=t},Object.defineProperty(e.prototype,"defaultContext",{get:function(){return this.queryManager.defaultContext},enumerable:!1,configurable:!0}),e}();globalThis.__DEV__!==!1&&(Da.prototype.getMemoryInternals=Xg);var Hi=new Map,il=new Map,mf=!0,aa=!1;function xf(e){return e.replace(/[\s,]+/g," ").trim()}function ib(e){return xf(e.source.body.substring(e.start,e.end))}function ab(e){var t=new Set,r=[];return e.definitions.forEach(function(s){if(s.kind==="FragmentDefinition"){var i=s.name.value,a=ib(s.loc),o=il.get(i);o&&!o.has(a)?mf&&console.warn("Warning: fragment with name "+i+` already exists.
graphql-tag enforces all fragment names across your application to be unique; read more about
this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names`):o||il.set(i,o=new Set),o.add(a),t.has(a)||(t.add(a),r.push(s))}else r.push(s)}),F(F({},e),{definitions:r})}function ob(e){var t=new Set(e.definitions);t.forEach(function(s){s.loc&&delete s.loc,Object.keys(s).forEach(function(i){var a=s[i];a&&typeof a=="object"&&t.add(a)})});var r=e.loc;return r&&(delete r.startToken,delete r.endToken),e}function lb(e){var t=xf(e);if(!Hi.has(t)){var r=wg(e,{experimentalFragmentVariables:aa,allowLegacyFragmentVariables:aa});if(!r||r.kind!=="Document")throw new Error("Not a valid GraphQL document.");Hi.set(t,ob(ab(r)))}return Hi.get(t)}function re(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];typeof e=="string"&&(e=[e]);var s=e[0];return t.forEach(function(i,a){i&&i.kind==="Document"?s+=i.loc.source.body:s+=i,s+=e[a+1]}),lb(s)}function cb(){Hi.clear(),il.clear()}function ub(){mf=!1}function db(){aa=!0}function hb(){aa=!1}var Ns={gql:re,resetCaches:cb,disableFragmentWarnings:ub,enableExperimentalFragmentVariables:db,disableExperimentalFragmentVariables:hb};(function(e){e.gql=Ns.gql,e.resetCaches=Ns.resetCaches,e.disableFragmentWarnings=Ns.disableFragmentWarnings,e.enableExperimentalFragmentVariables=Ns.enableExperimentalFragmentVariables,e.disableExperimentalFragmentVariables=Ns.disableExperimentalFragmentVariables})(re||(re={}));re.default=re;var po={exports:{}},Lu;function fb(){return Lu||(Lu=1,function(e){e.exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=void 0,e.exports.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=void 0,e.exports.__SERVER_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=void 0,Object.assign(e.exports,Rm())}(po)),po.exports}var Qe=fb();const pb=$d(Qe),gf=Nm({__proto__:null,default:pb},[Qe]);var Wu=Fl?Symbol.for("__APOLLO_CONTEXT__"):"__APOLLO_CONTEXT__";function ec(){ue("createContext"in gf,54);var e=Qe.createContext[Wu];return e||(Object.defineProperty(Qe.createContext,Wu,{value:e=Qe.createContext({}),enumerable:!1,writable:!1,configurable:!0}),e.displayName="ApolloContext"),e}var mb=function(e){var t=e.client,r=e.children,s=ec(),i=Qe.useContext(s),a=Qe.useMemo(function(){return F(F({},i),{client:t||i.client})},[i,t]);return ue(a.client,55),Qe.createElement(s.Provider,{value:a},r)};function tc(e){var t=Qe.useContext(ec()),r=e||t.client;return ue(!!r,58),r}var qu=!1,xb="useSyncExternalStore",gb=gf[xb],yb=gb||function(e,t,r){var s=t();globalThis.__DEV__!==!1&&!qu&&s!==t()&&(qu=!0,globalThis.__DEV__!==!1&&ue.error(68));var i=Qe.useState({inst:{value:s,getSnapshot:t}}),a=i[0].inst,o=i[1];return $g?Qe.useLayoutEffect(function(){Object.assign(a,{value:s,getSnapshot:t}),mo(a)&&o({inst:a})},[e,s,t]):Object.assign(a,{value:s,getSnapshot:t}),Qe.useEffect(function(){return mo(a)&&o({inst:a}),e(function(){mo(a)&&o({inst:a})})},[e]),s};function mo(e){var t=e.value,r=e.getSnapshot;try{return t!==r()}catch{return!0}}var Dr;(function(e){e[e.Query=0]="Query",e[e.Mutation=1]="Mutation",e[e.Subscription=2]="Subscription"})(Dr||(Dr={}));var xn;function $u(e){var t;switch(e){case Dr.Query:t="Query";break;case Dr.Mutation:t="Mutation";break;case Dr.Subscription:t="Subscription";break}return t}function yf(e){xn||(xn=new Ll(Ir.parser||1e3));var t=xn.get(e);if(t)return t;var r,s,i;ue(!!e&&!!e.kind,70,e);for(var a=[],o=[],l=[],c=[],u=0,d=e.definitions;u<d.length;u++){var h=d[u];if(h.kind==="FragmentDefinition"){a.push(h);continue}if(h.kind==="OperationDefinition")switch(h.operation){case"query":o.push(h);break;case"mutation":l.push(h);break;case"subscription":c.push(h);break}}ue(!a.length||o.length||l.length||c.length,71),ue(o.length+l.length+c.length<=1,72,e,o.length,c.length,l.length),s=o.length?Dr.Query:Dr.Mutation,!o.length&&!l.length&&(s=Dr.Subscription);var f=o.length?o:l.length?l:c;ue(f.length===1,73,e,f.length);var p=f[0];r=p.variableDefinitions||[],p.name&&p.name.kind==="Name"?i=p.name.value:i="data";var g={name:i,type:s,variables:r};return xn.set(e,g),g}yf.resetCache=function(){xn=void 0};globalThis.__DEV__!==!1&&Wl("parser",function(){return xn?xn.size:0});function bf(e,t){var r=yf(e),s=$u(t),i=$u(r.type);ue(r.type===t,74,s,s,i)}var vf=mh?Qe.useLayoutEffect:Qe.useEffect,bb=Symbol.for("apollo.hook.wrappers");function vb(e,t,r){var s=r.queryManager,i=s&&s[bb],a=i&&i[e];return a?a(t):t}var jb=Object.prototype.hasOwnProperty;function Bu(){}var Yi=Symbol();function mr(e,t){return t===void 0&&(t=Object.create(null)),vb("useQuery",wb,tc(t&&t.client))(e,t)}function wb(e,t){var r=jf(e,t),s=r.result,i=r.obsQueryFields;return Qe.useMemo(function(){return F(F({},s),i)},[s,i])}function Sb(e,t,r,s,i){function a(h){var f;bf(t,Dr.Query);var p={client:e,query:t,observable:s&&s.getSSRObservable(i())||Xs.inactiveOnCreation.withValue(!s,function(){return e.watchQuery(rc(void 0,e,r,i()))}),resultData:{previousData:(f=h==null?void 0:h.resultData.current)===null||f===void 0?void 0:f.data}};return p}var o=Qe.useState(a),l=o[0],c=o[1];function u(h){var f,p;Object.assign(l.observable,(f={},f[Yi]=h,f));var g=l.resultData;c(F(F({},l),{query:h.query,resultData:Object.assign(g,{previousData:((p=g.current)===null||p===void 0?void 0:p.data)||g.previousData,current:void 0})}))}if(e!==l.client||t!==l.query){var d=a(l);return c(d),[d,u]}return[l,u]}function jf(e,t){var r=tc(t.client),s=Qe.useContext(ec()).renderPromises,i=!!s,a=r.disableNetworkFetches,o=t.ssr!==!1&&!t.skip,l=t.partialRefetch,c=wf(r,e,t,i),u=Sb(r,e,t,s,c),d=u[0],h=d.observable,f=d.resultData,p=u[1],g=c(h);kb(f,h,r,t,g);var m=Qe.useMemo(function(){return Tb(h)},[h]);Pb(h,s,o);var x=Cb(f,h,r,t,g,a,l,i,{onCompleted:t.onCompleted||Bu,onError:t.onError||Bu});return{result:x,obsQueryFields:m,observable:h,resultData:f,client:r,onQueryExecuted:p}}function Cb(e,t,r,s,i,a,o,l,c){var u=Qe.useRef(c);Qe.useEffect(function(){u.current=c});var d=(l||a)&&s.ssr===!1&&!s.skip?Sf:s.skip||i.fetchPolicy==="standby"?Cf:void 0,h=e.previousData,f=Qe.useMemo(function(){return d&&oa(d,h,t,r)},[r,t,d,h]);return yb(Qe.useCallback(function(p){if(l)return function(){};var g=function(){var y=e.current,b=t.getCurrentResult();y&&y.loading===b.loading&&y.networkStatus===b.networkStatus&&et(y.data,b.data)||al(b,e,t,r,o,p,u.current)},m=function(y){if(x.current.unsubscribe(),x.current=t.resubscribeAfterError(g,m),!jb.call(y,"graphQLErrors"))throw y;var b=e.current;(!b||b&&b.loading||!et(y,b.error))&&al({data:b&&b.data,error:y,loading:!1,networkStatus:Ye.error},e,t,r,o,p,u.current)},x={current:t.subscribe(g,m)};return function(){setTimeout(function(){return x.current.unsubscribe()})}},[a,l,t,e,o,r]),function(){return f||Vu(e,t,u.current,o,r)},function(){return f||Vu(e,t,u.current,o,r)})}function Pb(e,t,r){t&&r&&(t.registerSSRObservable(e),e.getCurrentResult().loading&&t.addObservableQueryPromise(e))}function kb(e,t,r,s,i){var a;t[Yi]&&!et(t[Yi],i)&&(t.reobserve(rc(t,r,s,i)),e.previousData=((a=e.current)===null||a===void 0?void 0:a.data)||e.previousData,e.current=void 0),t[Yi]=i}function wf(e,t,r,s){r===void 0&&(r={});var i=r.skip;r.ssr,r.onCompleted,r.onError;var a=r.defaultOptions,o=hr(r,["skip","ssr","onCompleted","onError","defaultOptions"]);return function(l){var c=Object.assign(o,{query:t});return s&&(c.fetchPolicy==="network-only"||c.fetchPolicy==="cache-and-network")&&(c.fetchPolicy="cache-first"),c.variables||(c.variables={}),i?(c.initialFetchPolicy=c.initialFetchPolicy||c.fetchPolicy||ol(a,e.defaultOptions),c.fetchPolicy="standby"):c.fetchPolicy||(c.fetchPolicy=(l==null?void 0:l.options.initialFetchPolicy)||ol(a,e.defaultOptions)),c}}function rc(e,t,r,s){var i=[],a=t.defaultOptions.watchQuery;return a&&i.push(a),r.defaultOptions&&i.push(r.defaultOptions),i.push(Tn(e&&e.options,s)),i.reduce(vn)}function al(e,t,r,s,i,a,o){var l=t.current;l&&l.data&&(t.previousData=l.data),!e.error&&sr(e.errors)&&(e.error=new Sr({graphQLErrors:e.errors})),t.current=oa(Eb(e,r,i),t.previousData,r,s),a(),Db(e,l==null?void 0:l.networkStatus,o)}function Db(e,t,r){if(!e.loading){var s=Ib(e);Promise.resolve().then(function(){s?r.onError(s):e.data&&t!==e.networkStatus&&e.networkStatus===Ye.ready&&r.onCompleted(e.data)}).catch(function(i){globalThis.__DEV__!==!1&&ue.warn(i)})}}function Vu(e,t,r,s,i){return e.current||al(t.getCurrentResult(),e,t,i,s,function(){},r),e.current}function ol(e,t){var r;return(e==null?void 0:e.fetchPolicy)||((r=t==null?void 0:t.watchQuery)===null||r===void 0?void 0:r.fetchPolicy)||"cache-first"}function Ib(e){return sr(e.errors)?new Sr({graphQLErrors:e.errors}):e.error}function oa(e,t,r,s){var i=e.data;e.partial;var a=hr(e,["data","partial"]),o=F(F({data:i},a),{client:s,observable:r,variables:r.variables,called:e!==Sf&&e!==Cf,previousData:t});return o}function Eb(e,t,r){return e.partial&&r&&!e.loading&&(!e.data||Object.keys(e.data).length===0)&&t.options.fetchPolicy!=="cache-only"?(t.refetch(),F(F({},e),{loading:!0,networkStatus:Ye.refetch})):e}var Sf=ls({loading:!0,data:void 0,error:void 0,networkStatus:Ye.loading}),Cf=ls({loading:!1,data:void 0,error:void 0,networkStatus:Ye.ready});function Tb(e){return{refetch:e.refetch.bind(e),reobserve:e.reobserve.bind(e),fetchMore:e.fetchMore.bind(e),updateQuery:e.updateQuery.bind(e),startPolling:e.startPolling.bind(e),stopPolling:e.stopPolling.bind(e),subscribeToMore:e.subscribeToMore.bind(e)}}var Mb=["refetch","reobserve","fetchMore","updateQuery","startPolling","stopPolling","subscribeToMore"];function Ob(e,t){var r,s=Qe.useRef(void 0),i=Qe.useRef(void 0),a=Qe.useRef(void 0),o=vn(t,s.current||{}),l=(r=o==null?void 0:o.query)!==null&&r!==void 0?r:e;i.current=t,a.current=l;var c=F(F({},o),{skip:!s.current}),u=jf(l,c),d=u.obsQueryFields,h=u.result,f=u.client,p=u.resultData,g=u.observable,m=u.onQueryExecuted,x=g.options.initialFetchPolicy||ol(c.defaultOptions,f.defaultOptions),y=Qe.useReducer(function(I){return I+1},0)[1],b=Qe.useMemo(function(){for(var I={},M=function(U){var w=d[U];I[U]=function(){return s.current||(s.current=Object.create(null),y()),w.apply(this,arguments)}},W=0,z=Mb;W<z.length;W++){var L=z[W];M(L)}return I},[y,d]),j=!!s.current,P=Qe.useMemo(function(){return F(F(F({},h),b),{called:j})},[h,b,j]),C=Qe.useCallback(function(I){s.current=I?F(F({},I),{fetchPolicy:I.fetchPolicy||x}):{fetchPolicy:x};var M=vn(i.current,F({query:a.current},s.current)),W=Rb(p,g,f,l,F(F({},M),{skip:!1}),m).then(function(z){return Object.assign(z,b)});return W.catch(function(){}),W},[f,l,b,x,g,p,m]),D=Qe.useRef(C);vf(function(){D.current=C});var T=Qe.useCallback(function(){for(var I=[],M=0;M<arguments.length;M++)I[M]=arguments[M];return D.current.apply(D,I)},[]);return[T,P]}function Rb(e,t,r,s,i,a){var o=i.query||s,l=wf(r,o,i,!1)(t),c=t.reobserveAsConcast(rc(t,r,i,l));return a(l),new Promise(function(u){var d;c.subscribe({next:function(h){d=h},error:function(){u(oa(t.getCurrentResult(),e.previousData,t,r))},complete:function(){u(oa(t.maskResult(d),e.previousData,t,r))}})})}function Zt(e,t){var r=tc(t==null?void 0:t.client);bf(e,Dr.Mutation);var s=Qe.useState({called:!1,loading:!1,client:r}),i=s[0],a=s[1],o=Qe.useRef({result:i,mutationId:0,isMounted:!0,client:r,mutation:e,options:t});vf(function(){Object.assign(o.current,{client:r,options:t,mutation:e})});var l=Qe.useCallback(function(u){u===void 0&&(u={});var d=o.current,h=d.options,f=d.mutation,p=F(F({},h),{mutation:f}),g=u.client||o.current.client;!o.current.result.loading&&!p.ignoreResults&&o.current.isMounted&&a(o.current.result={loading:!0,error:void 0,data:void 0,called:!0,client:g});var m=++o.current.mutationId,x=vn(p,u);return g.mutate(x).then(function(y){var b,j,P=y.data,C=y.errors,D=C&&C.length>0?new Sr({graphQLErrors:C}):void 0,T=u.onError||((b=o.current.options)===null||b===void 0?void 0:b.onError);if(D&&T&&T(D,x),m===o.current.mutationId&&!x.ignoreResults){var I={called:!0,loading:!1,data:P,error:D,client:g};o.current.isMounted&&!et(o.current.result,I)&&a(o.current.result=I)}var M=u.onCompleted||((j=o.current.options)===null||j===void 0?void 0:j.onCompleted);return D||M==null||M(y.data,x),y},function(y){var b;if(m===o.current.mutationId&&o.current.isMounted){var j={loading:!1,error:y,data:void 0,called:!0,client:g};et(o.current.result,j)||a(o.current.result=j)}var P=u.onError||((b=o.current.options)===null||b===void 0?void 0:b.onError);if(P)return P(y,x),{data:void 0,errors:y};throw y})},[]),c=Qe.useCallback(function(){if(o.current.isMounted){var u={called:!1,loading:!1,client:o.current.client};Object.assign(o.current,{mutationId:0,result:u}),a(u)}},[]);return Qe.useEffect(function(){var u=o.current;return u.isMounted=!0,function(){u.isMounted=!1}},[]),[l,F({reset:c},i)]}const ci=e=>typeof e=="number"&&!isNaN(e),jn=e=>typeof e=="string",tr=e=>typeof e=="function",Gi=e=>jn(e)||tr(e)?e:null,ll=e=>v.isValidElement(e)||jn(e)||tr(e)||ci(e);function Nb(e,t,r){r===void 0&&(r=300);const{scrollHeight:s,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=s+"px",i.transition=`all ${r}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,r)})})}function Ia(e){let{enter:t,exit:r,appendPosition:s=!1,collapse:i=!0,collapseDuration:a=300}=e;return function(o){let{children:l,position:c,preventExitTransition:u,done:d,nodeRef:h,isIn:f,playToast:p}=o;const g=s?`${t}--${c}`:t,m=s?`${r}--${c}`:r,x=v.useRef(0);return v.useLayoutEffect(()=>{const y=h.current,b=g.split(" "),j=P=>{P.target===h.current&&(p(),y.removeEventListener("animationend",j),y.removeEventListener("animationcancel",j),x.current===0&&P.type!=="animationcancel"&&y.classList.remove(...b))};y.classList.add(...b),y.addEventListener("animationend",j),y.addEventListener("animationcancel",j)},[]),v.useEffect(()=>{const y=h.current,b=()=>{y.removeEventListener("animationend",b),i?Nb(y,d,a):d()};f||(u?b():(x.current=1,y.className+=` ${m}`,y.addEventListener("animationend",b)))},[f]),nt.createElement(nt.Fragment,null,l)}}function zu(e,t){return e!=null?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const Wt=new Map;let ui=[];const cl=new Set,_b=e=>cl.forEach(t=>t(e)),Pf=()=>Wt.size>0;function kf(e,t){var r;if(t)return!((r=Wt.get(t))==null||!r.isToastActive(e));let s=!1;return Wt.forEach(i=>{i.isToastActive(e)&&(s=!0)}),s}function Df(e,t){ll(e)&&(Pf()||ui.push({content:e,options:t}),Wt.forEach(r=>{r.buildToast(e,t)}))}function Uu(e,t){Wt.forEach(r=>{t!=null&&t!=null&&t.containerId?(t==null?void 0:t.containerId)===r.id&&r.toggle(e,t==null?void 0:t.id):r.toggle(e,t==null?void 0:t.id)})}function Ab(e){const{subscribe:t,getSnapshot:r,setProps:s}=v.useRef(function(a){const o=a.containerId||1;return{subscribe(l){const c=function(d,h,f){let p=1,g=0,m=[],x=[],y=[],b=h;const j=new Map,P=new Set,C=()=>{y=Array.from(j.values()),P.forEach(I=>I())},D=I=>{x=I==null?[]:x.filter(M=>M!==I),C()},T=I=>{const{toastId:M,onOpen:W,updateId:z,children:L}=I.props,U=z==null;I.staleId&&j.delete(I.staleId),j.set(M,I),x=[...x,I.props.toastId].filter(w=>w!==I.staleId),C(),f(zu(I,U?"added":"updated")),U&&tr(W)&&W(v.isValidElement(L)&&L.props)};return{id:d,props:b,observe:I=>(P.add(I),()=>P.delete(I)),toggle:(I,M)=>{j.forEach(W=>{M!=null&&M!==W.props.toastId||tr(W.toggle)&&W.toggle(I)})},removeToast:D,toasts:j,clearQueue:()=>{g-=m.length,m=[]},buildToast:(I,M)=>{if((he=>{let{containerId:J,toastId:ne,updateId:ee}=he;const Ie=J?J!==d:d!==1,te=j.has(ne)&&ee==null;return Ie||te})(M))return;const{toastId:W,updateId:z,data:L,staleId:U,delay:w}=M,_=()=>{D(W)},N=z==null;N&&g++;const A={...b,style:b.toastStyle,key:p++,...Object.fromEntries(Object.entries(M).filter(he=>{let[J,ne]=he;return ne!=null})),toastId:W,updateId:z,data:L,closeToast:_,isIn:!1,className:Gi(M.className||b.toastClassName),bodyClassName:Gi(M.bodyClassName||b.bodyClassName),progressClassName:Gi(M.progressClassName||b.progressClassName),autoClose:!M.isLoading&&(O=M.autoClose,B=b.autoClose,O===!1||ci(O)&&O>0?O:B),deleteToast(){const he=j.get(W),{onClose:J,children:ne}=he.props;tr(J)&&J(v.isValidElement(ne)&&ne.props),f(zu(he,"removed")),j.delete(W),g--,g<0&&(g=0),m.length>0?T(m.shift()):C()}};var O,B;A.closeButton=b.closeButton,M.closeButton===!1||ll(M.closeButton)?A.closeButton=M.closeButton:M.closeButton===!0&&(A.closeButton=!ll(b.closeButton)||b.closeButton);let G=I;v.isValidElement(I)&&!jn(I.type)?G=v.cloneElement(I,{closeToast:_,toastProps:A,data:L}):tr(I)&&(G=I({closeToast:_,toastProps:A,data:L}));const me={content:G,props:A,staleId:U};b.limit&&b.limit>0&&g>b.limit&&N?m.push(me):ci(w)?setTimeout(()=>{T(me)},w):T(me)},setProps(I){b=I},setToggle:(I,M)=>{j.get(I).toggle=M},isToastActive:I=>x.some(M=>M===I),getSnapshot:()=>y}}(o,a,_b);Wt.set(o,c);const u=c.observe(l);return ui.forEach(d=>Df(d.content,d.options)),ui=[],()=>{u(),Wt.delete(o)}},setProps(l){var c;(c=Wt.get(o))==null||c.setProps(l)},getSnapshot(){var l;return(l=Wt.get(o))==null?void 0:l.getSnapshot()}}}(e)).current;s(e);const i=v.useSyncExternalStore(t,r,r);return{getToastToRender:function(a){if(!i)return[];const o=new Map;return e.newestOnTop&&i.reverse(),i.forEach(l=>{const{position:c}=l.props;o.has(c)||o.set(c,[]),o.get(c).push(l)}),Array.from(o,l=>a(l[0],l[1]))},isToastActive:kf,count:i==null?void 0:i.length}}function Fb(e){const[t,r]=v.useState(!1),[s,i]=v.useState(!1),a=v.useRef(null),o=v.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:l,pauseOnHover:c,closeToast:u,onClick:d,closeOnClick:h}=e;var f,p;function g(){r(!0)}function m(){r(!1)}function x(j){const P=a.current;o.canDrag&&P&&(o.didMove=!0,t&&m(),o.delta=e.draggableDirection==="x"?j.clientX-o.start:j.clientY-o.start,o.start!==j.clientX&&(o.canCloseOnClick=!1),P.style.transform=`translate3d(${e.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`},0)`,P.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function y(){document.removeEventListener("pointermove",x),document.removeEventListener("pointerup",y);const j=a.current;if(o.canDrag&&o.didMove&&j){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return i(!0),e.closeToast(),void e.collapseAll();j.style.transition="transform 0.2s, opacity 0.2s",j.style.removeProperty("transform"),j.style.removeProperty("opacity")}}(p=Wt.get((f={id:e.toastId,containerId:e.containerId,fn:r}).containerId||1))==null||p.setToggle(f.id,f.fn),v.useEffect(()=>{if(e.pauseOnFocusLoss)return document.hasFocus()||m(),window.addEventListener("focus",g),window.addEventListener("blur",m),()=>{window.removeEventListener("focus",g),window.removeEventListener("blur",m)}},[e.pauseOnFocusLoss]);const b={onPointerDown:function(j){if(e.draggable===!0||e.draggable===j.pointerType){o.didMove=!1,document.addEventListener("pointermove",x),document.addEventListener("pointerup",y);const P=a.current;o.canCloseOnClick=!0,o.canDrag=!0,P.style.transition="none",e.draggableDirection==="x"?(o.start=j.clientX,o.removalDistance=P.offsetWidth*(e.draggablePercent/100)):(o.start=j.clientY,o.removalDistance=P.offsetHeight*(e.draggablePercent===80?1.5*e.draggablePercent:e.draggablePercent)/100)}},onPointerUp:function(j){const{top:P,bottom:C,left:D,right:T}=a.current.getBoundingClientRect();j.nativeEvent.type!=="touchend"&&e.pauseOnHover&&j.clientX>=D&&j.clientX<=T&&j.clientY>=P&&j.clientY<=C?m():g()}};return l&&c&&(b.onMouseEnter=m,e.stacked||(b.onMouseLeave=g)),h&&(b.onClick=j=>{d&&d(j),o.canCloseOnClick&&u()}),{playToast:g,pauseToast:m,isRunning:t,preventExitTransition:s,toastRef:a,eventHandlers:b}}function Lb(e){let{delay:t,isRunning:r,closeToast:s,type:i="default",hide:a,className:o,style:l,controlledProgress:c,progress:u,rtl:d,isIn:h,theme:f}=e;const p=a||c&&u===0,g={...l,animationDuration:`${t}ms`,animationPlayState:r?"running":"paused"};c&&(g.transform=`scaleX(${u})`);const m=lt("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${f}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":d}),x=tr(o)?o({rtl:d,type:i,defaultClassName:m}):lt(m,o),y={[c&&u>=1?"onTransitionEnd":"onAnimationEnd"]:c&&u<1?null:()=>{h&&s()}};return nt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":p},nt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${f} Toastify__progress-bar--${i}`}),nt.createElement("div",{role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:x,style:g,...y}))}let Wb=1;const If=()=>""+Wb++;function qb(e){return e&&(jn(e.toastId)||ci(e.toastId))?e.toastId:If()}function Zs(e,t){return Df(e,t),t.toastId}function la(e,t){return{...t,type:t&&t.type||e,toastId:qb(t)}}function _i(e){return(t,r)=>Zs(t,la(e,r))}function De(e,t){return Zs(e,la("default",t))}De.loading=(e,t)=>Zs(e,la("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),De.promise=function(e,t,r){let s,{pending:i,error:a,success:o}=t;i&&(s=jn(i)?De.loading(i,r):De.loading(i.render,{...r,...i}));const l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=(d,h,f)=>{if(h==null)return void De.dismiss(s);const p={type:d,...l,...r,data:f},g=jn(h)?{render:h}:h;return s?De.update(s,{...p,...g}):De(g.render,{...p,...g}),f},u=tr(e)?e():e;return u.then(d=>c("success",o,d)).catch(d=>c("error",a,d)),u},De.success=_i("success"),De.info=_i("info"),De.error=_i("error"),De.warning=_i("warning"),De.warn=De.warning,De.dark=(e,t)=>Zs(e,la("default",{theme:"dark",...t})),De.dismiss=function(e){(function(t){var r;if(Pf()){if(t==null||jn(r=t)||ci(r))Wt.forEach(s=>{s.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){const s=Wt.get(t.containerId);s?s.removeToast(t.id):Wt.forEach(i=>{i.removeToast(t.id)})}}else ui=ui.filter(s=>t!=null&&s.options.toastId!==t)})(e)},De.clearWaitingQueue=function(e){e===void 0&&(e={}),Wt.forEach(t=>{!t.props.limit||e.containerId&&t.id!==e.containerId||t.clearQueue()})},De.isActive=kf,De.update=function(e,t){t===void 0&&(t={});const r=((s,i)=>{var a;let{containerId:o}=i;return(a=Wt.get(o||1))==null?void 0:a.toasts.get(s)})(e,t);if(r){const{props:s,content:i}=r,a={delay:100,...s,...t,toastId:t.toastId||e,updateId:If()};a.toastId!==e&&(a.staleId=e);const o=a.render||i;delete a.render,Zs(o,a)}},De.done=e=>{De.update(e,{progress:1})},De.onChange=function(e){return cl.add(e),()=>{cl.delete(e)}},De.play=e=>Uu(!0,e),De.pause=e=>Uu(!1,e);const $b=typeof window<"u"?v.useLayoutEffect:v.useEffect,Ai=e=>{let{theme:t,type:r,isLoading:s,...i}=e;return nt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${r})`,...i})},xo={info:function(e){return nt.createElement(Ai,{...e},nt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return nt.createElement(Ai,{...e},nt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return nt.createElement(Ai,{...e},nt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return nt.createElement(Ai,{...e},nt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return nt.createElement("div",{className:"Toastify__spinner"})}},Bb=e=>{const{isRunning:t,preventExitTransition:r,toastRef:s,eventHandlers:i,playToast:a}=Fb(e),{closeButton:o,children:l,autoClose:c,onClick:u,type:d,hideProgressBar:h,closeToast:f,transition:p,position:g,className:m,style:x,bodyClassName:y,bodyStyle:b,progressClassName:j,progressStyle:P,updateId:C,role:D,progress:T,rtl:I,toastId:M,deleteToast:W,isIn:z,isLoading:L,closeOnClick:U,theme:w}=e,_=lt("Toastify__toast",`Toastify__toast-theme--${w}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":I},{"Toastify__toast--close-on-click":U}),N=tr(m)?m({rtl:I,position:g,type:d,defaultClassName:_}):lt(_,m),A=function(me){let{theme:he,type:J,isLoading:ne,icon:ee}=me,Ie=null;const te={theme:he,type:J};return ee===!1||(tr(ee)?Ie=ee({...te,isLoading:ne}):v.isValidElement(ee)?Ie=v.cloneElement(ee,te):ne?Ie=xo.spinner():(Te=>Te in xo)(J)&&(Ie=xo[J](te))),Ie}(e),O=!!T||!c,B={closeToast:f,type:d,theme:w};let G=null;return o===!1||(G=tr(o)?o(B):v.isValidElement(o)?v.cloneElement(o,B):function(me){let{closeToast:he,theme:J,ariaLabel:ne="close"}=me;return nt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${J}`,type:"button",onClick:ee=>{ee.stopPropagation(),he(ee)},"aria-label":ne},nt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},nt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(B)),nt.createElement(p,{isIn:z,done:W,position:g,preventExitTransition:r,nodeRef:s,playToast:a},nt.createElement("div",{id:M,onClick:u,"data-in":z,className:N,...i,style:x,ref:s},nt.createElement("div",{...z&&{role:D},className:tr(y)?y({type:d}):lt("Toastify__toast-body",y),style:b},A!=null&&nt.createElement("div",{className:lt("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!L})},A),nt.createElement("div",null,l)),G,nt.createElement(Lb,{...C&&!O?{key:`pb-${C}`}:{},rtl:I,theme:w,delay:c,isRunning:t,isIn:z,closeToast:f,hide:h,type:d,style:P,className:j,controlledProgress:O,progress:T||0})))},Ea=function(e,t){return t===void 0&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}},Vb=Ia(Ea("bounce",!0));Ia(Ea("slide",!0));Ia(Ea("zoom"));Ia(Ea("flip"));const zb={position:"top-right",transition:Vb,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function Ub(e){let t={...zb,...e};const r=e.stacked,[s,i]=v.useState(!0),a=v.useRef(null),{getToastToRender:o,isToastActive:l,count:c}=Ab(t),{className:u,style:d,rtl:h,containerId:f}=t;function p(m){const x=lt("Toastify__toast-container",`Toastify__toast-container--${m}`,{"Toastify__toast-container--rtl":h});return tr(u)?u({position:m,rtl:h,defaultClassName:x}):lt(x,Gi(u))}function g(){r&&(i(!0),De.play())}return $b(()=>{if(r){var m;const x=a.current.querySelectorAll('[data-in="true"]'),y=12,b=(m=t.position)==null?void 0:m.includes("top");let j=0,P=0;Array.from(x).reverse().forEach((C,D)=>{const T=C;T.classList.add("Toastify__toast--stacked"),D>0&&(T.dataset.collapsed=`${s}`),T.dataset.pos||(T.dataset.pos=b?"top":"bot");const I=j*(s?.2:1)+(s?0:y*D);T.style.setProperty("--y",`${b?I:-1*I}px`),T.style.setProperty("--g",`${y}`),T.style.setProperty("--s",""+(1-(s?P:0))),j+=T.offsetHeight,P+=.025})}},[s,c,r]),nt.createElement("div",{ref:a,className:"Toastify",id:f,onMouseEnter:()=>{r&&(i(!1),De.pause())},onMouseLeave:g},o((m,x)=>{const y=x.length?{...d}:{...d,pointerEvents:"none"};return nt.createElement("div",{className:p(m),style:y,key:`container-${m}`},x.map(b=>{let{content:j,props:P}=b;return nt.createElement(Bb,{...P,stacked:r,collapseAll:g,isIn:l(P.toastId,P.containerId),style:P.style,key:`toast-${P.key}`},j)}))}))}const Qb="modulepreload",Hb=function(e){return"/"+e},Qu={},Fn=function(t,r,s){let i=Promise.resolve();if(r&&r.length>0){let o=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=o(r.map(u=>{if(u=Hb(u),u in Qu)return;Qu[u]=!0;const d=u.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${h}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":Qb,d||(f.as="script"),f.crossOrigin="",f.href=u,c&&f.setAttribute("nonce",c),document.head.appendChild(f),d)return new Promise((p,g)=>{f.addEventListener("load",p),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${u}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})},Ef=v.createContext(),Tf=({children:e})=>{const[t,r]=v.useState(null),[s,i]=v.useState(!1),[a,o]=v.useState(!0);console.log("AuthContext: Initial loading state from useState:",a),v.useEffect(()=>{console.log("AuthContext: useEffect triggered. Current loading state:",a),localStorage.getItem("token")?(console.log("AuthContext: Token found, setting isAuthenticated to true and fetching profile."),i(!0),l()):(console.log("AuthContext: No token found, setting loading to false."),o(!1))},[]);const l=async f=>{try{const{apolloClient:p}=await Fn(async()=>{const{apolloClient:y}=await Promise.resolve().then(()=>Io);return{apolloClient:y}},void 0),{GET_CURRENT_USER:g}=await Fn(async()=>{const{GET_CURRENT_USER:y}=await Promise.resolve().then(()=>Eo);return{GET_CURRENT_USER:y}},void 0),m=await p.query({query:g,context:{headers:{Authorization:"Bearer ${token}"}}}),{data:x}=m;if(!x||!x.currentUser)throw new Error("Failed to fetch user profile: No data returned");r(x.currentUser)}catch(p){console.error("Error fetching user profile:",p),d()}finally{o(!1),console.log("AuthContext: fetchUserProfile finished, setting loading to false.")}},c=async({username:f,email:p,password:g,fullName:m,role:x})=>{try{const{apolloClient:y}=await Fn(async()=>{const{apolloClient:T}=await Promise.resolve().then(()=>Io);return{apolloClient:T}},void 0),{REGISTER:b}=await Fn(async()=>{const{REGISTER:T}=await Promise.resolve().then(()=>Eo);return{REGISTER:T}},void 0),j=await y.mutate({mutation:b,variables:{username:f,email:p,password:g,fullName:m,role:x}}),{data:P}=j;if(!P||!P.register)throw new Error("Registration failed: No data returned");const{token:C,user:D}=P.register;return localStorage.setItem("token",C),localStorage.setItem("user",JSON.stringify(D)),r(D),i(!0),{success:!0}}catch(y){return console.error("Registration error:",y),{success:!1,error:y.message}}},u=async(f,p)=>{try{const{apolloClient:g}=await Fn(async()=>{const{apolloClient:P}=await Promise.resolve().then(()=>Io);return{apolloClient:P}},void 0),{LOGIN:m}=await Fn(async()=>{const{LOGIN:P}=await Promise.resolve().then(()=>Eo);return{LOGIN:P}},void 0),x=await g.mutate({mutation:m,variables:{username:f,password:p}}),{data:y}=x;if(!y||!y.login)throw new Error("Login failed: No data returned");const{token:b,user:j}=y.login;return localStorage.setItem("token",b),localStorage.setItem("user",JSON.stringify(j)),r(j),i(!0),{success:!0}}catch(g){return console.error("Login error:",g),{success:!1,error:g.message}}},d=()=>{localStorage.removeItem("token"),r(null),i(!1)},h={currentUser:t,isAuthenticated:s,loading:a,register:c,login:u,logout:d};return n.jsx(Ef.Provider,{value:h,children:e})},vi=()=>v.useContext(Ef),Mf=fe([n.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"},"0"),n.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")],"AccessTime"),or=fe(n.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),ul=fe(n.jsx("path",{d:"M11 9h2V6h3V4h-3V1h-2v3H8v2h3zm-4 9c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2m10 0c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2m-9.83-3.25.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.86-7.01L19.42 4h-.01l-1.1 2-2.76 5H8.53l-.13-.27L6.16 6l-.95-2-.94-2H1v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.13 0-.25-.11-.25-.25"}),"AddShoppingCart"),Lt=fe(n.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack"),Of=fe(n.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M9 17H7v-7h2zm4 0h-2V7h2zm4 0h-2v-4h2z"}),"Assessment"),xr=fe(n.jsx("path",{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1m2 14H7v-2h7zm3-4H7v-2h10zm0-4H7V7h10z"}),"Assignment"),Yb=fe(n.jsx("path",{d:"M20 7h-5V4c0-1.1-.9-2-2-2h-2c-1.1 0-2 .9-2 2v3H4c-1.1 0-2 .9-2 2v11c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2M9 12c.83 0 1.5.67 1.5 1.5S9.83 15 9 15s-1.5-.67-1.5-1.5S8.17 12 9 12m3 6H6v-.75c0-1 2-1.5 3-1.5s3 .5 3 1.5zm1-9h-2V4h2zm5 7.5h-4V15h4zm0-3h-4V12h4z"}),"Badge"),Mn=fe(n.jsx("path",{d:"m22.7 19-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4"}),"Build"),ji=fe(n.jsx("path",{d:"M12 7V3H2v18h20V7zM6 19H4v-2h2zm0-4H4v-2h2zm0-4H4V9h2zm0-4H4V5h2zm4 12H8v-2h2zm0-4H8v-2h2zm0-4H8V9h2zm0-4H8V5h2zm10 12h-8v-2h2v-2h-2v-2h2v-2h-2V9h8zm-2-8h-2v2h2zm0 4h-2v2h2z"}),"Business"),Gb=fe(n.jsx("path",{d:"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 18H4V8h16z"}),"CalendarToday"),nc=fe(n.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}),"Cancel"),Rf=fe(n.jsx("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),an=fe(n.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle"),gr=fe(n.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear"),sc=fe(n.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),Kb=fe(n.jsx("path",{d:"M22 3H2C.9 3 0 3.9 0 5v14c0 1.1.9 2 2 2h20c1.1 0 1.99-.9 1.99-2L24 5c0-1.1-.9-2-2-2M8 6c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3m6 12H2v-1c0-2 4-3.1 6-3.1s6 1.1 6 3.1zm3.85-4h1.64L21 16l-1.99 1.99c-1.31-.98-2.28-2.38-2.73-3.99-.18-.64-.28-1.31-.28-2s.1-1.36.28-2c.45-1.62 1.42-3.01 2.73-3.99L21 8l-1.51 2h-1.64c-.22.63-.35 1.3-.35 2s.13 1.37.35 2"}),"ContactPhone"),Jb=fe(n.jsx("path",{d:"M3 13h8V3H3zm0 8h8v-6H3zm10 0h8V11h-8zm0-18v6h8V3z"}),"Dashboard"),jt=fe(n.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete"),wt=fe(n.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit"),ic=fe(n.jsx("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 4-8 5-8-5V6l8 5 8-5z"}),"Email"),Xb=fe(n.jsx("path",{d:"m12 8-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"}),"ExpandLess"),Zb=fe(n.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),di=fe(n.jsx("path",{d:"M22 10v12H2V10l7-3v2l5-2v3zm-4.8-1.5L18 2h3l.8 6.5zM11 18h2v-4h-2zm-4 0h2v-4H7zm10-4h-2v4h2z"}),"Factory"),Hu=fe(n.jsx("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-7 12h-2v-2h2zm0-4h-2V6h2z"}),"Feedback"),Nf=fe(n.jsx("path",{d:"M10 18h4v-2h-4zM3 6v2h18V6zm3 7h12v-2H6z"}),"FilterList"),ev=fe(n.jsx("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9m-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8z"}),"History"),tv=fe(n.jsx("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home"),wi=fe(n.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"}),"Info"),nr=fe(n.jsx("path",{d:"M20 2H4c-1 0-2 .9-2 2v3.01c0 .72.43 1.34 1 1.69V20c0 1.1 1.1 2 2 2h14c.9 0 2-.9 2-2V8.7c.57-.35 1-.97 1-1.69V4c0-1.1-1-2-2-2m-5 12H9v-2h6zm5-7H4V4l16-.02z"}),"Inventory"),rv=fe(n.jsx("path",{d:"M20 8h-3V4H3c-1.1 0-2 .9-2 2v11h2c0 1.66 1.34 3 3 3s3-1.34 3-3h6c0 1.66 1.34 3 3 3s3-1.34 3-3h2v-5zM6 18.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m13.5-9 1.96 2.5H17V9.5zm-1.5 9c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5"}),"LocalShipping"),nv=fe(n.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7m0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5"}),"LocationOn"),dl=fe(n.jsx("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2m3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1z"}),"Lock"),sv=fe(n.jsx("path",{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4z"}),"Logout"),iv=fe(n.jsx("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu"),_f=fe(n.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreVert"),Af=fe(n.jsx("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext"),go=fe(n.jsx("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3m-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3m0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5m8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5"}),"People"),cs=fe(n.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person"),ac=fe(n.jsx("path",{d:"M8 5v14l11-7z"}),"PlayArrow"),Ff=fe(n.jsx("path",{d:"M18 17H6v-2h12zm0-4H6v-2h12zm0-4H6V7h12zM3 22l1.5-1.5L6 22l1.5-1.5L9 22l1.5-1.5L12 22l1.5-1.5L15 22l1.5-1.5L18 22l1.5-1.5L21 22V2l-1.5 1.5L18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2 4.5 3.5 3 2z"}),"Receipt"),hi=fe(n.jsx("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"}),"Refresh"),ir=fe(n.jsx("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"Save"),_r=fe([n.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"},"0"),n.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")],"Schedule"),Mr=fe(n.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search"),av=fe(n.jsx("path",{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11z"}),"Security"),ov=fe([n.jsx("circle",{cx:"15.5",cy:"9.5",r:"1.5"},"0"),n.jsx("circle",{cx:"8.5",cy:"9.5",r:"1.5"},"1"),n.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8m0-3.5c.73 0 1.39.19 1.97.53.12-.14.86-.98 1.01-1.14-.85-.56-1.87-.89-2.98-.89-1.11 0-2.13.33-2.99.88.97 1.09.01.02 1.01 1.14.59-.33 1.25-.52 1.98-.52"},"2")],"SentimentDissatisfied"),Zn=fe(n.jsx("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings"),lv=fe(n.jsx("path",{d:"M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2M1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2"}),"ShoppingCart"),cv=fe(n.jsx("path",{d:"M6.99 11 3 15l3.99 4v-3H14v-2H6.99zM21 9l-3.99-4v3H10v2h7.01v3z"}),"SwapHoriz"),uv=fe(n.jsx("path",{d:"m16 18 2.29-2.29-4.88-4.88-4 4L2 7.41 3.41 6l6 6 4-4 6.3 6.29L22 12v6z"}),"TrendingDown"),oc=fe(n.jsx("path",{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"}),"TrendingUp"),Gt=fe(n.jsx("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility"),es=fe(n.jsx("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"}),"VisibilityOff"),Fi=fe(n.jsx("path",{d:"M12.65 10C11.83 7.67 9.61 6 7 6c-3.31 0-6 2.69-6 6s2.69 6 6 6c2.61 0 4.83-1.67 5.65-4H17v4h4v-4h2v-4zM7 14c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2"}),"VpnKey"),fi=fe(n.jsx("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}),"Warning"),dv=fe(n.jsx("path",{d:"M20 6h-4V4c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2m-6 0h-4V4h4z"}),"Work"),Ln=280,hv=()=>{var P;const e=Fr(),t=Cl(e.breakpoints.down("lg")),[r,s]=v.useState(!1),[i,a]=v.useState(null),[o,l]=v.useState({}),{user:c,logout:u}=vi(),d=Xe(),h=Lr(),f=()=>{s(!r)},p=C=>{a(C.currentTarget)},g=()=>{a(null)},m=()=>{u(),d("/login"),g()},x=C=>{d(C),t&&s(!1)},y=C=>{l(D=>({...D,[C]:!D[C]}))},b=[{title:"Overview",items:[{text:"Dashboard",icon:n.jsx(Jb,{}),path:"/"}]},{title:"User Management",items:[(c==null?void 0:c.role)==="admin"&&{text:"User Service",icon:n.jsx(go,{}),children:[{text:"User Management",icon:n.jsx(go,{}),path:"/users"}]},{text:"My Profile",icon:n.jsx(cs,{}),path:"/profile"}].filter(Boolean)},{title:"Production",items:[{text:"Production Management",icon:n.jsx(di,{}),children:[{text:"Production Requests",icon:n.jsx(xr,{}),path:"/production-requests"},{text:"Production Batches",icon:n.jsx(di,{}),path:"/production-batches"}]},{text:"Production Planning",icon:n.jsx(_r,{}),children:[{text:"Production Plans",icon:n.jsx(_r,{}),path:"/production-plans"}]}]},{title:"Operations",items:[{text:"Machine Queue",icon:n.jsx(Zn,{}),children:[{text:"Machines",icon:n.jsx(Mn,{}),path:"/machines"},{text:"Queue Management",icon:n.jsx(Zn,{}),path:"/queue"}]},{text:"Material Inventory",icon:n.jsx(nr,{}),children:[{text:"Materials",icon:n.jsx(nr,{}),path:"/materials"},{text:"Suppliers",icon:n.jsx(go,{}),path:"/suppliers"},{text:"Transactions",icon:n.jsx(xr,{}),path:"/transactions"}]}]},{title:"Quality & Feedback",items:[{text:"Production Feedback",icon:n.jsx(Hu,{}),children:[{text:"Feedback List",icon:n.jsx(Hu,{}),path:"/feedback"},{text:"Quantity Stock",icon:n.jsx(nr,{}),path:"/feedback/quantity-stock"},{text:"Consumer Status",icon:n.jsx(Zn,{}),path:"/feedback/consumer-status"}]}]}],j=n.jsxs(E,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[n.jsx(E,{sx:{p:3,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",position:"relative",overflow:"hidden","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)"}},children:n.jsxs(E,{sx:{position:"relative",zIndex:1},children:[n.jsx(S,{variant:"h6",sx:{fontWeight:700,mb:.5},children:"Manufacturing"}),n.jsx(S,{variant:"body2",sx:{opacity:.9},children:"On-Demand System"})]})}),n.jsx(E,{sx:{flexGrow:1,overflow:"auto",py:1},children:b.map((C,D)=>n.jsxs(E,{sx:{mb:2},children:[n.jsx(E,{sx:{px:3,py:1},children:n.jsx(S,{variant:"overline",sx:{fontSize:"0.75rem",fontWeight:600,color:"text.secondary",letterSpacing:"0.5px"},children:C.title})}),n.jsx(Cn,{sx:{px:2},children:C.items.map(T=>n.jsx(E,{children:T.children?n.jsxs(n.Fragment,{children:[n.jsx(Gr,{disablePadding:!0,sx:{mb:.5},children:n.jsxs(Ka,{onClick:()=>y(T.text),sx:{borderRadius:2,minHeight:48,transition:"all 0.2s ease-in-out","&:hover":{backgroundColor:"primary.light",color:"white",transform:"translateX(4px)"}},children:[n.jsx(Qs,{sx:{color:"inherit",minWidth:40},children:T.icon}),n.jsx(Kr,{primary:T.text,primaryTypographyProps:{fontSize:"0.875rem",fontWeight:500}}),o[T.text]?n.jsx(Xb,{}):n.jsx(Zb,{})]})}),n.jsx(_d,{in:o[T.text],timeout:"auto",unmountOnExit:!0,children:n.jsx(Cn,{component:"div",disablePadding:!0,sx:{ml:1},children:T.children.map(I=>n.jsx(Gr,{disablePadding:!0,sx:{mb:.5},children:n.jsxs(Ka,{onClick:()=>x(I.path),selected:h.pathname===I.path,sx:{pl:3,borderRadius:2,minHeight:44,transition:"all 0.2s ease-in-out","&:hover":{backgroundColor:"primary.light",color:"white",transform:"translateX(4px)"},"&.Mui-selected":{backgroundColor:"primary.main",color:"white",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15)","&:hover":{backgroundColor:"primary.dark"}}},children:[n.jsx(Qs,{sx:{color:"inherit",minWidth:36},children:I.icon}),n.jsx(Kr,{primary:I.text,primaryTypographyProps:{fontSize:"0.8rem",fontWeight:400}}),h.pathname===I.path&&n.jsx(We,{size:"small",sx:{height:6,width:6,backgroundColor:"white",borderRadius:"50%","& .MuiChip-label":{display:"none"}}})]})},I.text))})})]}):n.jsx(Gr,{disablePadding:!0,sx:{mb:.5},children:n.jsxs(Ka,{onClick:()=>x(T.path),selected:h.pathname===T.path,sx:{borderRadius:2,minHeight:48,transition:"all 0.2s ease-in-out","&:hover":{backgroundColor:"primary.light",color:"white",transform:"translateX(4px)"},"&.Mui-selected":{backgroundColor:"primary.main",color:"white",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15)","&:hover":{backgroundColor:"primary.dark"}}},children:[n.jsx(Qs,{sx:{color:"inherit",minWidth:40},children:T.icon}),n.jsx(Kr,{primary:T.text,primaryTypographyProps:{fontSize:"0.875rem",fontWeight:500}}),h.pathname===T.path&&n.jsx(We,{size:"small",sx:{height:6,width:6,backgroundColor:"white",borderRadius:"50%","& .MuiChip-label":{display:"none"}}})]})})},T.text))}),D<b.length-1&&n.jsx(qt,{sx:{mx:2,opacity:.3}})]},C.title))})]});return n.jsxs(E,{sx:{display:"flex",minHeight:"100vh"},children:[n.jsx(bm,{position:"fixed",sx:{width:{lg:`calc(100% - ${Ln}px)`},ml:{lg:`${Ln}px`},backgroundColor:"white",color:"text.primary",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",borderBottom:"1px solid",borderBottomColor:"divider"},children:n.jsxs(Hs,{sx:{minHeight:"64px !important"},children:[n.jsx(ie,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:f,sx:{mr:2,display:{lg:"none"}},children:n.jsx(iv,{})}),n.jsx(S,{variant:"h6",noWrap:!0,component:"div",sx:{flexGrow:1,fontWeight:600},children:"On-Demand Manufacturing System"}),n.jsxs(E,{sx:{display:"flex",alignItems:"center",gap:2},children:[n.jsxs(S,{variant:"body2",sx:{display:{xs:"none",sm:"block"},color:"text.secondary"},children:["Welcome, ",(c==null?void 0:c.username)||"User"]}),n.jsx(ie,{onClick:p,sx:{p:0,"&:hover":{"& .MuiAvatar-root":{transform:"scale(1.1)"}}},children:n.jsx(Ce,{sx:{bgcolor:"primary.main",transition:"transform 0.2s ease-in-out",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15)"},children:((P=c==null?void 0:c.username)==null?void 0:P.charAt(0).toUpperCase())||"U"})})]}),n.jsxs(Pl,{anchorEl:i,open:!!i,onClose:g,onClick:g,sx:{"& .MuiPaper-root":{borderRadius:2,minWidth:180,boxShadow:"0 4px 20px rgba(0, 0, 0, 0.15)"}},children:[n.jsxs(V,{onClick:()=>x("/profile"),children:[n.jsx(cs,{sx:{mr:2,color:"primary.main"}}),"Profile"]}),n.jsx(qt,{}),n.jsxs(V,{onClick:m,children:[n.jsx(sv,{sx:{mr:2,color:"error.main"}}),"Logout"]})]})]})}),n.jsxs(E,{component:"nav",sx:{width:{lg:Ln},flexShrink:{lg:0}},children:[n.jsx(Dc,{variant:"temporary",open:r,onClose:f,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",lg:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:Ln,border:"none",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}},children:j}),n.jsx(Dc,{variant:"permanent",sx:{display:{xs:"none",lg:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:Ln,border:"none",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}},open:!0,children:j})]}),n.jsxs(E,{component:"main",sx:{flexGrow:1,width:{lg:`calc(100% - ${Ln}px)`},minHeight:"100vh",backgroundColor:"background.default"},children:[n.jsx(Hs,{}),n.jsx(E,{sx:{p:0},children:n.jsx(Zd,{})})]})]})},fv=()=>n.jsx(E,{sx:{minHeight:"100vh",display:"flex",background:"#f8fafc",position:"relative",overflow:"hidden"},children:n.jsx(Zd,{})}),pv=()=>{const e=Xe(),{login:t}=vi(),[r,s]=v.useState(!1),[i,a]=v.useState(""),[o,l]=v.useState(!1),[c,u]=v.useState({email:"",password:""}),d=p=>{const{name:g,value:m}=p.target;u(x=>({...x,[g]:m})),i&&a("")},h=async p=>{if(p.preventDefault(),!c.email||!c.password){a("Please fill in all fields");return}s(!0),a("");try{await t(c.email,c.password),e("/")}catch(g){a(g.message||"Login failed. Please check your credentials.")}finally{s(!1)}},f=()=>{l(!o)};return n.jsx(Vn,{maxWidth:"sm",children:n.jsx(E,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",py:4},children:n.jsxs(Me,{elevation:0,sx:{p:{xs:3,sm:4,md:5},borderRadius:3,width:"100%",maxWidth:480,border:"1px solid",borderColor:"divider",background:"white"},children:[n.jsxs(E,{sx:{textAlign:"center",mb:4},children:[n.jsx(E,{sx:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:64,height:64,borderRadius:2,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",mb:3},children:n.jsx(di,{sx:{color:"white",fontSize:32}})}),n.jsx(S,{variant:"h4",sx:{fontWeight:700,color:"#1a202c",mb:1},children:"Welcome Back"}),n.jsx(S,{variant:"body1",color:"text.secondary",sx:{fontSize:"1rem"},children:"Sign in to your account to continue"})]}),i&&n.jsx(be,{in:!0,children:n.jsx(ge,{severity:"error",sx:{mb:3,borderRadius:2},children:i})}),n.jsx(E,{component:"form",onSubmit:h,noValidate:!0,children:n.jsxs(ze,{spacing:3,children:[n.jsx(H,{fullWidth:!0,label:"username",name:"email",type:"email",value:c.email,onChange:d,required:!0,autoComplete:"email",variant:"outlined",InputProps:{startAdornment:n.jsx(Fe,{position:"start",children:n.jsx(ic,{color:"action"})})},sx:{"& .MuiOutlinedInput-root":{borderRadius:2,backgroundColor:"#f7fafc","& fieldset":{borderColor:"#e2e8f0"},"&:hover fieldset":{borderColor:"#cbd5e0"},"&.Mui-focused fieldset":{borderColor:"#667eea"}}}}),n.jsx(H,{fullWidth:!0,label:"Password",name:"password",type:o?"text":"password",value:c.password,onChange:d,required:!0,autoComplete:"current-password",variant:"outlined",InputProps:{startAdornment:n.jsx(Fe,{position:"start",children:n.jsx(dl,{color:"action"})}),endAdornment:n.jsx(Fe,{position:"end",children:n.jsx(ie,{onClick:f,edge:"end",size:"small",children:o?n.jsx(es,{}):n.jsx(Gt,{})})})},sx:{"& .MuiOutlinedInput-root":{borderRadius:2,backgroundColor:"#f7fafc","& fieldset":{borderColor:"#e2e8f0"},"&:hover fieldset":{borderColor:"#cbd5e0"},"&.Mui-focused fieldset":{borderColor:"#667eea"}}}}),n.jsx(K,{type:"submit",fullWidth:!0,variant:"contained",size:"large",disabled:r,sx:{py:1.5,borderRadius:2,fontWeight:600,fontSize:"1rem",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",boxShadow:"0 4px 15px rgba(102, 126, 234, 0.4)","&:hover":{background:"linear-gradient(135deg, #5a67d8 0%, #6b46c1 100%)",boxShadow:"0 6px 20px rgba(102, 126, 234, 0.5)"},"&:disabled":{background:"#e2e8f0",boxShadow:"none"}},children:r?"Signing In...":"Sign In"})]})}),n.jsx(qt,{sx:{my:4},children:n.jsx(S,{variant:"body2",color:"text.secondary",children:"or"})}),n.jsx(E,{sx:{textAlign:"center"},children:n.jsxs(S,{variant:"body2",color:"text.secondary",children:["Don't have an account?"," ",n.jsx(K,{component:ra,to:"/register",variant:"text",sx:{fontWeight:600,textTransform:"none",color:"#667eea","&:hover":{background:"rgba(102, 126, 234, 0.04)"}},children:"Sign up"})]})})]})})})},mv=()=>{const e=Xe(),{register:t}=vi(),[r,s]=v.useState(!1),[i,a]=v.useState(""),[o,l]=v.useState(!1),[c,u]=v.useState(!1),[d,h]=v.useState({username:"",email:"",password:"",confirmPassword:"",fullName:"",role:"operator"}),f=y=>{const{name:b,value:j}=y.target;h(P=>({...P,[b]:j})),i&&a("")},p=()=>!d.username||!d.email||!d.password||!d.confirmPassword||!d.fullName?(a("Please fill in all fields"),!1):d.password!==d.confirmPassword?(a("Passwords do not match"),!1):d.password.length<6?(a("Password must be at least 6 characters long"),!1):/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(d.email)?!0:(a("Please enter a valid email address"),!1),g=async y=>{if(y.preventDefault(),!!p()){s(!0),a("");try{await t({username:d.username,email:d.email,password:d.password,fullName:d.fullName,role:d.role}),e("/")}catch(b){a(b.message||"Registration failed. Please try again.")}finally{s(!1)}}},m=()=>{l(!o)},x=()=>{u(!c)};return n.jsx(Vn,{maxWidth:"sm",children:n.jsx(E,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",py:4},children:n.jsxs(Me,{elevation:0,sx:{p:{xs:3,sm:4,md:5},borderRadius:3,width:"100%",maxWidth:480,border:"1px solid",borderColor:"divider",background:"white"},children:[n.jsxs(E,{sx:{textAlign:"center",mb:4},children:[n.jsx(E,{sx:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:64,height:64,borderRadius:2,background:"linear-gradient(135deg, #48bb78 0%, #38a169 100%)",mb:3},children:n.jsx(di,{sx:{color:"white",fontSize:32}})}),n.jsx(S,{variant:"h4",sx:{fontWeight:700,color:"#1a202c",mb:1},children:"Create Account"}),n.jsx(S,{variant:"body1",color:"text.secondary",sx:{fontSize:"1rem"},children:"Join our manufacturing platform"})]}),i&&n.jsx(be,{in:!0,children:n.jsx(ge,{severity:"error",sx:{mb:3,borderRadius:2},children:i})}),n.jsx(E,{component:"form",onSubmit:g,noValidate:!0,children:n.jsxs(ze,{spacing:3,children:[n.jsx(H,{fullWidth:!0,label:"Full Name",name:"fullName",value:d.fullName,onChange:f,required:!0,autoComplete:"name",variant:"outlined",InputProps:{startAdornment:n.jsx(Fe,{position:"start",children:n.jsx(cs,{color:"action"})})},sx:{"& .MuiOutlinedInput-root":{borderRadius:2,backgroundColor:"#f7fafc","& fieldset":{borderColor:"#e2e8f0"},"&:hover fieldset":{borderColor:"#cbd5e0"},"&.Mui-focused fieldset":{borderColor:"#48bb78"}}}}),n.jsx(H,{fullWidth:!0,label:"Username",name:"username",value:d.username,onChange:f,required:!0,autoComplete:"username",variant:"outlined",InputProps:{startAdornment:n.jsx(Fe,{position:"start",children:n.jsx(cs,{color:"action"})})},sx:{"& .MuiOutlinedInput-root":{borderRadius:2,backgroundColor:"#f7fafc","& fieldset":{borderColor:"#e2e8f0"},"&:hover fieldset":{borderColor:"#cbd5e0"},"&.Mui-focused fieldset":{borderColor:"#48bb78"}}}}),n.jsx(H,{fullWidth:!0,label:"Email Address",name:"email",type:"email",value:d.email,onChange:f,required:!0,autoComplete:"email",variant:"outlined",InputProps:{startAdornment:n.jsx(Fe,{position:"start",children:n.jsx(ic,{color:"action"})})},sx:{"& .MuiOutlinedInput-root":{borderRadius:2,backgroundColor:"#f7fafc","& fieldset":{borderColor:"#e2e8f0"},"&:hover fieldset":{borderColor:"#cbd5e0"},"&.Mui-focused fieldset":{borderColor:"#48bb78"}}}}),n.jsxs(Ge,{fullWidth:!0,variant:"outlined",sx:{"& .MuiOutlinedInput-root":{borderRadius:2,backgroundColor:"#f7fafc","& fieldset":{borderColor:"#e2e8f0"},"&:hover fieldset":{borderColor:"#cbd5e0"},"&.Mui-focused fieldset":{borderColor:"#48bb78"}}},children:[n.jsx(Ke,{children:"Role"}),n.jsxs(Je,{name:"role",value:d.role,onChange:f,label:"Role",startAdornment:n.jsx(Fe,{position:"start",children:n.jsx(dv,{color:"action"})}),children:[n.jsx(V,{value:"operator",children:"Operator"}),n.jsx(V,{value:"supervisor",children:"Supervisor"}),n.jsx(V,{value:"manager",children:"Manager"}),n.jsx(V,{value:"admin",children:"Admin"})]})]}),n.jsxs(k,{container:!0,spacing:2,children:[n.jsx(k,{item:!0,xs:12,sm:6,children:n.jsx(H,{fullWidth:!0,label:"Password",name:"password",type:o?"text":"password",value:d.password,onChange:f,required:!0,autoComplete:"new-password",variant:"outlined",InputProps:{startAdornment:n.jsx(Fe,{position:"start",children:n.jsx(dl,{color:"action"})}),endAdornment:n.jsx(Fe,{position:"end",children:n.jsx(ie,{onClick:m,edge:"end",size:"small",children:o?n.jsx(es,{}):n.jsx(Gt,{})})})},sx:{"& .MuiOutlinedInput-root":{borderRadius:2,backgroundColor:"#f7fafc","& fieldset":{borderColor:"#e2e8f0"},"&:hover fieldset":{borderColor:"#cbd5e0"},"&.Mui-focused fieldset":{borderColor:"#48bb78"}}}})}),n.jsx(k,{item:!0,xs:12,sm:6,children:n.jsx(H,{fullWidth:!0,label:"Confirm Password",name:"confirmPassword",type:c?"text":"password",value:d.confirmPassword,onChange:f,required:!0,autoComplete:"new-password",variant:"outlined",InputProps:{startAdornment:n.jsx(Fe,{position:"start",children:n.jsx(dl,{color:"action"})}),endAdornment:n.jsx(Fe,{position:"end",children:n.jsx(ie,{onClick:x,edge:"end",size:"small",children:c?n.jsx(es,{}):n.jsx(Gt,{})})})},sx:{"& .MuiOutlinedInput-root":{borderRadius:2,backgroundColor:"#f7fafc","& fieldset":{borderColor:"#e2e8f0"},"&:hover fieldset":{borderColor:"#cbd5e0"},"&.Mui-focused fieldset":{borderColor:"#48bb78"}}}})})]}),n.jsx(K,{type:"submit",fullWidth:!0,variant:"contained",size:"large",disabled:r,sx:{py:1.5,borderRadius:2,fontWeight:600,fontSize:"1rem",background:"linear-gradient(135deg, #48bb78 0%, #38a169 100%)",boxShadow:"0 4px 15px rgba(72, 187, 120, 0.4)","&:hover":{background:"linear-gradient(135deg, #38a169 0%, #2f855a 100%)",boxShadow:"0 6px 20px rgba(72, 187, 120, 0.5)"},"&:disabled":{background:"#e2e8f0",boxShadow:"none"}},children:r?"Creating Account...":"Create Account"})]})}),n.jsx(qt,{sx:{my:4},children:n.jsx(S,{variant:"body2",color:"text.secondary",children:"or"})}),n.jsx(E,{sx:{textAlign:"center"},children:n.jsxs(S,{variant:"body2",color:"text.secondary",children:["Already have an account?"," ",n.jsx(K,{component:ra,to:"/login",variant:"text",sx:{fontWeight:600,textTransform:"none",color:"#48bb78","&:hover":{background:"rgba(72, 187, 120, 0.04)"}},children:"Sign in"})]})})]})})})},xv=()=>{const e=Fr(),[t,r]=v.useState(!0),[s,i]=v.useState(null),[a,o]=v.useState({totalMachines:0,activeMachines:0,totalMaterials:0,lowStockMaterials:[],recentTransactions:[],productionSummary:{totalRequests:0,completedBatches:0,inProgressBatches:0}});v.useEffect(()=>{l()},[]);const l=async()=>{try{r(!0),await new Promise(u=>setTimeout(u,1e3)),o({totalMachines:12,activeMachines:8,totalMaterials:45,lowStockMaterials:[{id:1,name:"Steel Plate",currentStock:5,minStock:10,unit:"kg"},{id:2,name:"Aluminum Wire",currentStock:2,minStock:15,unit:"meter"},{id:3,name:"Copper Rod",currentStock:8,minStock:20,unit:"piece"}],recentTransactions:[{id:1,material:"Steel Plate",type:"INCOMING",quantity:50,date:new Date},{id:2,material:"Aluminum Wire",type:"OUTGOING",quantity:25,date:new Date},{id:3,material:"Copper Rod",type:"INCOMING",quantity:30,date:new Date}],productionSummary:{totalRequests:24,completedBatches:18,inProgressBatches:6}})}catch{i("Failed to load dashboard data")}finally{r(!1)}},c=({title:u,value:d,subtitle:h,icon:f,color:p="primary",gradient:g})=>n.jsx(He,{in:!0,timeout:600,children:n.jsxs(Se,{elevation:0,sx:{height:"100%",position:"relative",overflow:"hidden",border:"1px solid",borderColor:"grey.200",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)","&:hover":{transform:"translateY(-4px)",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",borderColor:"primary.main"}},children:[n.jsx(E,{sx:{background:g||`linear-gradient(135deg, ${e.palette[p].main} 0%, ${e.palette[p].dark} 100%)`,p:3,color:"white",position:"relative","&::after":{content:'""',position:"absolute",bottom:0,left:0,right:0,height:"4px",background:"rgba(255,255,255,0.3)"}},children:n.jsxs(E,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[n.jsxs(E,{children:[n.jsx(S,{variant:"h6",sx:{fontWeight:600,mb:1,opacity:.9},children:u}),n.jsx(S,{variant:"h3",sx:{fontWeight:700},children:d})]}),n.jsx(Ce,{sx:{bgcolor:"rgba(255,255,255,0.2)",width:56,height:56},children:f})]})}),n.jsx(ve,{sx:{p:3},children:h&&n.jsx(S,{variant:"body2",color:"text.secondary",sx:{fontWeight:500},children:h})})]})});return t?n.jsx(E,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:n.jsx(je,{size:60,thickness:4})}):s?n.jsx(be,{in:!0,children:n.jsx(ge,{severity:"error",sx:{m:2,borderRadius:2},children:s})}):n.jsxs(E,{sx:{width:"100%",maxWidth:"100%",mx:"auto",p:{xs:2,sm:3},overflow:"hidden"},children:[n.jsx(be,{in:!0,timeout:800,children:n.jsx(Me,{elevation:0,sx:{p:{xs:3,sm:4},mb:4,borderRadius:3,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",position:"relative",overflow:"hidden",width:"100%","&::before":{content:'""',position:"absolute",top:0,right:0,bottom:0,left:0,background:'url("data:image/svg+xml,%3Csvg width="60" height="60" viewBox="0 0 60 60" xmlns="http://www.w3.org/2000/svg"%3E%3Cg fill="none" fill-rule="evenodd"%3E%3Cg fill="%23ffffff" fill-opacity="0.1"%3E%3Ccircle cx="30" cy="30" r="4"/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")'}},children:n.jsxs(E,{sx:{position:"relative",zIndex:1},children:[n.jsx(S,{variant:"h3",gutterBottom:!0,sx:{fontWeight:700,fontSize:{xs:"2rem",sm:"2.5rem"}},children:"Manufacturing Dashboard 📊"}),n.jsx(S,{variant:"h6",sx:{opacity:.9,maxWidth:{xs:"100%",md:600}},children:"Real-time overview of your manufacturing operations, production metrics, and system status."})]})})}),n.jsxs(k,{container:!0,spacing:{xs:2,sm:3,md:4},children:[n.jsx(k,{item:!0,xs:12,sm:6,md:3,children:n.jsx(c,{title:"Total Machines",value:a.totalMachines,subtitle:`${a.activeMachines} machines currently active`,icon:n.jsx(Mn,{sx:{fontSize:32}}),color:"primary",gradient:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"})}),n.jsx(k,{item:!0,xs:12,sm:6,md:3,children:n.jsx(c,{title:"Material Inventory",value:a.totalMaterials,subtitle:`${a.lowStockMaterials.length} items need restocking`,icon:n.jsx(nr,{sx:{fontSize:32}}),color:"info",gradient:"linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)"})}),n.jsx(k,{item:!0,xs:12,sm:6,md:3,children:n.jsx(c,{title:"Production Requests",value:a.productionSummary.totalRequests,subtitle:"Total active requests",icon:n.jsx(Of,{sx:{fontSize:32}}),color:"success",gradient:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)"})}),n.jsx(k,{item:!0,xs:12,sm:6,md:3,children:n.jsx(c,{title:"Active Batches",value:a.productionSummary.inProgressBatches,subtitle:"Currently in production",icon:n.jsx(oc,{sx:{fontSize:32}}),color:"warning",gradient:"linear-gradient(135deg, #fa709a 0%, #fee140 100%)"})}),n.jsx(k,{item:!0,xs:12,md:6,children:n.jsx(He,{in:!0,timeout:800,children:n.jsx(Se,{sx:{height:"100%",border:"1px solid",borderColor:"grey.200"},children:n.jsxs(ve,{sx:{p:4},children:[n.jsxs(E,{sx:{display:"flex",alignItems:"center",mb:3},children:[n.jsx(Ce,{sx:{bgcolor:"primary.main",mr:2},children:n.jsx(Mn,{})}),n.jsx(S,{variant:"h6",sx:{fontWeight:600},children:"Machine Utilization"})]}),n.jsxs(E,{sx:{mb:3},children:[n.jsxs(E,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[n.jsx(S,{variant:"body2",color:"text.secondary",children:"Active Machines"}),n.jsxs(S,{variant:"body2",sx:{fontWeight:600},children:[a.activeMachines," / ",a.totalMachines]})]}),n.jsx(To,{variant:"determinate",value:a.activeMachines/a.totalMachines*100,sx:{height:8,borderRadius:4,backgroundColor:"grey.200","& .MuiLinearProgress-bar":{borderRadius:4}}})]}),n.jsxs(E,{sx:{p:2,borderRadius:2,bgcolor:"primary.light",color:"primary.contrastText",textAlign:"center"},children:[n.jsxs(S,{variant:"h4",sx:{fontWeight:700},children:[Math.round(a.activeMachines/a.totalMachines*100),"%"]}),n.jsx(S,{variant:"body2",children:"Overall Utilization"})]})]})})})}),n.jsx(k,{item:!0,xs:12,md:6,children:n.jsx(He,{in:!0,timeout:1e3,children:n.jsx(Se,{sx:{height:"100%",border:"1px solid",borderColor:"grey.200"},children:n.jsxs(ve,{sx:{p:4},children:[n.jsxs(E,{sx:{display:"flex",alignItems:"center",mb:3},children:[n.jsx(Ce,{sx:{bgcolor:"success.main",mr:2},children:n.jsx(di,{})}),n.jsx(S,{variant:"h6",sx:{fontWeight:600},children:"Production Summary"})]}),n.jsxs(k,{container:!0,spacing:3,children:[n.jsx(k,{item:!0,xs:4,children:n.jsxs(E,{sx:{textAlign:"center"},children:[n.jsx(S,{variant:"h3",color:"primary.main",sx:{fontWeight:700},children:a.productionSummary.totalRequests}),n.jsx(S,{variant:"body2",color:"text.secondary",children:"Total Requests"})]})}),n.jsx(k,{item:!0,xs:4,children:n.jsxs(E,{sx:{textAlign:"center"},children:[n.jsx(S,{variant:"h3",color:"success.main",sx:{fontWeight:700},children:a.productionSummary.completedBatches}),n.jsx(S,{variant:"body2",color:"text.secondary",children:"Completed"})]})}),n.jsx(k,{item:!0,xs:4,children:n.jsxs(E,{sx:{textAlign:"center"},children:[n.jsx(S,{variant:"h3",color:"warning.main",sx:{fontWeight:700},children:a.productionSummary.inProgressBatches}),n.jsx(S,{variant:"body2",color:"text.secondary",children:"In Progress"})]})})]})]})})})}),n.jsx(k,{item:!0,xs:12,md:6,children:n.jsx(He,{in:!0,timeout:1200,children:n.jsx(Se,{sx:{height:"100%",border:"1px solid",borderColor:"grey.200"},children:n.jsxs(ve,{sx:{p:4},children:[n.jsxs(E,{sx:{display:"flex",alignItems:"center",mb:3},children:[n.jsx(Ce,{sx:{bgcolor:"warning.main",mr:2},children:n.jsx(fi,{})}),n.jsx(S,{variant:"h6",sx:{fontWeight:600},children:"Low Stock Alert"})]}),a.lowStockMaterials.length>0?n.jsx(Cn,{sx:{p:0},children:a.lowStockMaterials.map((u,d)=>n.jsxs(E,{children:[n.jsxs(Gr,{sx:{px:0,py:2,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsx(Kr,{primary:n.jsx(S,{variant:"body1",sx:{fontWeight:500},children:u.name}),secondary:`Current: ${u.currentStock} ${u.unit} (Min: ${u.minStock})`}),n.jsx(We,{label:"Low Stock",color:"warning",size:"small",sx:{fontWeight:500}})]}),d<a.lowStockMaterials.length-1&&n.jsx(qt,{})]},u.id))}):n.jsxs(E,{sx:{textAlign:"center",py:4,color:"text.secondary"},children:[n.jsx(an,{sx:{fontSize:48,mb:2,color:"success.main"}}),n.jsx(S,{variant:"body1",children:"All materials are well stocked"})]})]})})})}),n.jsx(k,{item:!0,xs:12,md:6,children:n.jsx(He,{in:!0,timeout:1400,children:n.jsx(Se,{sx:{height:"100%",border:"1px solid",borderColor:"grey.200"},children:n.jsxs(ve,{sx:{p:4},children:[n.jsxs(E,{sx:{display:"flex",alignItems:"center",mb:3},children:[n.jsx(Ce,{sx:{bgcolor:"info.main",mr:2},children:n.jsx(_r,{})}),n.jsx(S,{variant:"h6",sx:{fontWeight:600},children:"Recent Transactions"})]}),a.recentTransactions.length>0?n.jsx(Cn,{sx:{p:0},children:a.recentTransactions.map((u,d)=>n.jsxs(E,{children:[n.jsxs(Gr,{sx:{px:0,py:2,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsx(Kr,{primary:n.jsx(S,{variant:"body1",sx:{fontWeight:500},children:u.material}),secondary:`${u.quantity} units - ${u.date.toLocaleDateString()}`}),n.jsx(We,{label:u.type,color:u.type==="INCOMING"?"success":"error",size:"small",sx:{fontWeight:500}})]}),d<a.recentTransactions.length-1&&n.jsx(qt,{})]},u.id))}):n.jsx(E,{sx:{textAlign:"center",py:4,color:"text.secondary"},children:n.jsx(S,{variant:"body1",children:"No recent transactions"})})]})})})})]})]})};function Lf(e,t){return function(){return e.apply(t,arguments)}}const{toString:gv}=Object.prototype,{getPrototypeOf:lc}=Object,{iterator:Ta,toStringTag:Wf}=Symbol,Ma=(e=>t=>{const r=gv.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),br=e=>(e=e.toLowerCase(),t=>Ma(t)===e),Oa=e=>t=>typeof t===e,{isArray:ys}=Array,pi=Oa("undefined");function yv(e){return e!==null&&!pi(e)&&e.constructor!==null&&!pi(e.constructor)&&Kt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const qf=br("ArrayBuffer");function bv(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&qf(e.buffer),t}const vv=Oa("string"),Kt=Oa("function"),$f=Oa("number"),Ra=e=>e!==null&&typeof e=="object",jv=e=>e===!0||e===!1,Ki=e=>{if(Ma(e)!=="object")return!1;const t=lc(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Wf in e)&&!(Ta in e)},wv=br("Date"),Sv=br("File"),Cv=br("Blob"),Pv=br("FileList"),kv=e=>Ra(e)&&Kt(e.pipe),Dv=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Kt(e.append)&&((t=Ma(e))==="formdata"||t==="object"&&Kt(e.toString)&&e.toString()==="[object FormData]"))},Iv=br("URLSearchParams"),[Ev,Tv,Mv,Ov]=["ReadableStream","Request","Response","Headers"].map(br),Rv=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Si(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let s,i;if(typeof e!="object"&&(e=[e]),ys(e))for(s=0,i=e.length;s<i;s++)t.call(null,e[s],s,e);else{const a=r?Object.getOwnPropertyNames(e):Object.keys(e),o=a.length;let l;for(s=0;s<o;s++)l=a[s],t.call(null,e[l],l,e)}}function Bf(e,t){t=t.toLowerCase();const r=Object.keys(e);let s=r.length,i;for(;s-- >0;)if(i=r[s],t===i.toLowerCase())return i;return null}const gn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Vf=e=>!pi(e)&&e!==gn;function hl(){const{caseless:e}=Vf(this)&&this||{},t={},r=(s,i)=>{const a=e&&Bf(t,i)||i;Ki(t[a])&&Ki(s)?t[a]=hl(t[a],s):Ki(s)?t[a]=hl({},s):ys(s)?t[a]=s.slice():t[a]=s};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&Si(arguments[s],r);return t}const Nv=(e,t,r,{allOwnKeys:s}={})=>(Si(t,(i,a)=>{r&&Kt(i)?e[a]=Lf(i,r):e[a]=i},{allOwnKeys:s}),e),_v=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Av=(e,t,r,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},Fv=(e,t,r,s)=>{let i,a,o;const l={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)o=i[a],(!s||s(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&lc(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},Lv=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const s=e.indexOf(t,r);return s!==-1&&s===r},Wv=e=>{if(!e)return null;if(ys(e))return e;let t=e.length;if(!$f(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},qv=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&lc(Uint8Array)),$v=(e,t)=>{const s=(e&&e[Ta]).call(e);let i;for(;(i=s.next())&&!i.done;){const a=i.value;t.call(e,a[0],a[1])}},Bv=(e,t)=>{let r;const s=[];for(;(r=e.exec(t))!==null;)s.push(r);return s},Vv=br("HTMLFormElement"),zv=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,s,i){return s.toUpperCase()+i}),Yu=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),Uv=br("RegExp"),zf=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),s={};Si(r,(i,a)=>{let o;(o=t(i,a,e))!==!1&&(s[a]=o||i)}),Object.defineProperties(e,s)},Qv=e=>{zf(e,(t,r)=>{if(Kt(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const s=e[r];if(Kt(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Hv=(e,t)=>{const r={},s=i=>{i.forEach(a=>{r[a]=!0})};return ys(e)?s(e):s(String(e).split(t)),r},Yv=()=>{},Gv=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Kv(e){return!!(e&&Kt(e.append)&&e[Wf]==="FormData"&&e[Ta])}const Jv=e=>{const t=new Array(10),r=(s,i)=>{if(Ra(s)){if(t.indexOf(s)>=0)return;if(!("toJSON"in s)){t[i]=s;const a=ys(s)?[]:{};return Si(s,(o,l)=>{const c=r(o,i+1);!pi(c)&&(a[l]=c)}),t[i]=void 0,a}}return s};return r(e,0)},Xv=br("AsyncFunction"),Zv=e=>e&&(Ra(e)||Kt(e))&&Kt(e.then)&&Kt(e.catch),Uf=((e,t)=>e?setImmediate:t?((r,s)=>(gn.addEventListener("message",({source:i,data:a})=>{i===gn&&a===r&&s.length&&s.shift()()},!1),i=>{s.push(i),gn.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Kt(gn.postMessage)),ej=typeof queueMicrotask<"u"?queueMicrotask.bind(gn):typeof process<"u"&&process.nextTick||Uf,tj=e=>e!=null&&Kt(e[Ta]),Q={isArray:ys,isArrayBuffer:qf,isBuffer:yv,isFormData:Dv,isArrayBufferView:bv,isString:vv,isNumber:$f,isBoolean:jv,isObject:Ra,isPlainObject:Ki,isReadableStream:Ev,isRequest:Tv,isResponse:Mv,isHeaders:Ov,isUndefined:pi,isDate:wv,isFile:Sv,isBlob:Cv,isRegExp:Uv,isFunction:Kt,isStream:kv,isURLSearchParams:Iv,isTypedArray:qv,isFileList:Pv,forEach:Si,merge:hl,extend:Nv,trim:Rv,stripBOM:_v,inherits:Av,toFlatObject:Fv,kindOf:Ma,kindOfTest:br,endsWith:Lv,toArray:Wv,forEachEntry:$v,matchAll:Bv,isHTMLForm:Vv,hasOwnProperty:Yu,hasOwnProp:Yu,reduceDescriptors:zf,freezeMethods:Qv,toObjectSet:Hv,toCamelCase:zv,noop:Yv,toFiniteNumber:Gv,findKey:Bf,global:gn,isContextDefined:Vf,isSpecCompliantForm:Kv,toJSONObject:Jv,isAsyncFn:Xv,isThenable:Zv,setImmediate:Uf,asap:ej,isIterable:tj};function Le(e,t,r,s,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),s&&(this.request=s),i&&(this.response=i,this.status=i.status?i.status:null)}Q.inherits(Le,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Q.toJSONObject(this.config),code:this.code,status:this.status}}});const Qf=Le.prototype,Hf={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Hf[e]={value:e}});Object.defineProperties(Le,Hf);Object.defineProperty(Qf,"isAxiosError",{value:!0});Le.from=(e,t,r,s,i,a)=>{const o=Object.create(Qf);return Q.toFlatObject(e,o,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),Le.call(o,e.message,t,r,s,i),o.cause=e,o.name=e.name,a&&Object.assign(o,a),o};const rj=null;function fl(e){return Q.isPlainObject(e)||Q.isArray(e)}function Yf(e){return Q.endsWith(e,"[]")?e.slice(0,-2):e}function Gu(e,t,r){return e?e.concat(t).map(function(i,a){return i=Yf(i),!r&&a?"["+i+"]":i}).join(r?".":""):t}function nj(e){return Q.isArray(e)&&!e.some(fl)}const sj=Q.toFlatObject(Q,{},null,function(t){return/^is[A-Z]/.test(t)});function Na(e,t,r){if(!Q.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=Q.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,x){return!Q.isUndefined(x[m])});const s=r.metaTokens,i=r.visitor||d,a=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&Q.isSpecCompliantForm(t);if(!Q.isFunction(i))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(Q.isDate(g))return g.toISOString();if(!c&&Q.isBlob(g))throw new Le("Blob is not supported. Use a Buffer instead.");return Q.isArrayBuffer(g)||Q.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function d(g,m,x){let y=g;if(g&&!x&&typeof g=="object"){if(Q.endsWith(m,"{}"))m=s?m:m.slice(0,-2),g=JSON.stringify(g);else if(Q.isArray(g)&&nj(g)||(Q.isFileList(g)||Q.endsWith(m,"[]"))&&(y=Q.toArray(g)))return m=Yf(m),y.forEach(function(j,P){!(Q.isUndefined(j)||j===null)&&t.append(o===!0?Gu([m],P,a):o===null?m:m+"[]",u(j))}),!1}return fl(g)?!0:(t.append(Gu(x,m,a),u(g)),!1)}const h=[],f=Object.assign(sj,{defaultVisitor:d,convertValue:u,isVisitable:fl});function p(g,m){if(!Q.isUndefined(g)){if(h.indexOf(g)!==-1)throw Error("Circular reference detected in "+m.join("."));h.push(g),Q.forEach(g,function(y,b){(!(Q.isUndefined(y)||y===null)&&i.call(t,y,Q.isString(b)?b.trim():b,m,f))===!0&&p(y,m?m.concat(b):[b])}),h.pop()}}if(!Q.isObject(e))throw new TypeError("data must be an object");return p(e),t}function Ku(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function cc(e,t){this._pairs=[],e&&Na(e,this,t)}const Gf=cc.prototype;Gf.append=function(t,r){this._pairs.push([t,r])};Gf.toString=function(t){const r=t?function(s){return t.call(this,s,Ku)}:Ku;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function ij(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Kf(e,t,r){if(!t)return e;const s=r&&r.encode||ij;Q.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let a;if(i?a=i(t,r):a=Q.isURLSearchParams(t)?t.toString():new cc(t,r).toString(s),a){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class Ju{constructor(){this.handlers=[]}use(t,r,s){return this.handlers.push({fulfilled:t,rejected:r,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Q.forEach(this.handlers,function(s){s!==null&&t(s)})}}const Jf={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},aj=typeof URLSearchParams<"u"?URLSearchParams:cc,oj=typeof FormData<"u"?FormData:null,lj=typeof Blob<"u"?Blob:null,cj={isBrowser:!0,classes:{URLSearchParams:aj,FormData:oj,Blob:lj},protocols:["http","https","file","blob","url","data"]},uc=typeof window<"u"&&typeof document<"u",pl=typeof navigator=="object"&&navigator||void 0,uj=uc&&(!pl||["ReactNative","NativeScript","NS"].indexOf(pl.product)<0),dj=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",hj=uc&&window.location.href||"http://localhost",fj=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:uc,hasStandardBrowserEnv:uj,hasStandardBrowserWebWorkerEnv:dj,navigator:pl,origin:hj},Symbol.toStringTag,{value:"Module"})),Ot={...fj,...cj};function pj(e,t){return Na(e,new Ot.classes.URLSearchParams,Object.assign({visitor:function(r,s,i,a){return Ot.isNode&&Q.isBuffer(r)?(this.append(s,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}function mj(e){return Q.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function xj(e){const t={},r=Object.keys(e);let s;const i=r.length;let a;for(s=0;s<i;s++)a=r[s],t[a]=e[a];return t}function Xf(e){function t(r,s,i,a){let o=r[a++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=a>=r.length;return o=!o&&Q.isArray(i)?i.length:o,c?(Q.hasOwnProp(i,o)?i[o]=[i[o],s]:i[o]=s,!l):((!i[o]||!Q.isObject(i[o]))&&(i[o]=[]),t(r,s,i[o],a)&&Q.isArray(i[o])&&(i[o]=xj(i[o])),!l)}if(Q.isFormData(e)&&Q.isFunction(e.entries)){const r={};return Q.forEachEntry(e,(s,i)=>{t(mj(s),i,r,0)}),r}return null}function gj(e,t,r){if(Q.isString(e))try{return(t||JSON.parse)(e),Q.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(r||JSON.stringify)(e)}const Ci={transitional:Jf,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const s=r.getContentType()||"",i=s.indexOf("application/json")>-1,a=Q.isObject(t);if(a&&Q.isHTMLForm(t)&&(t=new FormData(t)),Q.isFormData(t))return i?JSON.stringify(Xf(t)):t;if(Q.isArrayBuffer(t)||Q.isBuffer(t)||Q.isStream(t)||Q.isFile(t)||Q.isBlob(t)||Q.isReadableStream(t))return t;if(Q.isArrayBufferView(t))return t.buffer;if(Q.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(a){if(s.indexOf("application/x-www-form-urlencoded")>-1)return pj(t,this.formSerializer).toString();if((l=Q.isFileList(t))||s.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Na(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return a||i?(r.setContentType("application/json",!1),gj(t)):t}],transformResponse:[function(t){const r=this.transitional||Ci.transitional,s=r&&r.forcedJSONParsing,i=this.responseType==="json";if(Q.isResponse(t)||Q.isReadableStream(t))return t;if(t&&Q.isString(t)&&(s&&!this.responseType||i)){const o=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(l){if(o)throw l.name==="SyntaxError"?Le.from(l,Le.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ot.classes.FormData,Blob:Ot.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Q.forEach(["delete","get","head","post","put","patch"],e=>{Ci.headers[e]={}});const yj=Q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),bj=e=>{const t={};let r,s,i;return e&&e.split(`
`).forEach(function(o){i=o.indexOf(":"),r=o.substring(0,i).trim().toLowerCase(),s=o.substring(i+1).trim(),!(!r||t[r]&&yj[r])&&(r==="set-cookie"?t[r]?t[r].push(s):t[r]=[s]:t[r]=t[r]?t[r]+", "+s:s)}),t},Xu=Symbol("internals");function _s(e){return e&&String(e).trim().toLowerCase()}function Ji(e){return e===!1||e==null?e:Q.isArray(e)?e.map(Ji):String(e)}function vj(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=r.exec(e);)t[s[1]]=s[2];return t}const jj=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function yo(e,t,r,s,i){if(Q.isFunction(s))return s.call(this,t,r);if(i&&(t=r),!!Q.isString(t)){if(Q.isString(s))return t.indexOf(s)!==-1;if(Q.isRegExp(s))return s.test(t)}}function wj(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,s)=>r.toUpperCase()+s)}function Sj(e,t){const r=Q.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+r,{value:function(i,a,o){return this[s].call(this,t,i,a,o)},configurable:!0})})}let Jt=class{constructor(t){t&&this.set(t)}set(t,r,s){const i=this;function a(l,c,u){const d=_s(c);if(!d)throw new Error("header name must be a non-empty string");const h=Q.findKey(i,d);(!h||i[h]===void 0||u===!0||u===void 0&&i[h]!==!1)&&(i[h||c]=Ji(l))}const o=(l,c)=>Q.forEach(l,(u,d)=>a(u,d,c));if(Q.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(Q.isString(t)&&(t=t.trim())&&!jj(t))o(bj(t),r);else if(Q.isObject(t)&&Q.isIterable(t)){let l={},c,u;for(const d of t){if(!Q.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?Q.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}o(l,r)}else t!=null&&a(r,t,s);return this}get(t,r){if(t=_s(t),t){const s=Q.findKey(this,t);if(s){const i=this[s];if(!r)return i;if(r===!0)return vj(i);if(Q.isFunction(r))return r.call(this,i,s);if(Q.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=_s(t),t){const s=Q.findKey(this,t);return!!(s&&this[s]!==void 0&&(!r||yo(this,this[s],s,r)))}return!1}delete(t,r){const s=this;let i=!1;function a(o){if(o=_s(o),o){const l=Q.findKey(s,o);l&&(!r||yo(s,s[l],l,r))&&(delete s[l],i=!0)}}return Q.isArray(t)?t.forEach(a):a(t),i}clear(t){const r=Object.keys(this);let s=r.length,i=!1;for(;s--;){const a=r[s];(!t||yo(this,this[a],a,t,!0))&&(delete this[a],i=!0)}return i}normalize(t){const r=this,s={};return Q.forEach(this,(i,a)=>{const o=Q.findKey(s,a);if(o){r[o]=Ji(i),delete r[a];return}const l=t?wj(a):String(a).trim();l!==a&&delete r[a],r[l]=Ji(i),s[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return Q.forEach(this,(s,i)=>{s!=null&&s!==!1&&(r[i]=t&&Q.isArray(s)?s.join(", "):s)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const s=new this(t);return r.forEach(i=>s.set(i)),s}static accessor(t){const s=(this[Xu]=this[Xu]={accessors:{}}).accessors,i=this.prototype;function a(o){const l=_s(o);s[l]||(Sj(i,o),s[l]=!0)}return Q.isArray(t)?t.forEach(a):a(t),this}};Jt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Q.reduceDescriptors(Jt.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[r]=s}}});Q.freezeMethods(Jt);function bo(e,t){const r=this||Ci,s=t||r,i=Jt.from(s.headers);let a=s.data;return Q.forEach(e,function(l){a=l.call(r,a,i.normalize(),t?t.status:void 0)}),i.normalize(),a}function Zf(e){return!!(e&&e.__CANCEL__)}function bs(e,t,r){Le.call(this,e??"canceled",Le.ERR_CANCELED,t,r),this.name="CanceledError"}Q.inherits(bs,Le,{__CANCEL__:!0});function ep(e,t,r){const s=r.config.validateStatus;!r.status||!s||s(r.status)?e(r):t(new Le("Request failed with status code "+r.status,[Le.ERR_BAD_REQUEST,Le.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Cj(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Pj(e,t){e=e||10;const r=new Array(e),s=new Array(e);let i=0,a=0,o;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=s[a];o||(o=u),r[i]=c,s[i]=u;let h=a,f=0;for(;h!==i;)f+=r[h++],h=h%e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),u-o<t)return;const p=d&&u-d;return p?Math.round(f*1e3/p):void 0}}function kj(e,t){let r=0,s=1e3/t,i,a;const o=(u,d=Date.now())=>{r=d,i=null,a&&(clearTimeout(a),a=null),e.apply(null,u)};return[(...u)=>{const d=Date.now(),h=d-r;h>=s?o(u,d):(i=u,a||(a=setTimeout(()=>{a=null,o(i)},s-h)))},()=>i&&o(i)]}const ca=(e,t,r=3)=>{let s=0;const i=Pj(50,250);return kj(a=>{const o=a.loaded,l=a.lengthComputable?a.total:void 0,c=o-s,u=i(c),d=o<=l;s=o;const h={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-o)/u:void 0,event:a,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(h)},r)},Zu=(e,t)=>{const r=e!=null;return[s=>t[0]({lengthComputable:r,total:e,loaded:s}),t[1]]},ed=e=>(...t)=>Q.asap(()=>e(...t)),Dj=Ot.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Ot.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Ot.origin),Ot.navigator&&/(msie|trident)/i.test(Ot.navigator.userAgent)):()=>!0,Ij=Ot.hasStandardBrowserEnv?{write(e,t,r,s,i,a){const o=[e+"="+encodeURIComponent(t)];Q.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),Q.isString(s)&&o.push("path="+s),Q.isString(i)&&o.push("domain="+i),a===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Ej(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Tj(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function tp(e,t,r){let s=!Ej(t);return e&&(s||r==!1)?Tj(e,t):t}const td=e=>e instanceof Jt?{...e}:e;function On(e,t){t=t||{};const r={};function s(u,d,h,f){return Q.isPlainObject(u)&&Q.isPlainObject(d)?Q.merge.call({caseless:f},u,d):Q.isPlainObject(d)?Q.merge({},d):Q.isArray(d)?d.slice():d}function i(u,d,h,f){if(Q.isUndefined(d)){if(!Q.isUndefined(u))return s(void 0,u,h,f)}else return s(u,d,h,f)}function a(u,d){if(!Q.isUndefined(d))return s(void 0,d)}function o(u,d){if(Q.isUndefined(d)){if(!Q.isUndefined(u))return s(void 0,u)}else return s(void 0,d)}function l(u,d,h){if(h in t)return s(u,d);if(h in e)return s(void 0,u)}const c={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,d,h)=>i(td(u),td(d),h,!0)};return Q.forEach(Object.keys(Object.assign({},e,t)),function(d){const h=c[d]||i,f=h(e[d],t[d],d);Q.isUndefined(f)&&h!==l||(r[d]=f)}),r}const rp=e=>{const t=On({},e);let{data:r,withXSRFToken:s,xsrfHeaderName:i,xsrfCookieName:a,headers:o,auth:l}=t;t.headers=o=Jt.from(o),t.url=Kf(tp(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(Q.isFormData(r)){if(Ot.hasStandardBrowserEnv||Ot.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[u,...d]=c?c.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...d].join("; "))}}if(Ot.hasStandardBrowserEnv&&(s&&Q.isFunction(s)&&(s=s(t)),s||s!==!1&&Dj(t.url))){const u=i&&a&&Ij.read(a);u&&o.set(i,u)}return t},Mj=typeof XMLHttpRequest<"u",Oj=Mj&&function(e){return new Promise(function(r,s){const i=rp(e);let a=i.data;const o=Jt.from(i.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=i,d,h,f,p,g;function m(){p&&p(),g&&g(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let x=new XMLHttpRequest;x.open(i.method.toUpperCase(),i.url,!0),x.timeout=i.timeout;function y(){if(!x)return;const j=Jt.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),C={data:!l||l==="text"||l==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:j,config:e,request:x};ep(function(T){r(T),m()},function(T){s(T),m()},C),x=null}"onloadend"in x?x.onloadend=y:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(y)},x.onabort=function(){x&&(s(new Le("Request aborted",Le.ECONNABORTED,e,x)),x=null)},x.onerror=function(){s(new Le("Network Error",Le.ERR_NETWORK,e,x)),x=null},x.ontimeout=function(){let P=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const C=i.transitional||Jf;i.timeoutErrorMessage&&(P=i.timeoutErrorMessage),s(new Le(P,C.clarifyTimeoutError?Le.ETIMEDOUT:Le.ECONNABORTED,e,x)),x=null},a===void 0&&o.setContentType(null),"setRequestHeader"in x&&Q.forEach(o.toJSON(),function(P,C){x.setRequestHeader(C,P)}),Q.isUndefined(i.withCredentials)||(x.withCredentials=!!i.withCredentials),l&&l!=="json"&&(x.responseType=i.responseType),u&&([f,g]=ca(u,!0),x.addEventListener("progress",f)),c&&x.upload&&([h,p]=ca(c),x.upload.addEventListener("progress",h),x.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(d=j=>{x&&(s(!j||j.type?new bs(null,e,x):j),x.abort(),x=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const b=Cj(i.url);if(b&&Ot.protocols.indexOf(b)===-1){s(new Le("Unsupported protocol "+b+":",Le.ERR_BAD_REQUEST,e));return}x.send(a||null)})},Rj=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let s=new AbortController,i;const a=function(u){if(!i){i=!0,l();const d=u instanceof Error?u:this.reason;s.abort(d instanceof Le?d:new bs(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,a(new Le(`timeout ${t} of ms exceeded`,Le.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(a):u.removeEventListener("abort",a)}),e=null)};e.forEach(u=>u.addEventListener("abort",a));const{signal:c}=s;return c.unsubscribe=()=>Q.asap(l),c}},Nj=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let s=0,i;for(;s<r;)i=s+t,yield e.slice(s,i),s=i},_j=async function*(e,t){for await(const r of Aj(e))yield*Nj(r,t)},Aj=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:s}=await t.read();if(r)break;yield s}}finally{await t.cancel()}},rd=(e,t,r,s)=>{const i=_j(e,t);let a=0,o,l=c=>{o||(o=!0,s&&s(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await i.next();if(u){l(),c.close();return}let h=d.byteLength;if(r){let f=a+=h;r(f)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),i.return()}},{highWaterMark:2})},_a=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",np=_a&&typeof ReadableStream=="function",Fj=_a&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),sp=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Lj=np&&sp(()=>{let e=!1;const t=new Request(Ot.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),nd=64*1024,ml=np&&sp(()=>Q.isReadableStream(new Response("").body)),ua={stream:ml&&(e=>e.body)};_a&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!ua[t]&&(ua[t]=Q.isFunction(e[t])?r=>r[t]():(r,s)=>{throw new Le(`Response type '${t}' is not supported`,Le.ERR_NOT_SUPPORT,s)})})})(new Response);const Wj=async e=>{if(e==null)return 0;if(Q.isBlob(e))return e.size;if(Q.isSpecCompliantForm(e))return(await new Request(Ot.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(Q.isArrayBufferView(e)||Q.isArrayBuffer(e))return e.byteLength;if(Q.isURLSearchParams(e)&&(e=e+""),Q.isString(e))return(await Fj(e)).byteLength},qj=async(e,t)=>{const r=Q.toFiniteNumber(e.getContentLength());return r??Wj(t)},$j=_a&&(async e=>{let{url:t,method:r,data:s,signal:i,cancelToken:a,timeout:o,onDownloadProgress:l,onUploadProgress:c,responseType:u,headers:d,withCredentials:h="same-origin",fetchOptions:f}=rp(e);u=u?(u+"").toLowerCase():"text";let p=Rj([i,a&&a.toAbortSignal()],o),g;const m=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let x;try{if(c&&Lj&&r!=="get"&&r!=="head"&&(x=await qj(d,s))!==0){let C=new Request(t,{method:"POST",body:s,duplex:"half"}),D;if(Q.isFormData(s)&&(D=C.headers.get("content-type"))&&d.setContentType(D),C.body){const[T,I]=Zu(x,ca(ed(c)));s=rd(C.body,nd,T,I)}}Q.isString(h)||(h=h?"include":"omit");const y="credentials"in Request.prototype;g=new Request(t,{...f,signal:p,method:r.toUpperCase(),headers:d.normalize().toJSON(),body:s,duplex:"half",credentials:y?h:void 0});let b=await fetch(g);const j=ml&&(u==="stream"||u==="response");if(ml&&(l||j&&m)){const C={};["status","statusText","headers"].forEach(M=>{C[M]=b[M]});const D=Q.toFiniteNumber(b.headers.get("content-length")),[T,I]=l&&Zu(D,ca(ed(l),!0))||[];b=new Response(rd(b.body,nd,T,()=>{I&&I(),m&&m()}),C)}u=u||"text";let P=await ua[Q.findKey(ua,u)||"text"](b,e);return!j&&m&&m(),await new Promise((C,D)=>{ep(C,D,{data:P,headers:Jt.from(b.headers),status:b.status,statusText:b.statusText,config:e,request:g})})}catch(y){throw m&&m(),y&&y.name==="TypeError"&&/Load failed|fetch/i.test(y.message)?Object.assign(new Le("Network Error",Le.ERR_NETWORK,e,g),{cause:y.cause||y}):Le.from(y,y&&y.code,e,g)}}),xl={http:rj,xhr:Oj,fetch:$j};Q.forEach(xl,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const sd=e=>`- ${e}`,Bj=e=>Q.isFunction(e)||e===null||e===!1,ip={getAdapter:e=>{e=Q.isArray(e)?e:[e];const{length:t}=e;let r,s;const i={};for(let a=0;a<t;a++){r=e[a];let o;if(s=r,!Bj(r)&&(s=xl[(o=String(r)).toLowerCase()],s===void 0))throw new Le(`Unknown adapter '${o}'`);if(s)break;i[o||"#"+a]=s}if(!s){const a=Object.entries(i).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=t?a.length>1?`since :
`+a.map(sd).join(`
`):" "+sd(a[0]):"as no adapter specified";throw new Le("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return s},adapters:xl};function vo(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new bs(null,e)}function id(e){return vo(e),e.headers=Jt.from(e.headers),e.data=bo.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),ip.getAdapter(e.adapter||Ci.adapter)(e).then(function(s){return vo(e),s.data=bo.call(e,e.transformResponse,s),s.headers=Jt.from(s.headers),s},function(s){return Zf(s)||(vo(e),s&&s.response&&(s.response.data=bo.call(e,e.transformResponse,s.response),s.response.headers=Jt.from(s.response.headers))),Promise.reject(s)})}const ap="1.9.0",Aa={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Aa[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const ad={};Aa.transitional=function(t,r,s){function i(a,o){return"[Axios v"+ap+"] Transitional option '"+a+"'"+o+(s?". "+s:"")}return(a,o,l)=>{if(t===!1)throw new Le(i(o," has been removed"+(r?" in "+r:"")),Le.ERR_DEPRECATED);return r&&!ad[o]&&(ad[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(a,o,l):!0}};Aa.spelling=function(t){return(r,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function Vj(e,t,r){if(typeof e!="object")throw new Le("options must be an object",Le.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let i=s.length;for(;i-- >0;){const a=s[i],o=t[a];if(o){const l=e[a],c=l===void 0||o(l,a,e);if(c!==!0)throw new Le("option "+a+" must be "+c,Le.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Le("Unknown option "+a,Le.ERR_BAD_OPTION)}}const Xi={assertOptions:Vj,validators:Aa},wr=Xi.validators;let wn=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Ju,response:new Ju}}async request(t,r){try{return await this._request(t,r)}catch(s){if(s instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{s.stack?a&&!String(s.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+a):s.stack=a}catch{}}throw s}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=On(this.defaults,r);const{transitional:s,paramsSerializer:i,headers:a}=r;s!==void 0&&Xi.assertOptions(s,{silentJSONParsing:wr.transitional(wr.boolean),forcedJSONParsing:wr.transitional(wr.boolean),clarifyTimeoutError:wr.transitional(wr.boolean)},!1),i!=null&&(Q.isFunction(i)?r.paramsSerializer={serialize:i}:Xi.assertOptions(i,{encode:wr.function,serialize:wr.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Xi.assertOptions(r,{baseUrl:wr.spelling("baseURL"),withXsrfToken:wr.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=a&&Q.merge(a.common,a[r.method]);a&&Q.forEach(["delete","get","head","post","put","patch","common"],g=>{delete a[g]}),r.headers=Jt.concat(o,a);const l=[];let c=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(r)===!1||(c=c&&m.synchronous,l.unshift(m.fulfilled,m.rejected))});const u=[];this.interceptors.response.forEach(function(m){u.push(m.fulfilled,m.rejected)});let d,h=0,f;if(!c){const g=[id.bind(this),void 0];for(g.unshift.apply(g,l),g.push.apply(g,u),f=g.length,d=Promise.resolve(r);h<f;)d=d.then(g[h++],g[h++]);return d}f=l.length;let p=r;for(h=0;h<f;){const g=l[h++],m=l[h++];try{p=g(p)}catch(x){m.call(this,x);break}}try{d=id.call(this,p)}catch(g){return Promise.reject(g)}for(h=0,f=u.length;h<f;)d=d.then(u[h++],u[h++]);return d}getUri(t){t=On(this.defaults,t);const r=tp(t.baseURL,t.url,t.allowAbsoluteUrls);return Kf(r,t.params,t.paramsSerializer)}};Q.forEach(["delete","get","head","options"],function(t){wn.prototype[t]=function(r,s){return this.request(On(s||{},{method:t,url:r,data:(s||{}).data}))}});Q.forEach(["post","put","patch"],function(t){function r(s){return function(a,o,l){return this.request(On(l||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}wn.prototype[t]=r(),wn.prototype[t+"Form"]=r(!0)});let zj=class op{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const s=this;this.promise.then(i=>{if(!s._listeners)return;let a=s._listeners.length;for(;a-- >0;)s._listeners[a](i);s._listeners=null}),this.promise.then=i=>{let a;const o=new Promise(l=>{s.subscribe(l),a=l}).then(i);return o.cancel=function(){s.unsubscribe(a)},o},t(function(a,o,l){s.reason||(s.reason=new bs(a,o,l),r(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=s=>{t.abort(s)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new op(function(i){t=i}),cancel:t}}};function Uj(e){return function(r){return e.apply(null,r)}}function Qj(e){return Q.isObject(e)&&e.isAxiosError===!0}const gl={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(gl).forEach(([e,t])=>{gl[t]=e});function lp(e){const t=new wn(e),r=Lf(wn.prototype.request,t);return Q.extend(r,wn.prototype,t,{allOwnKeys:!0}),Q.extend(r,t,null,{allOwnKeys:!0}),r.create=function(i){return lp(On(e,i))},r}const ye=lp(Ci);ye.Axios=wn;ye.CanceledError=bs;ye.CancelToken=zj;ye.isCancel=Zf;ye.VERSION=ap;ye.toFormData=Na;ye.AxiosError=Le;ye.Cancel=ye.CanceledError;ye.all=function(t){return Promise.all(t)};ye.spread=Uj;ye.isAxiosError=Qj;ye.mergeConfig=On;ye.AxiosHeaders=Jt;ye.formToJSON=e=>Xf(Q.isHTMLForm(e)?new FormData(e):e);ye.getAdapter=ip.getAdapter;ye.HttpStatusCode=gl;ye.default=ye;const{Axios:WD,AxiosError:qD,CanceledError:$D,isCancel:BD,CancelToken:VD,VERSION:zD,all:UD,Cancel:QD,isAxiosError:HD,spread:YD,toFormData:GD,AxiosHeaders:KD,HttpStatusCode:JD,formToJSON:XD,getAdapter:ZD,mergeConfig:eI}=ye,Pt="http://localhost:5001/api/batches",st={getAllBatches:async()=>(await ye.get(Pt)).data,getBatchById:async e=>(await ye.get(`${Pt}/${e}`)).data,createBatch:async e=>(await ye.post(Pt,e)).data,updateBatch:async(e,t)=>(await ye.put(`${Pt}/${e}`,t)).data,deleteBatch:async e=>(await ye.delete(`${Pt}/${e}`)).data,startProduction:async e=>(await ye.put(`${Pt}/${e}`,{status:"in_progress"})).data,getBatchSteps:async e=>(await ye.get(`${Pt}/${e}/steps`)).data,createProductionStep:async(e,t)=>(await ye.post(`${Pt}/${e}/steps`,t)).data,updateProductionStep:async(e,t,r)=>(await ye.put(`${Pt}/${e}/steps/${t}`,r)).data,deleteProductionStep:async(e,t)=>(await ye.delete(`${Pt}/${e}/steps/${t}`)).data,startProductionStep:async(e,t,r)=>(await ye.put(`${Pt}/${e}/steps/${t}/start`,r)).data,completeProductionStep:async(e,t,r)=>(await ye.put(`${Pt}/${e}/steps/${t}/complete`,r)).data,getBatchMaterials:async e=>(await ye.get(`${Pt}/${e}/materials`)).data,createMaterialAllocation:async(e,t)=>(await ye.post(`${Pt}/${e}/materials`,t)).data,updateMaterialAllocation:async(e,t,r)=>(await ye.put(`${Pt}/${e}/materials/${t}`,r)).data,deleteMaterialAllocation:async(e,t)=>(await ye.delete(`${Pt}/${e}/materials/${t}`)).data,allocateMaterial:async(e,t,r)=>(await ye.put(`${Pt}/${e}/materials/${t}/allocate`,{quantityAllocated:r})).data,consumeMaterial:async(e,t)=>(await ye.put(`${Pt}/${e}/materials/${t}/consume`)).data,generateMachineId:async()=>(await ye.get("http://localhost:5003/api/generate-machine-id")).data,getAllMachines:async()=>(await ye.get("http://localhost:5003/api/machines")).data,getMachineById:async e=>(await ye.get(`http://localhost:5003/api/machines/${e}`)).data,createMachine:async e=>(await ye.post("http://localhost:5003/api/machines",e)).data,updateMachine:async(e,t)=>(await ye.put(`http://localhost:5003/api/machines/${e}`,t)).data,deleteMachine:async e=>(await ye.delete(`http://localhost:5003/api/machines/${e}`)).data,updateMachineStatus:async(e,t)=>(await ye.put(`http://localhost:5003/api/machines/${e}/status`,t)).data,getMaintenanceSchedule:async(e=7)=>(await ye.get(`http://localhost:5003/api/maintenance-schedule?days=${e}`)).data,getMachineStatusSummary:async()=>(await ye.get("http://localhost:5003/api/machine-status-summary")).data,getMachineTypes:async()=>(await ye.get("http://localhost:5003/api/machine-types")).data,getOperationalMachines:async()=>(await ye.get("http://localhost:5003/api/machines?status=operational")).data},Hj=()=>{const e=Xe(),[t,r]=v.useState([]),[s,i]=v.useState(!0),[a,o]=v.useState(null),[l,c]=v.useState(""),[u,d]=v.useState(0),[h,f]=v.useState(10),[p,g]=v.useState(null),[m,x]=v.useState(null),[y,b]=v.useState("all"),[j,P]=v.useState(0);v.useEffect(()=>{C(),D()},[]);const C=async()=>{try{i(!0),o(null);const w=await st.getAllMachines();r(w.data||w||[])}catch(w){o("Failed to fetch machines."),console.error("Error fetching machines:",w)}finally{i(!1)}},D=async()=>{try{const w=await st.getMaintenanceSchedule(7);w.success&&P(w.data.overdue+w.data.upcoming)}catch(w){console.error("Error fetching maintenance alerts:",w)}},T=async w=>{if(window.confirm("Are you sure you want to delete this machine?"))try{await st.deleteMachine(w),C()}catch(_){o("Failed to delete machine."),console.error("Error deleting machine:",_)}},I=async(w,_,N="")=>{try{await st.updateMachineStatus(w,{status:_,reason:N}),C()}catch(A){o("Failed to update machine status"),console.error("Error updating status:",A)}},M=w=>{const N={operational:{color:"success",label:"Operational",bgcolor:"#e8f5e8"},maintenance:{color:"warning",label:"Maintenance",bgcolor:"#fff3e0"},breakdown:{color:"error",label:"Breakdown",bgcolor:"#ffebee"},inactive:{color:"default",label:"Inactive",bgcolor:"#f5f5f5"}}[w]||{color:"default",label:w,bgcolor:"#f5f5f5"};return n.jsx(We,{label:N.label,size:"small",sx:{fontWeight:500,bgcolor:N.bgcolor,color:N.color==="default"?"text.primary":`${N.color}.main`,border:"1px solid",borderColor:N.color==="default"?"grey.300":`${N.color}.light`}})},W=(w,_)=>{d(_)},z=w=>{f(parseInt(w.target.value,10)),d(0)},L=t.filter(w=>{var A,O,B;const _=((A=w.name)==null?void 0:A.toLowerCase().includes(l.toLowerCase()))||((O=w.type)==null?void 0:O.toLowerCase().includes(l.toLowerCase()))||((B=w.location)==null?void 0:B.toLowerCase().includes(l.toLowerCase())),N=y==="all"||w.status===y;return _&&N}),U=L.slice(u*h,u*h+h);return s?n.jsx(E,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:n.jsx(je,{size:60,thickness:4})}):n.jsxs(E,{sx:{width:"100%",maxWidth:"100%",mx:"auto",p:{xs:2,sm:3},overflow:"hidden"},children:[n.jsx(be,{in:!0,timeout:600,children:n.jsx(Se,{elevation:0,sx:{mb:4,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",borderRadius:3,width:"100%"},children:n.jsx(ve,{sx:{p:{xs:3,sm:4}},children:n.jsxs(E,{sx:{display:"flex",justifyContent:"space-between",alignItems:{xs:"flex-start",sm:"center"},flexDirection:{xs:"column",sm:"row"},gap:{xs:3,sm:0}},children:[n.jsxs(E,{sx:{display:"flex",alignItems:"center"},children:[n.jsx(Ce,{sx:{bgcolor:"rgba(255,255,255,0.2)",width:{xs:56,sm:64},height:{xs:56,sm:64},mr:{xs:2,sm:3}},children:n.jsx(Zn,{sx:{fontSize:{xs:28,sm:32}}})}),n.jsxs(E,{children:[n.jsx(S,{variant:"h4",sx:{fontWeight:700,mb:1,fontSize:{xs:"1.75rem",sm:"2.125rem"}},children:"Machine Management"}),n.jsx(S,{variant:"h6",sx:{opacity:.9},children:"Manage and monitor production machines"})]})]}),n.jsx(K,{variant:"contained",size:"large",startIcon:n.jsx(or,{}),onClick:()=>e("/machines/add"),sx:{bgcolor:"rgba(255,255,255,0.2)",color:"white","&:hover":{bgcolor:"rgba(255,255,255,0.3)"},px:4,py:1.5,borderRadius:2,width:{xs:"100%",sm:"auto"}},children:"Add Machine"})]})})})}),a&&n.jsx(be,{in:!0,children:n.jsx(ge,{severity:"error",sx:{mb:3,borderRadius:2},onClose:()=>o(null),children:a})}),n.jsx(be,{in:!0,timeout:800,children:n.jsxs(k,{container:!0,spacing:3,sx:{mb:4},children:[n.jsx(k,{item:!0,xs:12,sm:6,md:3,children:n.jsx(Se,{sx:{borderRadius:2,border:"1px solid",borderColor:"grey.200"},children:n.jsxs(ve,{sx:{p:3},children:[n.jsx(S,{color:"text.secondary",gutterBottom:!0,variant:"subtitle2",sx:{fontWeight:600},children:"Total Machines"}),n.jsx(S,{variant:"h4",component:"div",sx:{fontWeight:700,color:"primary.main"},children:t.length})]})})}),n.jsx(k,{item:!0,xs:12,sm:6,md:3,children:n.jsx(Se,{sx:{borderRadius:2,border:"1px solid",borderColor:"grey.200"},children:n.jsxs(ve,{sx:{p:3},children:[n.jsx(S,{color:"text.secondary",gutterBottom:!0,variant:"subtitle2",sx:{fontWeight:600},children:"Operational"}),n.jsx(S,{variant:"h4",component:"div",sx:{fontWeight:700,color:"success.main"},children:t.filter(w=>w.status==="operational").length})]})})}),n.jsx(k,{item:!0,xs:12,sm:6,md:3,children:n.jsx(Se,{sx:{borderRadius:2,border:"1px solid",borderColor:"grey.200"},children:n.jsxs(ve,{sx:{p:3},children:[n.jsx(S,{color:"text.secondary",gutterBottom:!0,variant:"subtitle2",sx:{fontWeight:600},children:"Maintenance"}),n.jsx(S,{variant:"h4",component:"div",sx:{fontWeight:700,color:"warning.main"},children:t.filter(w=>w.status==="maintenance").length})]})})}),n.jsx(k,{item:!0,xs:12,sm:6,md:3,children:n.jsx(Se,{sx:{borderRadius:2,border:"1px solid",borderColor:"grey.200"},children:n.jsxs(ve,{sx:{p:3},children:[n.jsx(S,{color:"text.secondary",gutterBottom:!0,variant:"subtitle2",sx:{fontWeight:600},children:"Breakdown"}),n.jsx(S,{variant:"h4",component:"div",sx:{fontWeight:700,color:"error.main"},children:t.filter(w=>w.status==="breakdown").length})]})})})]})}),n.jsx(He,{in:!0,timeout:1e3,children:n.jsxs(Me,{sx:{borderRadius:3,overflow:"hidden",border:"1px solid",borderColor:"grey.200",width:"100%"},children:[n.jsx(E,{sx:{p:3,bgcolor:"grey.50",borderBottom:"1px solid",borderColor:"grey.200"},children:n.jsxs(k,{container:!0,spacing:2,alignItems:"center",children:[n.jsx(k,{item:!0,xs:12,md:8,children:n.jsx(H,{fullWidth:!0,label:"Search Machines",value:l,onChange:w=>c(w.target.value),InputProps:{startAdornment:n.jsx(Fe,{position:"start",children:n.jsx(Mr,{color:"action"})}),endAdornment:l&&n.jsx(Fe,{position:"end",children:n.jsx(ie,{size:"small",onClick:()=>c(""),children:n.jsx(gr,{})})})},sx:{"& .MuiOutlinedInput-root":{bgcolor:"white"}}})}),n.jsx(k,{item:!0,xs:12,md:4,children:n.jsxs(Ge,{fullWidth:!0,children:[n.jsx(Ke,{children:"Status Filter"}),n.jsxs(Je,{value:y,onChange:w=>b(w.target.value),label:"Status Filter",sx:{"& .MuiOutlinedInput-root":{bgcolor:"white"}},children:[n.jsx(V,{value:"all",children:"All Status"}),n.jsx(V,{value:"operational",children:"Operational"}),n.jsx(V,{value:"maintenance",children:"Maintenance"}),n.jsx(V,{value:"breakdown",children:"Breakdown"}),n.jsx(V,{value:"inactive",children:"Inactive"})]})]})})]})}),t.length===0?n.jsx(ge,{severity:"info",sx:{m:3},children:"No machines available."}):n.jsxs(n.Fragment,{children:[n.jsx(E,{sx:{width:"100%",overflowX:"auto"},children:n.jsxs(Nt,{sx:{minWidth:800},children:[n.jsx(_t,{children:n.jsxs(Ve,{children:[n.jsx(R,{sx:{fontWeight:600,py:2},children:"Machine ID"}),n.jsx(R,{sx:{fontWeight:600,py:2},children:"Name"}),n.jsx(R,{sx:{fontWeight:600,py:2},children:"Type"}),n.jsx(R,{sx:{fontWeight:600,py:2},children:"Status"}),n.jsx(R,{sx:{fontWeight:600,py:2},children:"Location"}),n.jsx(R,{sx:{fontWeight:600,py:2},children:"Manufacturer"}),n.jsx(R,{sx:{fontWeight:600,py:2},children:"Capacity"}),n.jsx(R,{sx:{fontWeight:600,py:2},align:"right",children:"Actions"})]})}),n.jsx(At,{children:U.map((w,_)=>n.jsx(be,{in:!0,timeout:300+_*100,children:n.jsxs(Ve,{sx:{"&:hover":{bgcolor:"grey.50",transform:"scale(1.001)",transition:"all 0.2s ease-in-out"},"&:last-child td":{border:0}},children:[n.jsx(R,{sx:{py:2},children:n.jsx(S,{variant:"body1",sx:{fontWeight:600,color:"primary.main"},children:w.machineId})}),n.jsx(R,{sx:{py:2},children:n.jsx(S,{variant:"body1",sx:{fontWeight:500},children:w.name})}),n.jsx(R,{sx:{py:2},children:n.jsx(S,{variant:"body1",children:w.type})}),n.jsx(R,{sx:{py:2},children:M(w.status)}),n.jsx(R,{sx:{py:2},children:n.jsx(S,{variant:"body2",children:w.location||"-"})}),n.jsx(R,{sx:{py:2},children:n.jsx(S,{variant:"body2",children:w.manufacturer||"-"})}),n.jsx(R,{sx:{py:2},children:n.jsx(S,{variant:"body2",children:w.capacity&&w.capacityUnit?`${w.capacity} ${w.capacityUnit}`:w.capacity||"-"})}),n.jsx(R,{align:"right",sx:{py:2},children:n.jsxs(ze,{direction:"row",spacing:1,justifyContent:"flex-end",children:[n.jsx(Ee,{title:"View Details",children:n.jsx(ie,{size:"small",color:"primary",onClick:()=>e(`/machines/${w.id}`),sx:{"&:hover":{bgcolor:"primary.light",color:"white"}},children:n.jsx(Gt,{fontSize:"small"})})}),w.status==="operational"&&n.jsx(Ee,{title:"Schedule Maintenance",children:n.jsx(ie,{size:"small",color:"warning",onClick:()=>I(w.id,"maintenance","Scheduled maintenance"),sx:{"&:hover":{bgcolor:"warning.light",color:"white"}},children:n.jsx(Mn,{fontSize:"small"})})}),w.status==="maintenance"&&n.jsx(Ee,{title:"Set Operational",children:n.jsx(ie,{size:"small",color:"success",onClick:()=>I(w.id,"operational","Maintenance completed"),sx:{"&:hover":{bgcolor:"success.light",color:"white"}},children:n.jsx(ac,{fontSize:"small"})})}),n.jsx(Ee,{title:"Edit",children:n.jsx(ie,{size:"small",color:"info",onClick:()=>e(`/machines/${w.id}/edit`),sx:{"&:hover":{bgcolor:"info.light",color:"white"}},children:n.jsx(wt,{fontSize:"small"})})}),n.jsx(Ee,{title:"Delete",children:n.jsx(ie,{size:"small",color:"error",onClick:()=>T(w.id),sx:{"&:hover":{bgcolor:"error.light",color:"white"}},children:n.jsx(jt,{fontSize:"small"})})})]})})]})},w.id))})]})}),n.jsx(dr,{rowsPerPageOptions:[5,10,25],component:"div",count:L.length,rowsPerPage:h,page:u,onPageChange:W,onRowsPerPageChange:z,sx:{borderTop:"1px solid",borderColor:"grey.200",bgcolor:"grey.50"}})]})]})})]})},vs={auth:"http://localhost:3002/api",production:"http://localhost:5001/api",machineQueue:"http://localhost:5003/api",materialInventory:"http://localhost:3004/api",productionFeedback:"http://localhost:3005/api",machineQueueManagement:"http://localhost:5003/api"},js=e=>{const t=ye.create({baseURL:e,timeout:1e4,headers:{"Content-Type":"application/json"}});return t.interceptors.request.use(r=>{const s=localStorage.getItem("token");return s&&(r.headers.Authorization=`Bearer ${s}`),r},r=>Promise.reject(r)),t.interceptors.response.use(r=>r,r=>{var s;return((s=r.response)==null?void 0:s.status)===401&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"),Promise.reject(r)}),t};js(vs.auth);const kt=js(vs.production),yt=js(vs.machineQueue);js(vs.materialInventory);js(vs.productionFeedback);const er=js(vs.machineQueueManagement),Yj={getProductionRequests:e=>kt.get("/production-requests",{params:e}),getProductionRequestById:e=>kt.get(`/production-requests/${e}`),createProductionRequest:e=>kt.post("/production-requests",e),updateProductionRequest:(e,t)=>kt.put(`/production-requests/${e}`,t),deleteProductionRequest:e=>kt.delete(`/production-requests/${e}`),approveProductionRequest:e=>kt.put(`/production-requests/${e}/approve`),rejectProductionRequest:(e,t)=>kt.put(`/production-requests/${e}/reject`,{reason:t}),getProductionBatches:e=>kt.get("/batches",{params:e}),getProductionBatchById:e=>kt.get(`/production-batches/${e}`),createProductionBatch:e=>kt.post("/production-batches",e),updateProductionBatch:(e,t)=>kt.put(`/production-batches/${e}`,t),deleteProductionBatch:e=>kt.delete(`/production-batches/${e}`),startProductionBatch:e=>kt.put(`/production-batches/${e}/start`),completeProductionBatch:e=>kt.put(`/production-batches/${e}/complete`),getProductionSteps:e=>kt.get(`/production-batches/${e}/steps`),updateProductionStep:(e,t,r)=>kt.put(`/production-batches/${e}/steps/${t}`,r),getProductionReport:e=>kt.get("/reports/production",{params:e}),getEfficiencyReport:e=>kt.get("/reports/efficiency",{params:e})},Rr={getAllMachines:e=>yt.get("/machines",{params:e}),getMachineById:e=>yt.get(`/machines/${e}`),createMachine:e=>yt.post("/machines",e),updateMachine:(e,t)=>yt.put(`/machines/${e}`,t),deleteMachine:e=>yt.delete(`/machines/${e}`),getMachinesByType:e=>yt.get(`/machines/type/${e}`),getMachineTypes:()=>yt.get("/machine-types"),getMachinesForProduct:e=>yt.get("/machines-for-product",{params:e}),checkCapacity:e=>yt.post("/machines/check-capacity",e),getAllQueues:e=>yt.get("/queues",{params:e}),getQueueById:e=>yt.get(`/queues/${e}`),addToQueue:e=>yt.post("/queues",e),updateQueue:(e,t)=>yt.put(`/queues/${e}`,t),removeFromQueue:e=>yt.delete(`/queues/${e}`),getMachineQueue:e=>yt.get(`/machines/${e}/queue`),getAvailableMachines:()=>yt.get("/machines/available"),startQueueItem:(e,t)=>yt.put(`/queues/${e}/start`,t),completeQueueItem:(e,t)=>yt.put(`/queues/${e}/complete`,t),cancelQueueItem:(e,t)=>yt.put(`/queues/${e}/cancel`,{reason:t}),reorderQueue:(e,t)=>yt.post(`/queues/${e}/reorder`,{newPosition:t})},jo={getAllQueues:()=>er.get("/queues"),getQueueById:e=>er.get(`/queues/${e}`),addToQueue:e=>er.post("/queues",e),updateQueue:(e,t)=>er.put(`/queues/${e}`,t),deleteQueue:e=>er.delete(`/queues/${e}`),updateQueueStatus:(e,t)=>er.patch(`/queues/${e}/status`,{status:t}),getMachineQueue:e=>er.get(`/queues/machine/${e}`),getAllMachines:()=>er.get("/machines"),getMachineById:e=>er.get(`/machines/${e}`),createMachine:e=>er.post("/machines",e),updateMachine:(e,t)=>er.put(`/machines/${e}`,t),deleteMachine:e=>er.delete(`/machines/${e}`),updateMachineStatus:(e,t)=>er.patch(`/machines/${e}/status`,{status:t})},Gj=()=>{const{id:e}=Ht(),t=Xe(),[r,s]=v.useState(null),[i,a]=v.useState([]),[o,l]=v.useState(!0),[c,u]=v.useState(null);v.useEffect(()=>{d(),h()},[e]);const d=async()=>{try{l(!0),u(null);const m=await Rr.getMachineById(e);s(m.data.data||m.data)}catch(m){console.error("Error fetching machine details:",m),u("Failed to fetch machine details")}finally{l(!1)}},h=async()=>{try{const m=await Rr.getMachineQueue(e);a(m.data.data||m.data||[])}catch(m){console.error("Error fetching machine queue:",m)}},f=m=>{const y={operational:{color:"success",label:"Operational",bgcolor:"#e8f5e8"},maintenance:{color:"warning",label:"Maintenance",bgcolor:"#fff3e0"},breakdown:{color:"error",label:"Breakdown",bgcolor:"#ffebee"},inactive:{color:"default",label:"Inactive",bgcolor:"#f5f5f5"}}[m]||{color:"default",label:m,bgcolor:"#f5f5f5"};return n.jsx(We,{label:y.label,sx:{fontWeight:500,bgcolor:y.bgcolor,color:y.color==="default"?"text.primary":`${y.color}.main`,border:"1px solid",borderColor:y.color==="default"?"grey.300":`${y.color}.light`}})},p=m=>{const y={waiting:{color:"warning",label:"Waiting"},in_progress:{color:"primary",label:"In Progress"},completed:{color:"success",label:"Completed"},cancelled:{color:"error",label:"Cancelled"}}[m]||{color:"default",label:m};return n.jsx(We,{label:y.label,color:y.color,size:"small",sx:{fontWeight:500}})},g=m=>m?new Date(m).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"-";return o?n.jsx(E,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:n.jsx(je,{size:60,thickness:4})}):c?n.jsx(be,{in:!0,children:n.jsx(ge,{severity:"error",sx:{m:2,borderRadius:2},children:c})}):r?n.jsxs(E,{sx:{width:"100%",maxWidth:1200,mx:"auto",p:{xs:2,sm:3},overflow:"hidden"},children:[n.jsx(be,{in:!0,timeout:600,children:n.jsx(Se,{elevation:0,sx:{mb:4,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",borderRadius:3,width:"100%"},children:n.jsx(ve,{sx:{p:{xs:3,sm:4}},children:n.jsxs(E,{sx:{display:"flex",justifyContent:"space-between",alignItems:{xs:"flex-start",sm:"center"},flexDirection:{xs:"column",sm:"row"},gap:{xs:3,sm:0}},children:[n.jsxs(E,{sx:{display:"flex",alignItems:"center"},children:[n.jsx(Ce,{sx:{bgcolor:"rgba(255,255,255,0.2)",width:{xs:56,sm:64},height:{xs:56,sm:64},mr:{xs:2,sm:3}},children:n.jsx(Zn,{sx:{fontSize:{xs:28,sm:32}}})}),n.jsxs(E,{children:[n.jsx(S,{variant:"h4",sx:{fontWeight:700,mb:1,fontSize:{xs:"1.75rem",sm:"2.125rem"}},children:r.name}),n.jsxs(S,{variant:"h6",sx:{opacity:.9},children:["Machine ID: ",r.machineId]})]})]}),n.jsxs(ze,{direction:{xs:"column",sm:"row"},spacing:2,children:[n.jsx(K,{variant:"outlined",startIcon:n.jsx(Lt,{}),onClick:()=>t("/machines"),sx:{bgcolor:"rgba(255,255,255,0.1)",color:"white",borderColor:"rgba(255,255,255,0.5)","&:hover":{bgcolor:"rgba(255,255,255,0.2)"},width:{xs:"100%",sm:"auto"}},children:"Back"}),n.jsx(K,{variant:"contained",startIcon:n.jsx(wt,{}),onClick:()=>t(`/machines/${e}/edit`),sx:{bgcolor:"rgba(255,255,255,0.2)",color:"white","&:hover":{bgcolor:"rgba(255,255,255,0.3)"},width:{xs:"100%",sm:"auto"}},children:"Edit Machine"})]})]})})})}),n.jsxs(k,{container:!0,spacing:4,children:[n.jsx(k,{item:!0,xs:12,md:6,children:n.jsx(He,{in:!0,timeout:800,children:n.jsx(Se,{sx:{height:"100%",border:"1px solid",borderColor:"grey.200"},children:n.jsxs(ve,{sx:{p:4},children:[n.jsxs(E,{sx:{display:"flex",alignItems:"center",mb:3},children:[n.jsx(Ce,{sx:{bgcolor:"primary.main",mr:2},children:n.jsx(wi,{})}),n.jsx(S,{variant:"h6",sx:{fontWeight:600},children:"Machine Information"})]}),n.jsxs(ze,{spacing:3,children:[n.jsxs(E,{children:[n.jsx(S,{variant:"subtitle2",color:"text.secondary",sx:{fontWeight:600},children:"Status"}),n.jsx(E,{sx:{mt:1},children:f(r.status)})]}),n.jsxs(E,{children:[n.jsx(S,{variant:"subtitle2",color:"text.secondary",sx:{fontWeight:600},children:"Type"}),n.jsx(S,{variant:"body1",sx:{fontWeight:500},children:r.type})]}),n.jsxs(E,{children:[n.jsx(S,{variant:"subtitle2",color:"text.secondary",sx:{fontWeight:600},children:"Location"}),n.jsx(S,{variant:"body1",sx:{fontWeight:500},children:r.location||"-"})]}),n.jsxs(E,{children:[n.jsx(S,{variant:"subtitle2",color:"text.secondary",sx:{fontWeight:600},children:"Manufacturer"}),n.jsx(S,{variant:"body1",sx:{fontWeight:500},children:r.manufacturer||"-"})]}),n.jsxs(E,{children:[n.jsx(S,{variant:"subtitle2",color:"text.secondary",sx:{fontWeight:600},children:"Model"}),n.jsx(S,{variant:"body1",sx:{fontWeight:500},children:r.model||"-"})]}),n.jsxs(E,{children:[n.jsx(S,{variant:"subtitle2",color:"text.secondary",sx:{fontWeight:600},children:"Capacity"}),n.jsx(S,{variant:"body1",sx:{fontWeight:500},children:r.capacity&&r.capacityUnit?`${r.capacity} ${r.capacityUnit}`:r.capacity||"-"})]})]})]})})})}),n.jsx(k,{item:!0,xs:12,md:6,children:n.jsx(He,{in:!0,timeout:1e3,children:n.jsx(Se,{sx:{height:"100%",border:"1px solid",borderColor:"grey.200"},children:n.jsxs(ve,{sx:{p:4},children:[n.jsxs(E,{sx:{display:"flex",alignItems:"center",mb:3},children:[n.jsx(Ce,{sx:{bgcolor:"info.main",mr:2},children:n.jsx(Mn,{})}),n.jsx(S,{variant:"h6",sx:{fontWeight:600},children:"Technical Details"})]}),n.jsxs(ze,{spacing:3,children:[n.jsxs(E,{children:[n.jsx(S,{variant:"subtitle2",color:"text.secondary",sx:{fontWeight:600},children:"Serial Number"}),n.jsx(S,{variant:"body1",sx:{fontWeight:500},children:r.serialNumber||"-"})]}),n.jsxs(E,{children:[n.jsx(S,{variant:"subtitle2",color:"text.secondary",sx:{fontWeight:600},children:"Installation Date"}),n.jsx(S,{variant:"body1",sx:{fontWeight:500},children:g(r.installationDate)})]}),n.jsxs(E,{children:[n.jsx(S,{variant:"subtitle2",color:"text.secondary",sx:{fontWeight:600},children:"Maintenance Schedule"}),n.jsx(S,{variant:"body1",sx:{fontWeight:500},children:r.maintenanceSchedule||"-"})]}),n.jsxs(E,{children:[n.jsx(S,{variant:"subtitle2",color:"text.secondary",sx:{fontWeight:600},children:"Specifications"}),n.jsx(S,{variant:"body1",children:r.specifications||"No specifications available"})]}),n.jsxs(E,{children:[n.jsx(S,{variant:"subtitle2",color:"text.secondary",sx:{fontWeight:600},children:"Notes"}),n.jsx(S,{variant:"body1",children:r.notes||"No additional notes"})]})]})]})})})}),n.jsx(k,{item:!0,xs:12,children:n.jsx(He,{in:!0,timeout:1200,children:n.jsx(Se,{sx:{border:"1px solid",borderColor:"grey.200"},children:n.jsxs(ve,{sx:{p:4},children:[n.jsxs(E,{sx:{display:"flex",alignItems:"center",mb:3},children:[n.jsx(Ce,{sx:{bgcolor:"success.main",mr:2},children:n.jsx(_r,{})}),n.jsx(S,{variant:"h6",sx:{fontWeight:600},children:"Current Production Queue"})]}),i&&i.length>0?n.jsx(Zr,{component:Me,variant:"outlined",sx:{borderRadius:2},children:n.jsxs(Nt,{children:[n.jsx(_t,{children:n.jsxs(Ve,{children:[n.jsx(R,{sx:{fontWeight:600},children:"Position"}),n.jsx(R,{sx:{fontWeight:600},children:"Product"}),n.jsx(R,{sx:{fontWeight:600},children:"Batch"}),n.jsx(R,{sx:{fontWeight:600},children:"Status"}),n.jsx(R,{sx:{fontWeight:600},children:"Priority"}),n.jsx(R,{sx:{fontWeight:600},children:"Hours Required"})]})}),n.jsx(At,{children:i.map((m,x)=>n.jsxs(Ve,{children:[n.jsx(R,{children:n.jsx(We,{label:m.position===0?"Active":m.position,size:"small",color:m.position===0?"success":"default",variant:"outlined"})}),n.jsx(R,{sx:{fontWeight:500},children:m.productName}),n.jsx(R,{children:m.batchNumber}),n.jsx(R,{children:p(m.status)}),n.jsx(R,{children:n.jsx(We,{label:m.priority,size:"small",color:m.priority==="urgent"?"error":m.priority==="high"?"warning":m.priority==="normal"?"info":"success"})}),n.jsxs(R,{children:[m.hoursRequired,"h"]})]},m.id))})]})}):n.jsx(ge,{severity:"info",variant:"outlined",children:"No items currently in the production queue for this machine."})]})})})})]})]}):n.jsx(be,{in:!0,children:n.jsx(ge,{severity:"info",sx:{m:2,borderRadius:2},children:"Machine not found."})})},Kj=()=>{var ee,Ie,te,Te;const e=Xe(),[t,r]=v.useState([]),[s,i]=v.useState([]),[a,o]=v.useState(!0),[l,c]=v.useState(null),[u,d]=v.useState(""),[h,f]=v.useState(""),[p,g]=v.useState(""),[m,x]=v.useState(0),[y,b]=v.useState(10),[j,P]=v.useState(null),[C,D]=v.useState(null),[T,I]=v.useState(new Set);v.useEffect(()=>{M(),W()},[]);const M=async()=>{try{o(!0);const Z=await Rr.getAllQueues(),Oe=Z.data.data||Z.data||[],ce=Array.isArray(Oe)?Oe:[],Pe=new Set;ce.forEach(se=>{se.status==="in_progress"&&se.machineId&&Pe.add(se.machineId)}),I(Pe),r(ce),c(null)}catch(Z){console.error("Error fetching queue items:",Z),c("Failed to fetch queue items"),r([])}finally{o(!1)}},W=async()=>{try{const Z=await Rr.getAllMachines(),Oe=Z.data.data||Z.data||[];i(Array.isArray(Oe)?Oe:[])}catch(Z){console.error("Error fetching machines:",Z),i([])}},z=(Z,Oe)=>{P(Z.currentTarget),D(Oe)},L=()=>{P(null),D(null)},U=()=>{e(`/queue/${C}/edit`),L()},w=async()=>{if(window.confirm("Are you sure you want to delete this queue item?"))try{await Rr.deleteQueue(C),M()}catch(Z){console.error("Error deleting queue item:",Z),c("Failed to delete queue item")}L()},_=async()=>{try{await jo.updateQueueStatus(C,"in_progress"),M()}catch(Z){console.error("Error starting queue item:",Z),c("Failed to start queue item")}L()},N=async()=>{try{await jo.updateQueueStatus(C,"completed"),M()}catch(Z){console.error("Error completing queue item:",Z),c("Failed to complete queue item")}L()},A=async()=>{try{await jo.updateQueueStatus(C,"cancelled"),M()}catch(Z){console.error("Error cancelling queue item:",Z),c("Failed to cancel queue item")}L()},O=()=>t.find(Z=>Z.id===C),B=Z=>{const ce={waiting:{color:"warning",label:"Waiting",bgcolor:"#fff3e0"},in_progress:{color:"primary",label:"In Progress",bgcolor:"#e8f4fd"},completed:{color:"success",label:"Completed",bgcolor:"#e8f5e8"},cancelled:{color:"error",label:"Cancelled",bgcolor:"#ffebee"},paused:{color:"default",label:"Paused",bgcolor:"#f5f5f5"}}[Z]||{color:"default",label:Z,bgcolor:"#f5f5f5"};return n.jsx(We,{label:ce.label,size:"small",sx:{fontWeight:500,bgcolor:ce.bgcolor,color:ce.color==="default"?"text.primary":`${ce.color}.main`,border:"1px solid",borderColor:ce.color==="default"?"grey.300":`${ce.color}.light`}})},G=Z=>{const ce={low:{color:"success",label:"Low",bgcolor:"#e8f5e8"},normal:{color:"info",label:"Normal",bgcolor:"#e3f2fd"},high:{color:"warning",label:"High",bgcolor:"#fff3e0"},urgent:{color:"error",label:"Urgent",bgcolor:"#ffebee"}}[Z]||{color:"default",label:Z,bgcolor:"#f5f5f5"};return n.jsx(We,{label:ce.label,size:"small",sx:{fontWeight:500,bgcolor:ce.bgcolor,color:`${ce.color}.main`,border:`1px solid ${ce.color}.light`}})},me=(Z,Oe)=>{x(Oe)},he=Z=>{b(parseInt(Z.target.value,10)),x(0)},J=t.filter(Z=>{var Oe,ce,Pe,se,Re;return(((Oe=Z.productName)==null?void 0:Oe.toLowerCase().includes(u.toLowerCase()))||((ce=Z.batchNumber)==null?void 0:ce.toLowerCase().includes(u.toLowerCase()))||((se=(Pe=Z.machine)==null?void 0:Pe.name)==null?void 0:se.toLowerCase().includes(u.toLowerCase())))&&(h?Z.status===h:!0)&&(p?((Re=Z.machine)==null?void 0:Re.id)===p:!0)}),ne=J.slice(m*y,m*y+y);return a?n.jsx(E,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:n.jsx(je,{size:60,thickness:4})}):n.jsxs(E,{sx:{width:"100%",maxWidth:"100%",mx:"auto",p:{xs:2,sm:3},overflow:"hidden"},children:[n.jsx(be,{in:!0,timeout:600,children:n.jsx(Se,{elevation:0,sx:{mb:4,background:"linear-gradient(135deg, #84fab0 0%, #8fd3f4 100%)",color:"white",borderRadius:3,width:"100%"},children:n.jsx(ve,{sx:{p:{xs:3,sm:4}},children:n.jsxs(E,{sx:{display:"flex",justifyContent:"space-between",alignItems:{xs:"flex-start",sm:"center"},flexDirection:{xs:"column",sm:"row"},gap:{xs:3,sm:0}},children:[n.jsxs(E,{sx:{display:"flex",alignItems:"center"},children:[n.jsx(Ce,{sx:{bgcolor:"rgba(255,255,255,0.2)",width:{xs:56,sm:64},height:{xs:56,sm:64},mr:{xs:2,sm:3}},children:n.jsx(Mf,{sx:{fontSize:{xs:28,sm:32}}})}),n.jsxs(E,{children:[n.jsx(S,{variant:"h4",sx:{fontWeight:700,mb:1,fontSize:{xs:"1.75rem",sm:"2.125rem"},color:"text.primary"},children:"Queue Management"}),n.jsx(S,{variant:"h6",sx:{opacity:.8,color:"text.secondary"},children:"Manage machine production queues and scheduling"})]})]}),n.jsx(K,{variant:"contained",size:"large",startIcon:n.jsx(or,{}),onClick:()=>e("/queue/add"),sx:{bgcolor:"rgba(255,255,255,0.9)",color:"text.primary","&:hover":{bgcolor:"rgba(255,255,255,1)"},px:4,py:1.5,borderRadius:2,width:{xs:"100%",sm:"auto"}},children:"Add Queue"})]})})})}),l&&n.jsx(be,{in:!0,children:n.jsx(ge,{severity:"error",sx:{mb:3,borderRadius:2},onClose:()=>c(null),children:l})}),n.jsx(He,{in:!0,timeout:800,children:n.jsxs(Me,{sx:{borderRadius:3,overflow:"hidden",border:"1px solid",borderColor:"grey.200",width:"100%"},children:[n.jsx(E,{sx:{p:3,bgcolor:"grey.50",borderBottom:"1px solid",borderColor:"grey.200"},children:n.jsxs(k,{container:!0,spacing:3,children:[n.jsx(k,{item:!0,xs:12,md:4,children:n.jsx(H,{fullWidth:!0,label:"Search Queues",value:u,onChange:Z=>d(Z.target.value),InputProps:{startAdornment:n.jsx(Fe,{position:"start",children:n.jsx(Mr,{color:"action"})}),endAdornment:u&&n.jsx(Fe,{position:"end",children:n.jsx(ie,{size:"small",onClick:()=>d(""),children:n.jsx(gr,{})})})},sx:{"& .MuiOutlinedInput-root":{bgcolor:"white"}}})}),n.jsx(k,{item:!0,xs:12,md:3,children:n.jsxs(Ge,{fullWidth:!0,children:[n.jsx(Ke,{children:"Status"}),n.jsxs(Je,{value:h,onChange:Z=>f(Z.target.value),label:"Status",sx:{bgcolor:"white"},children:[n.jsx(V,{value:"",children:"All Statuses"}),n.jsx(V,{value:"waiting",children:"Waiting"}),n.jsx(V,{value:"in_progress",children:"In Progress"}),n.jsx(V,{value:"completed",children:"Completed"}),n.jsx(V,{value:"cancelled",children:"Cancelled"})]})]})}),n.jsx(k,{item:!0,xs:12,md:3,children:n.jsxs(Ge,{fullWidth:!0,children:[n.jsx(Ke,{children:"Machine"}),n.jsxs(Je,{value:p,onChange:Z=>g(Z.target.value),label:"Machine",sx:{bgcolor:"white"},children:[n.jsx(V,{value:"",children:"All Machines"}),s.map(Z=>n.jsx(V,{value:Z.id,children:Z.name},Z.id))]})]})})]})}),t.length===0?n.jsx(ge,{severity:"info",sx:{m:3},children:"No queue items available."}):n.jsxs(n.Fragment,{children:[n.jsx(E,{sx:{width:"100%",overflowX:"auto"},children:n.jsxs(Nt,{sx:{minWidth:800},children:[n.jsx(_t,{children:n.jsxs(Ve,{children:[n.jsx(R,{sx:{fontWeight:600,py:2},children:"Queue ID"}),n.jsx(R,{sx:{fontWeight:600,py:2},children:"Machine"}),n.jsx(R,{sx:{fontWeight:600,py:2},children:"Product"}),n.jsx(R,{sx:{fontWeight:600,py:2},children:"Batch"}),n.jsx(R,{sx:{fontWeight:600,py:2},children:"Step Name"}),n.jsx(R,{sx:{fontWeight:600,py:2},children:"Status"}),n.jsx(R,{sx:{fontWeight:600,py:2},children:"Priority"}),n.jsx(R,{sx:{fontWeight:600,py:2},children:"Position"}),n.jsx(R,{sx:{fontWeight:600,py:2},children:"Hours"}),n.jsx(R,{sx:{fontWeight:600,py:2},children:"Scheduled Start"}),n.jsx(R,{sx:{fontWeight:600,py:2},align:"right",children:"Actions"})]})}),n.jsx(At,{children:ne.map((Z,Oe)=>{var ce;return n.jsx(be,{in:!0,timeout:300+Oe*100,children:n.jsxs(Ve,{sx:{"&:hover":{bgcolor:"grey.50",transform:"scale(1.001)",transition:"all 0.2s ease-in-out"},"&:last-child td":{border:0}},children:[n.jsx(R,{sx:{py:2},children:n.jsx(S,{variant:"body1",sx:{fontWeight:600,color:"primary.main"},children:Z.queueId})}),n.jsx(R,{sx:{py:2},children:n.jsx(S,{variant:"body1",sx:{fontWeight:500},children:((ce=Z.machine)==null?void 0:ce.name)||"N/A"})}),n.jsx(R,{sx:{py:2},children:n.jsx(S,{variant:"body1",sx:{fontWeight:500},children:Z.productName})}),n.jsx(R,{sx:{py:2},children:n.jsx(S,{variant:"body1",sx:{fontWeight:500},children:Z.batchNumber})}),n.jsx(R,{sx:{py:2},children:n.jsx(S,{variant:"body1",sx:{fontWeight:500},children:Z.stepName||"N/A"})}),n.jsx(R,{sx:{py:2},children:B(Z.status)}),n.jsx(R,{sx:{py:2},children:G(Z.priority)}),n.jsx(R,{sx:{py:2},children:n.jsx(We,{label:Z.position===0?"Active":Z.position,size:"small",variant:"outlined",color:Z.position===0?"success":"default"})}),n.jsx(R,{sx:{py:2},children:n.jsxs(S,{variant:"body2",children:[Z.hoursRequired,"h"]})}),n.jsx(R,{sx:{py:2},children:n.jsx(S,{variant:"body2",children:Z.scheduledStartTime?new Date(Z.scheduledStartTime).toLocaleString():"-"})}),n.jsx(R,{align:"right",sx:{py:2},children:n.jsx(ie,{"aria-label":"more","aria-controls":"queue-menu","aria-haspopup":"true",onClick:Pe=>z(Pe,Z.id),size:"small",sx:{"&:hover":{bgcolor:"primary.light",color:"white"}},children:n.jsx(_f,{})})})]})},Z.id)})})]})}),n.jsx(dr,{rowsPerPageOptions:[5,10,25],component:"div",count:J.length,rowsPerPage:y,page:m,onPageChange:me,onRowsPerPageChange:he,sx:{borderTop:"1px solid",borderColor:"grey.200",bgcolor:"grey.50"}})]})]})}),n.jsxs(Pl,{id:"queue-menu",anchorEl:j,keepMounted:!0,open:!!j,onClose:L,PaperProps:{style:{maxHeight:48*6,width:"20ch"}},children:[n.jsxs(V,{onClick:U,children:[n.jsx(wt,{sx:{mr:1}})," Edit"]}),((ee=O())==null?void 0:ee.status)==="waiting"&&n.jsxs(V,{onClick:_,disabled:T.has((Ie=O())==null?void 0:Ie.machineId),children:[n.jsx(ac,{sx:{mr:1}})," Start"]}),((te=O())==null?void 0:te.status)==="in_progress"&&n.jsxs(V,{onClick:N,children:[n.jsx(an,{sx:{mr:1}})," Complete"]}),["waiting","in_progress"].includes((Te=O())==null?void 0:Te.status)&&n.jsxs(V,{onClick:A,children:[n.jsx(nc,{sx:{mr:1}})," Cancel"]}),n.jsxs(V,{onClick:w,children:[n.jsx(jt,{sx:{mr:1}})," Delete"]})]})]})},od=()=>{const e=Xe(),{id:t}=Ht(),r=!!t,[s,i]=v.useState(!1),[a,o]=v.useState(!1),[l,c]=v.useState(""),[u,d]=v.useState([]),[h,f]=v.useState([]),[p,g]=v.useState({machineId:"",batchId:"",batchNumber:"",productName:"",stepId:"",stepName:"",scheduledStartTime:"",scheduledEndTime:"",hoursRequired:"",priority:"normal",operatorId:"",operatorName:"",setupTime:"",notes:""});v.useEffect(()=>{m(),x(),r&&y()},[t,r]);const m=async()=>{try{const C=await Rr.getAvailableMachines();d(C.data.data||C.data)}catch(C){console.error("Error loading machines:",C)}},x=async()=>{try{const C=await Yj.getProductionBatches({status:"approved"});f(C.data||[])}catch(C){console.error("Error loading batches:",C),f([])}},y=async()=>{try{i(!0);const C=await Rr.getQueueById(t),D=C.data.data||C.data;g({machineId:D.machineId||"",batchId:D.batchId||"",batchNumber:D.batchNumber||"",productName:D.productName||"",stepId:D.stepId||"",stepName:D.stepName||"",scheduledStartTime:D.scheduledStartTime?new Date(D.scheduledStartTime).toISOString().slice(0,16):"",scheduledEndTime:D.scheduledEndTime?new Date(D.scheduledEndTime).toISOString().slice(0,16):"",hoursRequired:D.hoursRequired||"",priority:D.priority||"normal",operatorId:D.operatorId||"",operatorName:D.operatorName||"",setupTime:D.setupTime||"",notes:D.notes||""})}catch(C){c("Failed to load queue data"),console.error("Error loading queue:",C)}finally{i(!1)}},b=C=>{const{name:D,value:T}=C.target;g(I=>({...I,[D]:T}))},j=C=>{const D=C.target.value,T=h.find(I=>I.id===D);g(I=>({...I,batchId:D,batchNumber:(T==null?void 0:T.batchNumber)||"",productName:(T==null?void 0:T.productName)||""}))},P=async C=>{var D,T;C.preventDefault(),o(!0),c("");try{const I={...p,batchId:parseInt(p.batchId),machineId:parseInt(p.machineId),hoursRequired:parseFloat(p.hoursRequired),setupTime:p.setupTime?parseFloat(p.setupTime):null,stepId:p.stepId?parseInt(p.stepId):null};r?await Rr.updateQueue(t,I):await Rr.addToQueue(I),e("/queue")}catch(I){c(((T=(D=I.response)==null?void 0:D.data)==null?void 0:T.message)||"Failed to save queue item"),console.error("Error saving queue:",I)}finally{o(!1)}};return s&&r?n.jsx(E,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:n.jsx(je,{size:60,thickness:4})}):n.jsxs(E,{sx:{width:"100%",maxWidth:1200,mx:"auto",p:{xs:2,sm:3},overflow:"hidden"},children:[n.jsx(be,{in:!0,timeout:600,children:n.jsx(Se,{elevation:0,sx:{mb:4,background:"linear-gradient(135deg, #84fab0 0%, #8fd3f4 100%)",color:"white",borderRadius:3,width:"100%"},children:n.jsx(ve,{sx:{p:{xs:3,sm:4}},children:n.jsxs(E,{sx:{display:"flex",alignItems:"center"},children:[n.jsx(Ce,{sx:{bgcolor:"rgba(255,255,255,0.2)",width:{xs:56,sm:64},height:{xs:56,sm:64},mr:{xs:2,sm:3}},children:n.jsx(Mf,{sx:{fontSize:{xs:28,sm:32}}})}),n.jsxs(E,{children:[n.jsx(S,{variant:"h4",sx:{fontWeight:700,mb:1,fontSize:{xs:"1.75rem",sm:"2.125rem"},color:"text.primary"},children:r?"Edit Queue Item":"Add Queue Item"}),n.jsx(S,{variant:"h6",sx:{opacity:.8,color:"text.secondary"},children:r?"Modify queue item details":"Create a new queue item for production"})]})]})})})}),n.jsx(E,{sx:{mb:3},children:n.jsx(K,{startIcon:n.jsx(Lt,{}),onClick:()=>e("/queue"),sx:{color:"text.secondary","&:hover":{bgcolor:"grey.100"}},children:"Back to Queue Management"})}),l&&n.jsx(ge,{severity:"error",sx:{mb:3},children:l}),n.jsx(He,{in:!0,timeout:800,children:n.jsx(Me,{component:"form",onSubmit:P,sx:{borderRadius:3,overflow:"hidden",border:"1px solid",borderColor:"grey.200",width:"100%"},children:n.jsxs(E,{sx:{p:4},children:[n.jsx(S,{variant:"h6",sx:{mb:3,fontWeight:600,color:"text.primary"},children:"Queue Item Information"}),n.jsxs(k,{container:!0,spacing:3,children:[n.jsx(k,{item:!0,xs:12,md:6,children:n.jsxs(Ge,{fullWidth:!0,required:!0,children:[n.jsx(Ke,{children:"Machine"}),n.jsx(Je,{name:"machineId",value:p.machineId,onChange:b,label:"Machine",sx:{"& .MuiOutlinedInput-root":{borderRadius:2}},children:u.map(C=>n.jsxs(V,{value:C.id,children:[C.name," (",C.type,")"]},C.id))})]})}),n.jsx(k,{item:!0,xs:12,md:6,children:n.jsxs(Ge,{fullWidth:!0,required:!0,children:[n.jsx(Ke,{children:"Batch"}),n.jsx(Je,{name:"batchId",value:p.batchId,onChange:j,label:"Batch",sx:{"& .MuiOutlinedInput-root":{borderRadius:2}},children:h.map(C=>n.jsxs(V,{value:C.id,children:[C.batchNumber," - ",C.productName]},C.id))})]})}),n.jsx(k,{item:!0,xs:12,md:6,children:n.jsx(H,{fullWidth:!0,label:"Batch Number",name:"batchNumber",value:p.batchNumber,onChange:b,required:!0,disabled:!0,sx:{"& .MuiOutlinedInput-root":{borderRadius:2,bgcolor:"grey.50"}}})}),n.jsx(k,{item:!0,xs:12,md:6,children:n.jsx(H,{fullWidth:!0,label:"Product Name",name:"productName",value:p.productName,onChange:b,required:!0,sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}),n.jsx(k,{item:!0,xs:12,md:6,children:n.jsx(H,{fullWidth:!0,label:"Step Name",name:"stepName",value:p.stepName,onChange:b,sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}),n.jsx(k,{item:!0,xs:12,md:6,children:n.jsx(H,{fullWidth:!0,label:"Hours Required",name:"hoursRequired",type:"number",value:p.hoursRequired,onChange:b,required:!0,inputProps:{min:0,step:.5},sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}),n.jsx(k,{item:!0,xs:12,md:6,children:n.jsx(H,{fullWidth:!0,label:"Scheduled Start Time",name:"scheduledStartTime",type:"datetime-local",value:p.scheduledStartTime,onChange:b,InputLabelProps:{shrink:!0},sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}),n.jsx(k,{item:!0,xs:12,md:6,children:n.jsx(H,{fullWidth:!0,label:"Scheduled End Time",name:"scheduledEndTime",type:"datetime-local",value:p.scheduledEndTime,onChange:b,InputLabelProps:{shrink:!0},sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}),n.jsx(k,{item:!0,xs:12,md:6,children:n.jsxs(Ge,{fullWidth:!0,children:[n.jsx(Ke,{children:"Priority"}),n.jsxs(Je,{name:"priority",value:p.priority,onChange:b,label:"Priority",sx:{"& .MuiOutlinedInput-root":{borderRadius:2}},children:[n.jsx(V,{value:"low",children:"Low"}),n.jsx(V,{value:"normal",children:"Normal"}),n.jsx(V,{value:"high",children:"High"}),n.jsx(V,{value:"urgent",children:"Urgent"})]})]})}),n.jsx(k,{item:!0,xs:12,md:6,children:n.jsx(H,{fullWidth:!0,label:"Setup Time (hours)",name:"setupTime",type:"number",value:p.setupTime,onChange:b,inputProps:{min:0,step:.25},sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}),n.jsx(k,{item:!0,xs:12,md:6,children:n.jsx(H,{fullWidth:!0,label:"Operator ID",name:"operatorId",value:p.operatorId,onChange:b,sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}),n.jsx(k,{item:!0,xs:12,md:6,children:n.jsx(H,{fullWidth:!0,label:"Operator Name",name:"operatorName",value:p.operatorName,onChange:b,sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}),n.jsx(k,{item:!0,xs:12,children:n.jsx(H,{fullWidth:!0,label:"Notes",name:"notes",value:p.notes,onChange:b,multiline:!0,rows:3,sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}),n.jsx(k,{item:!0,xs:12,children:n.jsxs(ze,{direction:"row",spacing:2,sx:{mt:2},children:[n.jsx(K,{variant:"contained",color:"primary",size:"large",type:"submit",startIcon:a?n.jsx(je,{size:20,color:"inherit"}):n.jsx(ir,{}),disabled:a,sx:{px:4},children:a?"Saving...":r?"Update Queue":"Create Queue"}),n.jsx(K,{variant:"outlined",size:"large",onClick:()=>e("/queue"),sx:{px:4},children:"Cancel"})]})})]})]})})})]})},ld=()=>{const e=Xe(),{id:t}=Ht(),r=!!t,[s,i]=v.useState(!1),[a,o]=v.useState(!1),[l,c]=v.useState(!1),[u,d]=v.useState(""),[h,f]=v.useState({machineId:"",name:"",type:"",status:"operational",location:"",manufacturer:"",modelNumber:"",capacity:"",capacityUnit:"",installationDate:"",lastMaintenance:"",nextMaintenance:"",hoursPerDay:"8.00",notes:""});v.useEffect(()=>{r?g():p()},[t,r]);const p=async()=>{try{c(!0);const b=await st.generateMachineId();b.success&&f(j=>({...j,machineId:b.machineId}))}catch(b){console.error("Error generating machine ID:",b),d("Failed to generate machine ID")}finally{c(!1)}},g=async()=>{try{i(!0);const b=await st.getMachineById(t),j=b.data||b;f({machineId:j.machine_id||"",name:j.name||"",type:j.type||"",status:j.status||"operational",location:j.location||"",manufacturer:j.manufacturer||"",modelNumber:j.model_number||"",capacity:j.capacity||"",capacityUnit:j.capacity_unit||"",installationDate:j.installation_date?new Date(j.installation_date).toISOString().slice(0,10):"",lastMaintenance:j.last_maintenance?new Date(j.last_maintenance).toISOString().slice(0,10):"",nextMaintenance:j.next_maintenance?new Date(j.next_maintenance).toISOString().slice(0,10):"",hoursPerDay:j.hours_per_day||"8.00",notes:j.notes||""})}catch(b){d("Failed to load machine data"),console.error("Error loading machine:",b)}finally{i(!1)}},m=b=>{const{name:j,value:P}=b.target;f(C=>({...C,[j]:P}))},x=async b=>{var j,P;b.preventDefault(),o(!0),d("");try{const C={...h,capacity:h.capacity?parseFloat(h.capacity):null,hoursPerDay:h.hoursPerDay?parseFloat(h.hoursPerDay):8,installationDate:h.installationDate||null,lastMaintenance:h.lastMaintenance||null,nextMaintenance:h.nextMaintenance||null};r?await st.updateMachine(t,C):await st.createMachine(C),e("/machines")}catch(C){d(((P=(j=C.response)==null?void 0:j.data)==null?void 0:P.message)||"Failed to save machine"),console.error("Error saving machine:",C)}finally{o(!1)}},y=b=>{switch(b){case"operational":return"success";case"maintenance":return"warning";case"breakdown":return"error";case"inactive":return"default";default:return"default"}};return s&&r?n.jsx(E,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:n.jsx(je,{size:60,thickness:4})}):n.jsxs(E,{sx:{width:"100%",maxWidth:1200,mx:"auto",p:{xs:2,sm:3},overflow:"hidden"},children:[n.jsx(be,{in:!0,timeout:600,children:n.jsx(Se,{elevation:0,sx:{mb:4,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",borderRadius:3,width:"100%"},children:n.jsx(ve,{sx:{p:{xs:3,sm:4}},children:n.jsxs(E,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[n.jsxs(E,{sx:{display:"flex",alignItems:"center"},children:[n.jsx(Ce,{sx:{bgcolor:"rgba(255,255,255,0.2)",width:{xs:56,sm:64},height:{xs:56,sm:64},mr:{xs:2,sm:3}},children:n.jsx(Zn,{sx:{fontSize:{xs:28,sm:32}}})}),n.jsxs(E,{children:[n.jsx(S,{variant:"h4",sx:{fontWeight:700,mb:1,fontSize:{xs:"1.75rem",sm:"2.125rem"}},children:r?"Edit Machine":"Add New Machine"}),n.jsx(S,{variant:"h6",sx:{opacity:.9},children:r?"Modify machine details and specifications":"Register a new production machine to the system"})]})]}),h.status&&n.jsx(We,{label:h.status.toUpperCase(),color:y(h.status),size:"medium",sx:{color:"white",fontWeight:"bold"}})]})})})}),n.jsx(E,{sx:{mb:3},children:n.jsx(K,{startIcon:n.jsx(Lt,{}),onClick:()=>e("/machines"),sx:{color:"text.secondary","&:hover":{bgcolor:"grey.100"}},children:"Back to Machines"})}),u&&n.jsx(ge,{severity:"error",sx:{mb:3},children:u}),n.jsx(He,{in:!0,timeout:800,children:n.jsx(Me,{component:"form",onSubmit:x,sx:{borderRadius:3,overflow:"hidden",border:"1px solid",borderColor:"grey.200",width:"100%"},children:n.jsxs(E,{sx:{p:4},children:[n.jsx(S,{variant:"h6",sx:{mb:3,fontWeight:600,color:"text.primary",display:"flex",alignItems:"center"},children:"Basic Information"}),n.jsxs(k,{container:!0,spacing:3,children:[n.jsx(k,{item:!0,xs:12,md:6,children:n.jsxs(E,{sx:{display:"flex",alignItems:"center",gap:1},children:[n.jsx(H,{fullWidth:!0,label:"Machine ID",name:"machineId",value:h.machineId,onChange:m,required:!0,disabled:r,sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}}),!r&&n.jsx(Ee,{title:"Generate new Machine ID",children:n.jsx(ie,{onClick:p,disabled:l,sx:{ml:1},children:l?n.jsx(je,{size:20}):n.jsx(hi,{})})})]})}),n.jsx(k,{item:!0,xs:12,md:6,children:n.jsx(H,{fullWidth:!0,label:"Machine Name",name:"name",value:h.name,onChange:m,required:!0,sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}),n.jsx(k,{item:!0,xs:12,md:6,children:n.jsx(H,{fullWidth:!0,label:"Type/Category",name:"type",value:h.type,onChange:m,required:!0,placeholder:"e.g., CNC Machine, Lathe, Press",sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}),n.jsx(k,{item:!0,xs:12,md:6,children:n.jsxs(Ge,{fullWidth:!0,required:!0,children:[n.jsx(Ke,{children:"Status"}),n.jsxs(Je,{name:"status",value:h.status,onChange:m,label:"Status",sx:{"& .MuiOutlinedInput-root":{borderRadius:2}},children:[n.jsx(V,{value:"operational",children:"Operational"}),n.jsx(V,{value:"maintenance",children:"Maintenance"}),n.jsx(V,{value:"breakdown",children:"Breakdown"}),n.jsx(V,{value:"inactive",children:"Inactive"})]})]})}),n.jsx(k,{item:!0,xs:12,md:6,children:n.jsx(H,{fullWidth:!0,label:"Location",name:"location",value:h.location,onChange:m,placeholder:"e.g., Shop Floor A, Building 2",sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}),n.jsx(k,{item:!0,xs:12,md:6,children:n.jsx(H,{fullWidth:!0,label:"Hours Per Day",name:"hoursPerDay",type:"number",value:h.hoursPerDay,onChange:m,inputProps:{min:0,max:24,step:.25},required:!0,sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})})]}),n.jsx(qt,{sx:{my:4}}),n.jsx(S,{variant:"h6",sx:{mb:3,fontWeight:600,color:"text.primary"},children:"Technical Specifications"}),n.jsxs(k,{container:!0,spacing:3,children:[n.jsx(k,{item:!0,xs:12,md:6,children:n.jsx(H,{fullWidth:!0,label:"Manufacturer",name:"manufacturer",value:h.manufacturer,onChange:m,sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}),n.jsx(k,{item:!0,xs:12,md:6,children:n.jsx(H,{fullWidth:!0,label:"Model Number",name:"modelNumber",value:h.modelNumber,onChange:m,sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}),n.jsx(k,{item:!0,xs:12,md:6,children:n.jsx(H,{fullWidth:!0,label:"Capacity",name:"capacity",type:"number",value:h.capacity,onChange:m,inputProps:{min:0,step:.01},sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}),n.jsx(k,{item:!0,xs:12,md:6,children:n.jsx(H,{fullWidth:!0,label:"Capacity Unit",name:"capacityUnit",value:h.capacityUnit,onChange:m,placeholder:"e.g., pcs/hour, kg/hour, units/day",sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})})]}),n.jsx(qt,{sx:{my:4}}),n.jsx(S,{variant:"h6",sx:{mb:3,fontWeight:600,color:"text.primary"},children:"Installation & Maintenance"}),n.jsxs(k,{container:!0,spacing:3,children:[n.jsx(k,{item:!0,xs:12,md:4,children:n.jsx(H,{fullWidth:!0,label:"Installation Date",name:"installationDate",type:"date",value:h.installationDate,onChange:m,InputLabelProps:{shrink:!0},sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}),n.jsx(k,{item:!0,xs:12,md:4,children:n.jsx(H,{fullWidth:!0,label:"Last Maintenance",name:"lastMaintenance",type:"date",value:h.lastMaintenance,onChange:m,InputLabelProps:{shrink:!0},sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}),n.jsx(k,{item:!0,xs:12,md:4,children:n.jsx(H,{fullWidth:!0,label:"Next Maintenance",name:"nextMaintenance",type:"date",value:h.nextMaintenance,onChange:m,InputLabelProps:{shrink:!0},sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}),n.jsx(k,{item:!0,xs:12,children:n.jsx(H,{fullWidth:!0,label:"Notes",name:"notes",value:h.notes,onChange:m,multiline:!0,rows:4,placeholder:"Additional notes, specifications, or important information about this machine...",sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}),n.jsx(k,{item:!0,xs:12,children:n.jsxs(ze,{direction:"row",spacing:2,sx:{mt:2},children:[n.jsx(K,{variant:"contained",color:"primary",size:"large",type:"submit",startIcon:a?n.jsx(je,{size:20,color:"inherit"}):n.jsx(ir,{}),disabled:a,sx:{px:4,py:1.5},children:a?"Saving...":r?"Update Machine":"Create Machine"}),n.jsx(K,{variant:"outlined",size:"large",onClick:()=>e("/machines"),sx:{px:4,py:1.5},children:"Cancel"})]})})]})]})})})]})},un="http://localhost:5001/api/production",Sn={getAllRequests:async()=>(await ye.get(un)).data,getRequestById:async e=>(await ye.get(`${un}/${e}`)).data,createRequest:async e=>(await ye.post(un,e)).data,updateRequest:async(e,t)=>(await ye.put(`${un}/${e}`,t)).data,deleteRequest:async e=>(await ye.delete(`${un}/${e}`)).data,cancelRequest:async e=>(await ye.post(`${un}/${e}/cancel`)).data,ingestExternalRequest:async e=>(await ye.post(`${un}/ingest`,e)).data},Jj=()=>{const[e,t]=v.useState([]),[r,s]=v.useState(!0),[i,a]=v.useState(null),[o,l]=v.useState(""),[c,u]=v.useState(""),d=Xe();v.useEffect(()=>{h()},[]);const h=async()=>{try{s(!0),a(null);const x=await Sn.getAllRequests();t(x)}catch(x){console.error("Error fetching production requests:",x),a("Failed to load production requests")}finally{s(!1)}},f=async x=>{if(window.confirm("Are you sure you want to delete this production request?"))try{s(!0),await Sn.deleteRequest(x),h()}catch(y){console.error("Error deleting production request:",y),a("Failed to delete production request")}finally{s(!1)}},p=x=>{const b={received:{color:"info",label:"Received"},planned:{color:"warning",label:"Planned"},in_production:{color:"primary",label:"In Production"},completed:{color:"success",label:"Completed"},cancelled:{color:"error",label:"Cancelled"}}[x]||{color:"default",label:x};return n.jsx(We,{label:b.label,color:b.color,size:"small",sx:{fontWeight:500}})},g=x=>{const b={low:{color:"success",label:"Low"},normal:{color:"info",label:"Normal"},high:{color:"warning",label:"High"},urgent:{color:"error",label:"Urgent"}}[x]||{color:"default",label:x};return n.jsx(We,{label:b.label,color:b.color,size:"small",sx:{fontWeight:500}})},m=e.filter(x=>(x.requestId.toLowerCase().includes(o.toLowerCase())||x.productName.toLowerCase().includes(o.toLowerCase()))&&(c?x.status===c:!0));return r?n.jsx(E,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:n.jsx(je,{size:60,thickness:4})}):i?n.jsx(be,{in:!0,children:n.jsx(ge,{severity:"error",sx:{m:2,borderRadius:2},children:i})}):n.jsxs(E,{sx:{width:"100%",maxWidth:"100%",mx:"auto",p:{xs:2,sm:3},overflow:"hidden"},children:[n.jsx(be,{in:!0,timeout:600,children:n.jsx(Se,{elevation:0,sx:{mb:4,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",borderRadius:3,width:"100%"},children:n.jsx(ve,{sx:{p:{xs:3,sm:4}},children:n.jsxs(E,{sx:{display:"flex",justifyContent:"space-between",alignItems:{xs:"flex-start",sm:"center"},flexDirection:{xs:"column",sm:"row"},gap:{xs:3,sm:0}},children:[n.jsxs(E,{sx:{display:"flex",alignItems:"center"},children:[n.jsx(Ce,{sx:{bgcolor:"rgba(255,255,255,0.2)",width:{xs:56,sm:64},height:{xs:56,sm:64},mr:{xs:2,sm:3}},children:n.jsx(xr,{sx:{fontSize:{xs:28,sm:32}}})}),n.jsxs(E,{children:[n.jsx(S,{variant:"h4",sx:{fontWeight:700,mb:1,fontSize:{xs:"1.75rem",sm:"2.125rem"}},children:"Production Requests"}),n.jsx(S,{variant:"h6",sx:{opacity:.9},children:"Manage production requests and orders"})]})]}),n.jsx(K,{variant:"contained",size:"large",startIcon:n.jsx(or,{}),onClick:()=>d("/production-requests/add"),sx:{bgcolor:"rgba(255,255,255,0.2)",color:"white","&:hover":{bgcolor:"rgba(255,255,255,0.3)"},px:4,py:1.5,borderRadius:2},children:"New Request"})]})})})}),n.jsx(He,{in:!0,timeout:800,children:n.jsxs(Me,{sx:{borderRadius:3,overflow:"hidden",border:"1px solid",borderColor:"grey.200",width:"100%"},children:[n.jsx(E,{sx:{p:3,bgcolor:"grey.50",borderBottom:"1px solid",borderColor:"grey.200"},children:n.jsxs(k,{container:!0,spacing:3,children:[n.jsx(k,{item:!0,xs:12,md:6,children:n.jsx(H,{fullWidth:!0,label:"Search Requests",value:o,onChange:x=>l(x.target.value),InputProps:{startAdornment:n.jsx(Fe,{position:"start",children:n.jsx(Mr,{color:"action"})}),endAdornment:o&&n.jsx(Fe,{position:"end",children:n.jsx(ie,{size:"small",onClick:()=>l(""),children:n.jsx(gr,{})})})},sx:{"& .MuiOutlinedInput-root":{bgcolor:"white"}}})}),n.jsx(k,{item:!0,xs:12,md:3,children:n.jsxs(Ge,{fullWidth:!0,children:[n.jsx(Ke,{children:"Status Filter"}),n.jsxs(Je,{value:c,onChange:x=>u(x.target.value),label:"Status Filter",sx:{bgcolor:"white"},children:[n.jsx(V,{value:"",children:"All Statuses"}),n.jsx(V,{value:"received",children:"Received"}),n.jsx(V,{value:"planned",children:"Planned"}),n.jsx(V,{value:"in_production",children:"In Production"}),n.jsx(V,{value:"completed",children:"Completed"}),n.jsx(V,{value:"cancelled",children:"Cancelled"})]})]})})]})}),n.jsx(Zr,{children:n.jsxs(Nt,{children:[n.jsx(_t,{children:n.jsxs(Ve,{children:[n.jsx(R,{sx:{fontWeight:600,py:2},children:"Request ID"}),n.jsx(R,{sx:{fontWeight:600,py:2},children:"Product"}),n.jsx(R,{sx:{fontWeight:600,py:2},children:"Quantity"}),n.jsx(R,{sx:{fontWeight:600,py:2},children:"Status"}),n.jsx(R,{sx:{fontWeight:600,py:2},children:"Priority"}),n.jsx(R,{sx:{fontWeight:600,py:2},children:"Actions"})]})}),n.jsx(At,{children:m.map((x,y)=>n.jsx(be,{in:!0,timeout:300+y*100,children:n.jsxs(Ve,{sx:{"&:hover":{bgcolor:"grey.50"},"&:last-child td":{border:0}},children:[n.jsx(R,{sx:{py:2},children:n.jsx(S,{variant:"body1",sx:{fontWeight:600,color:"primary.main"},children:x.requestId})}),n.jsx(R,{sx:{py:2},children:n.jsx(S,{variant:"body1",sx:{fontWeight:500},children:x.productName})}),n.jsx(R,{sx:{py:2},children:n.jsx(S,{variant:"body1",sx:{fontWeight:500},children:x.quantity.toLocaleString()})}),n.jsx(R,{sx:{py:2},children:p(x.status)}),n.jsx(R,{sx:{py:2},children:g(x.priority)}),n.jsx(R,{sx:{py:2},children:n.jsxs(ze,{direction:"row",spacing:1,children:[n.jsx(Ee,{title:"View Details",children:n.jsx(ie,{size:"small",color:"primary",onClick:()=>d(`/production-requests/${x.id}`),children:n.jsx(Gt,{fontSize:"small"})})}),n.jsx(Ee,{title:"Edit",children:n.jsx(ie,{size:"small",color:"info",onClick:()=>d(`/production-requests/${x.id}/edit`),children:n.jsx(wt,{fontSize:"small"})})}),x.status!=="received"?n.jsx(Ee,{title:"Can only delete requests with 'received' status",children:n.jsx("span",{children:n.jsx(ie,{size:"small",color:"error",disabled:!0,children:n.jsx(jt,{fontSize:"small"})})})}):n.jsx(Ee,{title:"Delete",children:n.jsx(ie,{size:"small",color:"error",onClick:()=>f(x.id),children:n.jsx(jt,{fontSize:"small"})})})]})})]})},x.id))})]})})]})})]})},Xj=()=>{const{id:e}=Ht(),t=Xe(),[r,s]=v.useState(null),[i,a]=v.useState(!0),[o,l]=v.useState(null);if(v.useEffect(()=>{(async()=>{try{a(!0),l(null);const h=await Sn.getRequestById(e);h?s(h):l("Request not found")}catch(h){console.error("Error fetching request details:",h),l("Failed to fetch request details.")}finally{a(!1)}})()},[e]),i)return n.jsx(E,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:n.jsx(je,{size:60,thickness:4})});if(o)return n.jsx(be,{in:!0,children:n.jsx(ge,{severity:"error",sx:{m:2,borderRadius:2},children:o})});if(!r)return n.jsx(be,{in:!0,children:n.jsx(ge,{severity:"info",sx:{m:2,borderRadius:2},children:"No request details found."})});const c=d=>{const f={received:{color:"info",label:"Received"},planned:{color:"warning",label:"Planned"},in_production:{color:"primary",label:"In Production"},completed:{color:"success",label:"Completed"},cancelled:{color:"error",label:"Cancelled"}}[d]||{color:"default",label:d};return n.jsx(We,{label:f.label,color:f.color,sx:{fontWeight:500}})},u=d=>{const f={low:{color:"success",label:"Low"},normal:{color:"info",label:"Normal"},high:{color:"warning",label:"High"},urgent:{color:"error",label:"Urgent"}}[d]||{color:"default",label:d};return n.jsx(We,{label:f.label,color:f.color,sx:{fontWeight:500}})};return n.jsxs(E,{sx:{width:"100%",maxWidth:1200,mx:"auto",p:{xs:2,sm:3},overflow:"hidden"},children:[n.jsx(be,{in:!0,timeout:600,children:n.jsx(Se,{elevation:0,sx:{mb:4,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",borderRadius:3,width:"100%"},children:n.jsx(ve,{sx:{p:{xs:3,sm:4}},children:n.jsxs(E,{sx:{display:"flex",alignItems:"center"},children:[n.jsx(Ce,{sx:{bgcolor:"rgba(255,255,255,0.2)",width:{xs:56,sm:64},height:{xs:56,sm:64},mr:{xs:2,sm:3}},children:n.jsx(xr,{sx:{fontSize:{xs:28,sm:32}}})}),n.jsxs(E,{children:[n.jsxs(S,{variant:"h4",sx:{fontWeight:700,mb:1,fontSize:{xs:"1.75rem",sm:"2.125rem"}},children:["Request: ",r.requestId]}),n.jsx(S,{variant:"h6",sx:{opacity:.9},children:"Production request details and tracking"})]})]})})})}),n.jsx(E,{sx:{mb:3},children:n.jsx(K,{startIcon:n.jsx(Lt,{}),onClick:()=>t("/production-requests"),sx:{color:"text.secondary","&:hover":{bgcolor:"grey.100"}},children:"Back to Production Requests"})}),n.jsx(He,{in:!0,timeout:800,children:n.jsxs(k,{container:!0,spacing:3,children:[n.jsx(k,{item:!0,xs:12,lg:8,children:n.jsx(Me,{sx:{border:"1px solid",borderColor:"grey.200",borderRadius:3,overflow:"hidden"},children:n.jsxs(ve,{sx:{p:4},children:[n.jsx(S,{variant:"h6",sx:{fontWeight:600,mb:3},children:"Request Information"}),n.jsxs(k,{container:!0,spacing:3,children:[n.jsx(k,{item:!0,xs:12,sm:6,children:n.jsxs(E,{sx:{mb:3},children:[n.jsx(S,{variant:"subtitle2",color:"text.secondary",sx:{fontWeight:600,mb:1},children:"Request ID"}),n.jsx(S,{variant:"body1",sx:{fontWeight:500},children:r.requestId})]})}),n.jsx(k,{item:!0,xs:12,sm:6,children:n.jsxs(E,{sx:{mb:3},children:[n.jsx(S,{variant:"subtitle2",color:"text.secondary",sx:{fontWeight:600,mb:1},children:"Product Name"}),n.jsx(S,{variant:"body1",sx:{fontWeight:500},children:r.productName})]})}),n.jsx(k,{item:!0,xs:12,sm:6,children:n.jsxs(E,{sx:{mb:3},children:[n.jsx(S,{variant:"subtitle2",color:"text.secondary",sx:{fontWeight:600,mb:1},children:"Quantity"}),n.jsx(S,{variant:"body1",sx:{fontWeight:500},children:r.quantity.toLocaleString()})]})}),n.jsx(k,{item:!0,xs:12,sm:6,children:n.jsxs(E,{sx:{mb:3},children:[n.jsx(S,{variant:"subtitle2",color:"text.secondary",sx:{fontWeight:600,mb:1},children:"Status"}),c(r.status)]})}),n.jsx(k,{item:!0,xs:12,sm:6,children:n.jsxs(E,{sx:{mb:3},children:[n.jsx(S,{variant:"subtitle2",color:"text.secondary",sx:{fontWeight:600,mb:1},children:"Priority"}),u(r.priority)]})})]})]})})}),n.jsx(k,{item:!0,xs:12,lg:4,children:n.jsxs(ze,{spacing:3,children:[n.jsx(Me,{sx:{border:"1px solid",borderColor:"grey.200",borderRadius:3,overflow:"hidden"},children:n.jsxs(ve,{sx:{p:3},children:[n.jsx(S,{variant:"h6",sx:{fontWeight:600,mb:2},children:"Quick Stats"}),n.jsxs(ze,{spacing:2,children:[n.jsxs(E,{sx:{display:"flex",alignItems:"center"},children:[n.jsx(Gb,{sx:{mr:1,color:"text.secondary"}}),n.jsxs(S,{variant:"body2",color:"text.secondary",children:["Created:"," ",new Date(r.createdAt).toLocaleDateString()]})]}),n.jsxs(E,{sx:{display:"flex",alignItems:"center"},children:[n.jsx(nr,{sx:{mr:1,color:"text.secondary"}}),n.jsxs(S,{variant:"body2",color:"text.secondary",children:["Quantity: ",r.quantity.toLocaleString()]})]})]})]})}),n.jsx(Me,{sx:{border:"1px solid",borderColor:"grey.200",borderRadius:3,overflow:"hidden"},children:n.jsxs(ve,{sx:{p:3},children:[n.jsx(S,{variant:"h6",sx:{fontWeight:600,mb:2},children:"Actions"}),n.jsxs(ze,{spacing:2,children:[n.jsx(K,{variant:"contained",fullWidth:!0,onClick:()=>t(`/production-batches/add?requestId=${r.id}`),disabled:r.status!=="received",children:"Create Batch"}),n.jsx(K,{variant:"outlined",fullWidth:!0,onClick:()=>t(`/production-requests/${r.id}/edit`),children:"Edit Request"})]})]})})]})})]})})]})},Zj=()=>{console.log("ProductionBatches component rendered.");const[e,t]=v.useState([]),[r,s]=v.useState(!0),[i,a]=v.useState(null),[o,l]=v.useState(""),[c,u]=v.useState(0),[d,h]=v.useState(10),[f,p]=v.useState(""),g=Xe(),m=Lr(),[x,y]=v.useState(!1),[b,j]=v.useState(""),[P,C]=v.useState("");v.useEffect(()=>{console.log("ProductionBatches: useEffect triggered."),D()},[m.pathname]);const D=async()=>{console.log("ProductionBatches: fetchBatches started, setting loading to true.");try{s(!0),a(null);const O=await st.getAllBatches();t(O),console.log("ProductionBatches: Batches fetched successfully.",O.length,"items.")}catch(O){console.error("ProductionBatches: Error fetching production batches:",O),a("Gagal memuat batch produksi")}finally{s(!1),console.log("ProductionBatches: fetchBatches finished, setting loading to false.")}},T=O=>{const G={pending:{color:"warning",label:"Pending",bgcolor:"#fff3e0"},scheduled:{color:"info",label:"Scheduled",bgcolor:"#e3f2fd"},in_progress:{color:"primary",label:"In Progress",bgcolor:"#e8f4fd"},completed:{color:"success",label:"Completed",bgcolor:"#e8f5e8"},cancelled:{color:"error",label:"Cancelled",bgcolor:"#ffebee"}}[O]||{color:"default",label:O,bgcolor:"#f5f5f5"};return n.jsx(We,{label:G.label,size:"small",sx:{fontWeight:500,bgcolor:G.bgcolor,color:G.color==="default"?"text.primary":`${G.color}.main`,border:"1px solid",borderColor:G.color==="default"?"grey.300":`${G.color}.light`}})},I=O=>{const G={low:{color:"success",label:"Low",bgcolor:"#e8f5e8"},normal:{color:"info",label:"Normal",bgcolor:"#e3f2fd"},high:{color:"warning",label:"High",bgcolor:"#fff3e0"},urgent:{color:"error",label:"Urgent",bgcolor:"#ffebee"}}[O]||{color:"default",label:O,bgcolor:"#f5f5f5"};return n.jsx(We,{label:G.label,size:"small",sx:{fontWeight:500,bgcolor:G.bgcolor,color:`${G.color}.main`,border:`1px solid ${G.color}.light`}})},M=O=>{l(O.target.value),u(0)},W=O=>{p(O.target.value),u(0)},z=(O,B)=>{u(B)},L=O=>{h(parseInt(O.target.value,10)),u(0)},U=O=>{g(`/production-batches/${O}`)},w=async O=>{if(window.confirm("Are you sure you want to delete this batch? This action cannot be undone."))try{s(!0),a(null),await st.deleteBatch(O),D()}catch(B){if(B.response&&B.response.status===400){const{message:G,steps:me,materialAllocations:he}=B.response.data;let J=G;me&&me.length>0&&(J+=`

Associated Steps:`,me.forEach(ne=>{J+=`
- Step ID: ${ne.id}, Name: ${ne.stepName}, Status: ${ne.status} (Order: ${ne.stepOrder})`})),he&&he.length>0&&(J+=`

Associated Material Allocations:`,he.forEach(ne=>{J+=`
- Material ID: ${ne.materialId}, Required: ${ne.quantityRequired}, Status: ${ne.status}`})),j("Cannot Delete Batch"),C(J),y(!0)}else console.error("Error deleting batch:",B),a("Gagal menghapus batch produksi.")}finally{s(!1)}},_=async O=>{try{s(!0),a(null),await st.startProduction(O),D()}catch(B){console.error("Error starting production:",B),a("Gagal memulai produksi batch.")}finally{s(!1)}},N=e.filter(O=>(O.batchNumber.toLowerCase().includes(o.toLowerCase())||O.request&&O.request.productName.toLowerCase().includes(o.toLowerCase()))&&(f?O.status===f:!0)),A=N.slice(c*d,c*d+d);return console.log("ProductionBatches: Current loading state before render check:",r),r?n.jsx(E,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:n.jsx(je,{size:60,thickness:4})}):i?n.jsx(be,{in:!0,children:n.jsx(ge,{severity:"error",sx:{m:2,borderRadius:2},children:i})}):n.jsxs(E,{sx:{width:"100%",maxWidth:"100%",mx:"auto",p:{xs:2,sm:3},overflow:"hidden"},children:[n.jsx(be,{in:!0,timeout:600,children:n.jsx(Se,{elevation:0,sx:{mb:4,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",borderRadius:3,width:"100%"},children:n.jsx(ve,{sx:{p:{xs:3,sm:4}},children:n.jsxs(E,{sx:{display:"flex",justifyContent:"space-between",alignItems:{xs:"flex-start",sm:"center"},flexDirection:{xs:"column",sm:"row"},gap:{xs:3,sm:0}},children:[n.jsxs(E,{sx:{display:"flex",alignItems:"center"},children:[n.jsx(Ce,{sx:{bgcolor:"rgba(255,255,255,0.2)",width:{xs:56,sm:64},height:{xs:56,sm:64},mr:{xs:2,sm:3}},children:n.jsx(xr,{sx:{fontSize:{xs:28,sm:32}}})}),n.jsxs(E,{children:[n.jsx(S,{variant:"h4",sx:{fontWeight:700,mb:1,fontSize:{xs:"1.75rem",sm:"2.125rem"}},children:"Production Batches"}),n.jsx(S,{variant:"h6",sx:{opacity:.9},children:"Manage and track production batches"})]})]}),n.jsx(K,{variant:"contained",size:"large",startIcon:n.jsx(or,{}),onClick:()=>g("/production-batches/add"),fullWidth:window.innerWidth<600,sx:{bgcolor:"rgba(255,255,255,0.2)",color:"white","&:hover":{bgcolor:"rgba(255,255,255,0.3)"},px:4,py:1.5,borderRadius:2},children:"New Batch"})]})})})}),n.jsx(He,{in:!0,timeout:800,children:n.jsxs(Me,{sx:{borderRadius:3,overflow:"hidden",border:"1px solid",borderColor:"grey.200",width:"100%"},children:[n.jsx(E,{sx:{p:3,bgcolor:"grey.50",borderBottom:"1px solid",borderColor:"grey.200"},children:n.jsxs(k,{container:!0,spacing:3,children:[n.jsx(k,{item:!0,xs:12,md:6,children:n.jsx(H,{fullWidth:!0,label:"Search Batches",value:o,onChange:M,InputProps:{startAdornment:n.jsx(Fe,{position:"start",children:n.jsx(Mr,{color:"action"})}),endAdornment:o&&n.jsx(Fe,{position:"end",children:n.jsx(ie,{size:"small",onClick:()=>l(""),children:n.jsx(gr,{})})})},sx:{"& .MuiOutlinedInput-root":{bgcolor:"white"}}})}),n.jsx(k,{item:!0,xs:12,md:3,children:n.jsxs(Ge,{fullWidth:!0,children:[n.jsx(Ke,{children:"Status Filter"}),n.jsxs(Je,{value:f,onChange:W,label:"Status Filter",sx:{bgcolor:"white"},children:[n.jsx(V,{value:"",children:"All Statuses"}),n.jsx(V,{value:"pending",children:"Pending"}),n.jsx(V,{value:"scheduled",children:"Scheduled"}),n.jsx(V,{value:"in_progress",children:"In Progress"}),n.jsx(V,{value:"completed",children:"Completed"}),n.jsx(V,{value:"cancelled",children:"Cancelled"})]})]})})]})}),n.jsx(E,{sx:{width:"100%",overflowX:"auto"},children:n.jsxs(Nt,{sx:{minWidth:800},children:[n.jsx(_t,{children:n.jsxs(Ve,{children:[n.jsx(R,{sx:{fontWeight:600,py:2},children:"Batch Number"}),n.jsx(R,{sx:{fontWeight:600,py:2},children:"Product"}),n.jsx(R,{sx:{fontWeight:600,py:2},children:"Quantity"}),n.jsx(R,{sx:{fontWeight:600,py:2},children:"Priority"}),n.jsx(R,{sx:{fontWeight:600,py:2},children:"Status"}),n.jsx(R,{sx:{fontWeight:600,py:2},children:"Scheduled Start"}),n.jsx(R,{sx:{fontWeight:600,py:2},children:"Scheduled End"}),n.jsx(R,{sx:{fontWeight:600,py:2},children:"Actions"})]})}),n.jsx(At,{children:A.map((O,B)=>n.jsx(be,{in:!0,timeout:300+B*100,children:n.jsxs(Ve,{sx:{"&:hover":{bgcolor:"grey.50",transform:"scale(1.001)",transition:"all 0.2s ease-in-out"},"&:last-child td":{border:0}},children:[n.jsx(R,{sx:{py:2},children:n.jsx(S,{variant:"body1",sx:{fontWeight:600,color:"primary.main"},children:O.batchNumber})}),n.jsx(R,{sx:{py:2},children:n.jsxs(E,{children:[n.jsx(S,{variant:"body1",sx:{fontWeight:500},children:O.request?O.request.productName:"N/A"}),n.jsxs(S,{variant:"caption",color:"text.secondary",children:["Request ID:"," ",O.request?O.request.requestId:"N/A"]})]})}),n.jsx(R,{sx:{py:2},children:n.jsx(S,{variant:"body1",sx:{fontWeight:500},children:O.quantity.toLocaleString()})}),n.jsx(R,{sx:{py:2},children:I(O.request?O.request.priority:"normal")}),n.jsx(R,{sx:{py:2},children:T(O.status)}),n.jsx(R,{sx:{py:2},children:n.jsx(S,{variant:"body2",children:O.scheduledStartDate?new Date(O.scheduledStartDate).toLocaleDateString():"-"})}),n.jsx(R,{sx:{py:2},children:n.jsx(S,{variant:"body2",children:O.scheduledEndDate?new Date(O.scheduledEndDate).toLocaleDateString():"-"})}),n.jsx(R,{sx:{py:2},children:n.jsxs(ze,{direction:"row",spacing:1,children:[(O.status==="pending"||O.status==="scheduled")&&n.jsx(Ee,{title:"Start Production",children:n.jsx(ie,{size:"small",color:"success",onClick:()=>_(O.id),sx:{"&:hover":{bgcolor:"success.light",color:"white"}},children:n.jsx(ac,{fontSize:"small"})})}),n.jsx(Ee,{title:"View Details",children:n.jsx(ie,{size:"small",color:"primary",onClick:()=>U(O.id),sx:{"&:hover":{bgcolor:"primary.light",color:"white"}},children:n.jsx(Gt,{fontSize:"small"})})}),n.jsx(Ee,{title:"Edit",children:n.jsx(ie,{size:"small",color:"info",onClick:()=>g(`/production-batches/${O.id}/edit`),sx:{"&:hover":{bgcolor:"info.light",color:"white"}},children:n.jsx(wt,{fontSize:"small"})})}),O.status==="in_progress"||O.status==="completed"?n.jsx(Ee,{title:"Cannot delete active or completed batches",children:n.jsx("span",{children:n.jsx(ie,{size:"small",color:"error",disabled:!0,sx:{"&:hover":{bgcolor:"error.light",color:"white"}},children:n.jsx(jt,{fontSize:"small"})})})}):n.jsx(Ee,{title:"Delete",children:n.jsx(ie,{size:"small",color:"error",onClick:()=>w(O.id),sx:{"&:hover":{bgcolor:"error.light",color:"white"}},children:n.jsx(jt,{fontSize:"small"})})})]})})]})},O.id))})]})}),n.jsx(dr,{rowsPerPageOptions:[5,10,25],component:"div",count:N.length,rowsPerPage:d,page:c,onPageChange:z,onRowsPerPageChange:L,sx:{borderTop:"1px solid",borderColor:"grey.200",bgcolor:"grey.50"}})]})}),n.jsxs($t,{open:x,onClose:()=>y(!1),maxWidth:"md",fullWidth:!0,PaperProps:{sx:{borderRadius:3}},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[n.jsx(Xt,{id:"alert-dialog-title",sx:{bgcolor:"error.main",color:"white",py:3,display:"flex",alignItems:"center"},children:n.jsx(S,{variant:"h6",sx:{fontWeight:600},children:b})}),n.jsx(Bt,{id:"alert-dialog-description",sx:{p:4},children:n.jsx(S,{component:"pre",sx:{whiteSpace:"pre-wrap"},children:P})}),n.jsx(Vt,{sx:{p:3,bgcolor:"grey.50"},children:n.jsx(K,{onClick:()=>y(!1),variant:"contained",size:"large",sx:{px:4},autoFocus:!0,children:"OK"})})]})]})},e1=({batchId:e,onStepsChange:t})=>{const[r,s]=v.useState([]),[i,a]=v.useState([]),[o,l]=v.useState([]),[c,u]=v.useState(!0),[d,h]=v.useState(!1),[f,p]=v.useState(!1),[g,m]=v.useState(null),[x,y]=v.useState(!1),[b,j]=v.useState(null),[P,C]=v.useState({stepName:"",stepOrder:"",machineType:"",name:"",notes:""});v.useEffect(()=>{e&&D(),T(),I()},[e]);const D=async()=>{try{u(!0),m(null);const A=await st.getBatchSteps(e);console.log("Fetched steps data:",A);const O=A.map(B=>{const G=o.find(me=>me.id===B.machine_id);return{...B,machineName:G?G.name:null}});console.log("Enriched steps data:",O),s(O),t&&t(O)}catch(A){console.error("Error fetching steps:",A),m("Failed to fetch production steps")}finally{u(!1)}},T=async()=>{try{h(!0);const A=await st.getMachineTypes();a(A)}catch(A){console.error("Error fetching machine types:",A),a([])}finally{h(!1)}},I=async()=>{try{p(!0);const A=await st.getOperationalMachines();l(A)}catch(A){console.error("Error fetching machines:",A),l([])}finally{p(!1)}},M=async()=>{var A,O;try{u(!0),m(null);const B=o.find(me=>me.name===P.name),G={stepName:P.stepName,stepOrder:parseInt(P.stepOrder),machineType:P.machineType,machine_id:B?B.id:null,notes:P.notes};console.log("Creating step with data:",G),await st.createProductionStep(e,G),y(!1),w(),await D()}catch(B){console.error("Error creating step:",B),m(((O=(A=B.response)==null?void 0:A.data)==null?void 0:O.message)||"Failed to create production step")}finally{u(!1)}},W=async()=>{var A,O;try{u(!0),m(null);const B=o.find(me=>me.name===P.name),G={stepName:P.stepName,stepOrder:parseInt(P.stepOrder),machineType:P.machineType,machine_id:B?B.id:null,notes:P.notes};console.log("Updating step with data:",G),await st.updateProductionStep(e,b.id,G),y(!1),w(),await D()}catch(B){console.error("Error updating step:",B),m(((O=(A=B.response)==null?void 0:A.data)==null?void 0:O.message)||"Failed to update production step")}finally{u(!1)}},z=async A=>{if(window.confirm("Are you sure you want to delete this step?"))try{u(!0),await st.deleteProductionStep(e,A),D()}catch(O){console.error("Error deleting step:",O),m("Failed to delete production step")}finally{u(!1)}},L=async A=>{try{u(!0),await st.completeProductionStep(e,A,{notes:"Step completed successfully"}),D()}catch(O){console.error("Error completing step:",O),m("Failed to complete production step")}finally{u(!1)}},U=A=>{j(A);const O=o.find(G=>G.id===A.machine_id),B=O?O.name:"";console.log("Editing step:",A),console.log("Found machine:",O),C({stepName:A.stepName,stepOrder:A.stepOrder.toString(),machineType:A.machineType||"",name:B,notes:A.notes||""}),y(!0)},w=()=>{C({stepName:"",stepOrder:"",machineType:"",name:"",notes:""}),j(null)},_=()=>P.machineType?o.filter(A=>A.type===P.machineType):o,N=A=>{const B={pending:{color:"warning",label:"Pending"},scheduled:{color:"info",label:"Scheduled"},in_progress:{color:"primary",label:"In Progress"},completed:{color:"success",label:"Completed"},cancelled:{color:"error",label:"Cancelled"}}[A]||{color:"default",label:A};return n.jsx(We,{label:B.label,color:B.color,size:"small",sx:{fontWeight:500}})};return c&&r.length===0?n.jsx(E,{display:"flex",justifyContent:"center",p:3,children:n.jsx(je,{})}):n.jsx(Se,{sx:{mt:3},children:n.jsxs(ve,{children:[n.jsxs(E,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[n.jsxs(E,{sx:{display:"flex",alignItems:"center"},children:[n.jsx(Ce,{sx:{bgcolor:"primary.main",mr:2},children:n.jsx(Mn,{})}),n.jsx(S,{variant:"h6",sx:{fontWeight:600},children:"Production Steps"})]}),n.jsx(K,{variant:"contained",startIcon:n.jsx(or,{}),onClick:()=>{w(),y(!0)},sx:{borderRadius:2},children:"Add Step"})]}),g&&n.jsx(ge,{severity:"error",sx:{mb:2},children:g}),r.length===0?n.jsx(ge,{severity:"info",variant:"outlined",children:'No production steps defined. Click "Add Step" to create the first step.'}):n.jsx(Zr,{children:n.jsxs(Nt,{children:[n.jsx(_t,{children:n.jsxs(Ve,{children:[n.jsx(R,{sx:{fontWeight:600},children:"Order"}),n.jsx(R,{sx:{fontWeight:600},children:"Step Name"}),n.jsx(R,{sx:{fontWeight:600},children:"Machine Type"}),n.jsx(R,{sx:{fontWeight:600},children:"Machine Name"}),n.jsx(R,{sx:{fontWeight:600},children:"Status"}),n.jsx(R,{sx:{fontWeight:600},children:"Actions"})]})}),n.jsx(At,{children:r.map(A=>n.jsxs(Ve,{children:[n.jsx(R,{children:n.jsx(S,{variant:"h6",color:"primary.main",sx:{fontWeight:700},children:A.stepOrder})}),n.jsx(R,{children:n.jsx(S,{variant:"body1",sx:{fontWeight:500},children:A.stepName})}),n.jsx(R,{children:n.jsx(S,{variant:"body2",children:A.machineType||"N/A"})}),n.jsx(R,{children:n.jsx(S,{variant:"body2",children:A.machineName||"N/A"})}),n.jsx(R,{children:N(A.status)}),n.jsx(R,{children:n.jsxs(ze,{direction:"row",spacing:1,children:[A.status==="in_progress"&&n.jsx(Ee,{title:"Complete Step",children:n.jsx(ie,{size:"small",color:"primary",onClick:()=>L(A.id),children:n.jsx(an,{fontSize:"small"})})}),A.status==="completed"?n.jsx(Ee,{title:"Cannot edit completed step",children:n.jsx("span",{children:n.jsx(ie,{size:"small",color:"info",disabled:!0,children:n.jsx(wt,{fontSize:"small"})})})}):n.jsx(Ee,{title:"Edit",children:n.jsx(ie,{size:"small",color:"info",onClick:()=>U(A),children:n.jsx(wt,{fontSize:"small"})})}),A.status==="in_progress"||A.status==="completed"?n.jsx(Ee,{title:"Cannot delete step that is in progress or completed",children:n.jsx("span",{children:n.jsx(ie,{size:"small",color:"error",disabled:!0,children:n.jsx(jt,{fontSize:"small"})})})}):n.jsx(Ee,{title:"Delete",children:n.jsx(ie,{size:"small",color:"error",onClick:()=>z(A.id),children:n.jsx(jt,{fontSize:"small"})})})]})})]},A.id))})]})}),n.jsxs($t,{open:x,onClose:()=>y(!1),maxWidth:"md",fullWidth:!0,disableEscapeKeyDown:c,PaperProps:{sx:{borderRadius:3}},"aria-labelledby":"step-dialog-title","aria-describedby":"step-dialog-description",children:[n.jsx(Xt,{id:"step-dialog-title",children:b?"Edit Production Step":"Create Production Step"}),n.jsx(Bt,{id:"step-dialog-description",children:n.jsxs(k,{container:!0,spacing:3,sx:{mt:.5},children:[n.jsx(k,{item:!0,xs:12,sm:6,children:n.jsx(H,{fullWidth:!0,label:"Step Name",value:P.stepName,onChange:A=>C({...P,stepName:A.target.value}),required:!0,disabled:c})}),n.jsx(k,{item:!0,xs:12,sm:6,children:n.jsx(H,{fullWidth:!0,label:"Step Order",type:"number",value:P.stepOrder,onChange:A=>C({...P,stepOrder:A.target.value}),required:!0,disabled:c})}),n.jsx(k,{item:!0,xs:12,sm:6,children:n.jsxs(Ge,{fullWidth:!0,disabled:c,children:[n.jsx(Ke,{children:"Machine Type"}),n.jsxs(Je,{value:P.machineType,onChange:A=>{C({...P,machineType:A.target.value,name:""})},label:"Machine Type",children:[n.jsx(V,{value:"",children:"None"}),d?n.jsxs(V,{disabled:!0,children:[n.jsx(je,{size:16,sx:{mr:1}}),"Loading machine types..."]}):i.map(A=>n.jsx(V,{value:A,children:A},A))]})]})}),n.jsx(k,{item:!0,xs:12,sm:6,children:n.jsxs(Ge,{fullWidth:!0,disabled:c||!P.machineType,children:[n.jsx(Ke,{children:"Machine Name"}),n.jsxs(Je,{value:P.name,onChange:A=>C({...P,name:A.target.value}),label:"Machine Name",children:[n.jsx(V,{value:"",children:"None"}),f?n.jsxs(V,{disabled:!0,children:[n.jsx(je,{size:16,sx:{mr:1}}),"Loading machines..."]}):_().map(A=>n.jsx(V,{value:A.name,children:A.name},A.id))]})]})}),n.jsx(k,{item:!0,xs:12,children:n.jsx(H,{fullWidth:!0,label:"Notes",multiline:!0,rows:3,value:P.notes,onChange:A=>C({...P,notes:A.target.value}),disabled:c})})]})}),n.jsxs(Vt,{sx:{p:3},children:[n.jsx(K,{onClick:()=>y(!1),disabled:c,children:"Cancel"}),n.jsx(K,{variant:"contained",onClick:b?W:M,disabled:c||!P.stepName||!P.stepOrder,startIcon:c&&n.jsx(je,{size:16}),children:c?"Processing...":b?"Update":"Create"})]})]})]})})},t1="http://localhost:5004/api",r1={getAllMaterials:async()=>{try{return(await ye.get(`${t1}/materials`)).data}catch(e){throw console.error("Error fetching materials:",e),e}}},n1=({batchId:e,onMaterialsChange:t})=>{const[r,s]=v.useState([]),[i,a]=v.useState(!0),[o,l]=v.useState(null),[c,u]=v.useState(!1),[d,h]=v.useState(!1),[f,p]=v.useState(null),[g,m]=v.useState(null),[x,y]=v.useState({materialId:"",quantityRequired:"",unitOfMeasure:"",stockQuantity:0}),[b,j]=v.useState({quantityAllocated:""}),[P,C]=v.useState([]),[D,T]=v.useState(!0);v.useEffect(()=>{e&&I()},[e]),v.useEffect(()=>{(async()=>{try{T(!0);const B=await r1.getAllMaterials();C(B),console.log("Fetched available materials:",B),console.log("Materials loading status:",!1)}catch(B){console.error("Error fetching available materials:",B),l("Failed to fetch available materials")}finally{T(!1),console.log("Materials loading status in finally:",!1)}})()},[e]);const I=async()=>{try{a(!0),l(null);const O=await st.getBatchMaterials(e);s(O),t&&t(O)}catch(O){console.error("Error fetching materials:",O),l("Failed to fetch material allocations")}finally{a(!1)}},M=async()=>{try{a(!0),await st.createMaterialAllocation(e,{...x,materialId:parseInt(x.materialId),quantityRequired:parseFloat(x.quantityRequired)}),u(!1),_(),I()}catch(O){console.error("Error creating material allocation:",O),l("Failed to create material allocation")}finally{a(!1)}},W=async()=>{try{a(!0),await st.updateMaterialAllocation(e,f.id,{...x,materialId:parseInt(x.materialId),quantityRequired:parseFloat(x.quantityRequired)}),u(!1),_(),I()}catch(O){console.error("Error updating material allocation:",O),l("Failed to update material allocation")}finally{a(!1)}},z=async O=>{if(window.confirm("Are you sure you want to delete this material allocation?"))try{a(!0),await st.deleteMaterialAllocation(e,O),I()}catch(B){console.error("Error deleting material allocation:",B),l("Failed to delete material allocation")}finally{a(!1)}},L=async()=>{try{a(!0),await st.allocateMaterial(e,g.id,parseFloat(b.quantityAllocated)),h(!1),j({quantityAllocated:""}),I()}catch(O){console.error("Error allocating material:",O),l("Failed to allocate material")}finally{a(!1)}},U=async O=>{try{a(!0),await st.consumeMaterial(e,O),I()}catch(B){console.error("Error consuming material:",B),l("Failed to consume material")}finally{a(!1)}},w=O=>{p(O);const B=P.find(G=>G.id===O.materialId);y({materialId:String(O.materialId),quantityRequired:O.quantityRequired.toString(),unitOfMeasure:O.unitOfMeasure,stockQuantity:B?B.stockQuantity:0}),u(!0)},_=()=>{y({materialId:"",quantityRequired:"",unitOfMeasure:"",stockQuantity:0}),p(null)},N=O=>{const G={pending:{color:"warning",label:"Pending"},partial:{color:"info",label:"Partial"},allocated:{color:"primary",label:"Allocated"},consumed:{color:"success",label:"Consumed"}}[O]||{color:"default",label:O};return n.jsx(We,{label:G.label,color:G.color,size:"small",sx:{fontWeight:500}})},A=O=>{const{name:B,value:G,id:me}=O.target;if(console.log(`Handle form change: Name = ${B}, Value = ${G}, ID = ${me}, Type of Value = ${typeof G}`),B==="materialId"){const he=P.find(J=>String(J.id)===String(G));console.log("Selected Material:",he),y(J=>({...J,materialId:String(G),unitOfMeasure:he?he.unit:"",stockQuantity:he?he.stockQuantity:0})),console.log("Updated formData.materialId:",String(G),"Type:",typeof String(G))}else B!=="notes"&&y(he=>{const J={...he,[B]:G};return console.log("Updated formData for non-materialId field:",J,"Field:",B,"Value:",G),J})};return i&&r.length===0?n.jsx(E,{display:"flex",justifyContent:"center",p:3,children:n.jsx(je,{})}):n.jsx(Se,{sx:{mt:3},children:n.jsxs(ve,{children:[n.jsxs(E,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[n.jsxs(E,{sx:{display:"flex",alignItems:"center"},children:[n.jsx(Ce,{sx:{bgcolor:"secondary.main",mr:2},children:n.jsx(xr,{})}),n.jsx(S,{variant:"h6",sx:{fontWeight:600},children:"Material Allocations"})]}),n.jsx(K,{variant:"contained",startIcon:n.jsx(or,{}),onClick:()=>{_(),u(!0)},sx:{borderRadius:2},children:"Add Material"})]}),n.jsxs(S,{variant:"caption",color:"text.secondary",sx:{mb:2},children:["Component Loading State: ",i?"True":"False"]}),o&&n.jsx(ge,{severity:"error",sx:{mb:2},children:o}),r.length===0?n.jsx(ge,{severity:"info",variant:"outlined",children:'No material allocations defined. Click "Add Material" to allocate materials.'}):n.jsx(Zr,{children:n.jsxs(Nt,{children:[n.jsx(_t,{children:n.jsxs(Ve,{children:[n.jsx(R,{sx:{fontWeight:600},children:"Material ID"}),n.jsx(R,{sx:{fontWeight:600},children:"Required"}),n.jsx(R,{sx:{fontWeight:600},children:"Allocated"}),n.jsx(R,{sx:{fontWeight:600},children:"Unit"}),n.jsx(R,{sx:{fontWeight:600},children:"Status"}),n.jsx(R,{sx:{fontWeight:600},children:"Actions"})]})}),n.jsx(At,{children:r.map(O=>{var B;return n.jsxs(Ve,{children:[n.jsx(R,{children:n.jsx(S,{variant:"body1",sx:{fontWeight:500},children:((B=P.find(G=>G.id===O.materialId))==null?void 0:B.name)||O.materialId})}),n.jsx(R,{children:n.jsx(S,{variant:"body2",children:O.quantityRequired})}),n.jsx(R,{children:n.jsx(S,{variant:"body2",children:O.quantityAllocated})}),n.jsx(R,{children:n.jsx(S,{variant:"body2",children:O.unitOfMeasure})}),n.jsx(R,{children:N(O.status)}),n.jsx(R,{children:n.jsxs(ze,{direction:"row",spacing:1,children:[O.status==="pending"&&n.jsx(Ee,{title:"Allocate Material",children:n.jsx(ie,{size:"small",color:"primary",onClick:()=>{m(O),j({quantityAllocated:O.quantityAllocated.toString()}),h(!0)},children:n.jsx(an,{fontSize:"small"})})}),O.status==="allocated"&&n.jsx(Ee,{title:"Consume Material",children:n.jsx(ie,{size:"small",color:"success",onClick:()=>U(O.id),children:n.jsx(nr,{fontSize:"small"})})}),O.status==="consumed"?n.jsx(Ee,{title:"Cannot edit consumed material",children:n.jsx("span",{children:n.jsx(ie,{size:"small",color:"info",disabled:!0,children:n.jsx(wt,{fontSize:"small"})})})}):n.jsx(Ee,{title:"Edit",children:n.jsx(ie,{size:"small",color:"info",onClick:()=>w(O),children:n.jsx(wt,{fontSize:"small"})})}),O.status==="allocated"||O.status==="consumed"?n.jsx(Ee,{title:"Cannot delete allocated or consumed material",children:n.jsx("span",{children:n.jsx(ie,{size:"small",color:"error",disabled:!0,children:n.jsx(jt,{fontSize:"small"})})})}):n.jsx(Ee,{title:"Delete",children:n.jsx(ie,{size:"small",color:"error",onClick:()=>z(O.id),children:n.jsx(jt,{fontSize:"small"})})})]})})]},O.id)})})]})}),n.jsxs($t,{open:c,onClose:()=>u(!1),maxWidth:"md",fullWidth:!0,disableEscapeKeyDown:i,PaperProps:{sx:{borderRadius:3}},"aria-labelledby":"material-dialog-title","aria-describedby":"material-dialog-description",children:[n.jsx(Xt,{id:"material-dialog-title",children:f?"Edit Material Allocation":"Create Material Allocation"}),n.jsxs(Bt,{id:"material-dialog-description",children:[n.jsxs(S,{variant:"caption",color:"text.secondary",sx:{mb:2},children:["Materials Loading: ",D?"True":"False",", Available Materials Count: ",P.length,"Current FormData Material ID: ",x.materialId]}),n.jsxs(k,{container:!0,spacing:3,sx:{mt:.5},children:[n.jsx(k,{item:!0,xs:12,sm:6,children:n.jsxs(Ge,{fullWidth:!0,required:!0,disabled:D||i,children:[n.jsx(Ke,{id:"material-select-label",children:"Material"}),n.jsxs(Je,{labelId:"material-select-label",id:"materialId",name:"materialId",value:x.materialId,onChange:A,label:"Material",children:[n.jsx(V,{value:"",children:"Pilih Material"}),P.map(O=>n.jsxs(V,{value:String(O.id),children:[O.name," (",O.materialId,")"]},O.id))]})]})}),n.jsx(k,{item:!0,xs:12,sm:6,children:n.jsx(H,{fullWidth:!0,label:"Quantity Required",type:"number",step:"0.01",name:"quantityRequired",value:x.quantityRequired,onChange:A,required:!0,disabled:i})}),n.jsx(k,{item:!0,xs:12,sm:6,children:n.jsx(H,{fullWidth:!0,label:"Current Stock",type:"number",value:x.stockQuantity,InputProps:{readOnly:!0},disabled:!0})}),n.jsx(k,{item:!0,xs:12,sm:6,children:n.jsx(H,{fullWidth:!0,label:"Unit of Measure",value:x.unitOfMeasure,InputProps:{readOnly:!0},disabled:!0,required:!0})})]})]}),n.jsxs(Vt,{sx:{p:3},children:[n.jsx(K,{onClick:()=>u(!1),disabled:i,children:"Cancel"}),n.jsx(K,{variant:"contained",onClick:f?W:M,disabled:i||!x.materialId||!x.quantityRequired||!x.unitOfMeasure,startIcon:i&&n.jsx(je,{size:16}),children:i?"Processing...":f?"Update":"Create"})]})]}),n.jsxs($t,{open:d,onClose:()=>h(!1),maxWidth:"sm",fullWidth:!0,disableEscapeKeyDown:i,PaperProps:{sx:{borderRadius:3}},"aria-labelledby":"allocation-dialog-title","aria-describedby":"allocation-dialog-description",children:[n.jsx(Xt,{id:"allocation-dialog-title",children:"Allocate Material"}),n.jsx(Bt,{id:"allocation-dialog-description",children:n.jsxs(E,{sx:{mt:2},children:[n.jsxs(S,{variant:"body2",color:"text.secondary",sx:{mb:2},children:["Material ID: ",g==null?void 0:g.materialId]}),n.jsxs(S,{variant:"body2",color:"text.secondary",sx:{mb:2},children:["Required: ",g==null?void 0:g.quantityRequired," ",g==null?void 0:g.unitOfMeasure]}),n.jsx(H,{fullWidth:!0,label:"Quantity to Allocate",type:"number",step:"0.01",value:b.quantityAllocated,onChange:O=>j({quantityAllocated:O.target.value}),inputProps:{max:g==null?void 0:g.quantityRequired,min:0},helperText:`Maximum: ${g==null?void 0:g.quantityRequired} ${g==null?void 0:g.unitOfMeasure}`,required:!0,disabled:i})]})}),n.jsxs(Vt,{sx:{p:3},children:[n.jsx(K,{onClick:()=>h(!1),disabled:i,children:"Cancel"}),n.jsx(K,{variant:"contained",onClick:L,disabled:i||!b.quantityAllocated,startIcon:i&&n.jsx(je,{size:16}),children:i?"Processing...":"Allocate"})]})]})]})})},s1=()=>{var y,b,j,P;const{id:e}=Ht(),t=Xe();Fr();const[r,s]=v.useState(null),[i,a]=v.useState(!0),[o,l]=v.useState(null),[c,u]=v.useState([]),[d,h]=v.useState([]);v.useEffect(()=>{(async()=>{try{a(!0),l(null);const D=await st.getBatchById(e);D?s(D):l("Batch not found")}catch(D){console.error("Error fetching batch details:",D),l("Failed to fetch batch details.")}finally{a(!1)}})()},[e]);const f=C=>{u(C)},p=C=>{h(C)};if(i)return n.jsx(Vn,{maxWidth:"xl",sx:{py:4},children:n.jsx(E,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"60vh",children:n.jsxs(E,{textAlign:"center",children:[n.jsx(je,{size:60,thickness:4}),n.jsx(S,{variant:"h6",sx:{mt:2,color:"text.secondary"},children:"Loading batch details..."})]})})});if(o)return n.jsx(Vn,{maxWidth:"xl",sx:{py:4},children:n.jsx(ge,{severity:"error",sx:{borderRadius:2},children:o})});if(!r)return n.jsx(Vn,{maxWidth:"xl",sx:{py:4},children:n.jsx(ge,{severity:"info",sx:{borderRadius:2},children:"No batch details found."})});const g=C=>{const T={pending:{color:"warning",label:"Pending",icon:"⏳"},scheduled:{color:"info",label:"Scheduled",icon:"📅"},in_progress:{color:"primary",label:"In Progress",icon:"⚡"},completed:{color:"success",label:"Completed",icon:"✅"},cancelled:{color:"error",label:"Cancelled",icon:"❌"}}[C]||{color:"default",label:C,icon:"📋"};return n.jsx(We,{label:`${T.icon} ${T.label}`,color:T.color,sx:{fontWeight:600,px:1,"& .MuiChip-label":{fontSize:"0.875rem"}}})},m=C=>C?new Date(C).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-",x=()=>{if(!r.steps||r.steps.length===0)return 0;const C=r.steps.filter(D=>D.status==="completed").length;return Math.round(C/r.steps.length*100)};return n.jsxs(Vn,{maxWidth:"xl",sx:{py:3},children:[n.jsxs(E,{sx:{mb:3},children:[n.jsxs(Ad,{separator:n.jsx(Af,{fontSize:"small"}),sx:{mb:2},children:[n.jsxs(Mo,{color:"inherit",href:"#",onClick:()=>t("/"),sx:{display:"flex",alignItems:"center",textDecoration:"none","&:hover":{textDecoration:"underline"}},children:[n.jsx(tv,{sx:{mr:.5},fontSize:"inherit"}),"Dashboard"]}),n.jsx(Mo,{color:"inherit",href:"#",onClick:()=>t("/production-batches"),sx:{textDecoration:"none","&:hover":{textDecoration:"underline"}},children:"Production Batches"}),n.jsx(S,{color:"text.primary",sx:{fontWeight:600},children:r.batchNumber})]}),n.jsx(K,{startIcon:n.jsx(Lt,{}),onClick:()=>t("/production-batches"),sx:{color:"text.secondary","&:hover":{bgcolor:"grey.100",color:"primary.main"},borderRadius:2,px:2},children:"Back to Production Batches"})]}),n.jsxs(Me,{elevation:0,sx:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",borderRadius:3,mb:4,overflow:"hidden",position:"relative"},children:[n.jsx(E,{sx:{position:"absolute",top:0,right:0,width:"200px",height:"200px",background:"rgba(255,255,255,0.05)",borderRadius:"50%",transform:"translate(50%, -50%)"}}),n.jsx(ve,{sx:{p:{xs:3,sm:4,md:5},position:"relative"},children:n.jsxs(k,{container:!0,spacing:4,alignItems:"center",children:[n.jsx(k,{item:!0,xs:12,md:8,children:n.jsxs(E,{sx:{display:"flex",alignItems:"center",mb:2},children:[n.jsx(Ce,{sx:{bgcolor:"rgba(255,255,255,0.2)",width:{xs:60,sm:80},height:{xs:60,sm:80},mr:3},children:n.jsx(xr,{sx:{fontSize:{xs:30,sm:40}}})}),n.jsxs(E,{children:[n.jsx(S,{variant:"h3",sx:{fontWeight:800,mb:1,fontSize:{xs:"2rem",sm:"2.5rem",md:"3rem"}},children:r.batchNumber}),n.jsx(S,{variant:"h6",sx:{opacity:.9,mb:1},children:"Production Batch Management"}),n.jsx(E,{sx:{mt:2},children:g(r.status)})]})]})}),n.jsx(k,{item:!0,xs:12,md:4,children:n.jsxs(E,{sx:{textAlign:{xs:"left",md:"right"}},children:[n.jsx(S,{variant:"h4",sx:{fontWeight:700,mb:1},children:((y=r.quantity)==null?void 0:y.toLocaleString())||0}),n.jsx(S,{variant:"body1",sx:{opacity:.9,mb:3},children:"Units to Produce"}),n.jsxs(E,{sx:{mb:2},children:[n.jsx(S,{variant:"body2",sx:{opacity:.8,mb:1},children:"Production Progress"}),n.jsx(To,{variant:"determinate",value:x(),sx:{height:8,borderRadius:4,backgroundColor:"rgba(255,255,255,0.2)","& .MuiLinearProgress-bar":{borderRadius:4,backgroundColor:"#4caf50"}}}),n.jsxs(S,{variant:"body2",sx:{opacity:.9,mt:1},children:[x(),"% Complete"]})]})]})})]})})]}),n.jsxs(k,{container:!0,spacing:4,children:[n.jsx(k,{item:!0,xs:12,lg:8,children:n.jsxs(ze,{spacing:4,children:[n.jsxs(k,{container:!0,spacing:3,children:[n.jsx(k,{item:!0,xs:12,sm:6,md:3,children:n.jsxs(Me,{elevation:0,sx:{p:3,border:"1px solid",borderColor:"grey.200",borderRadius:3,textAlign:"center",background:"linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)"},children:[n.jsx(Ce,{sx:{bgcolor:"primary.main",mx:"auto",mb:2},children:n.jsx(xr,{})}),n.jsx(S,{variant:"h6",sx:{fontWeight:700,mb:1},children:r.batchNumber}),n.jsx(S,{variant:"body2",color:"text.secondary",children:"Batch Number"})]})}),n.jsx(k,{item:!0,xs:12,sm:6,md:3,children:n.jsxs(Me,{elevation:0,sx:{p:3,border:"1px solid",borderColor:"grey.200",borderRadius:3,textAlign:"center",background:"linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%)"},children:[n.jsx(Ce,{sx:{bgcolor:"warning.main",mx:"auto",mb:2},children:n.jsx(oc,{})}),n.jsx(S,{variant:"h6",sx:{fontWeight:700,mb:1},children:((b=r.quantity)==null?void 0:b.toLocaleString())||0}),n.jsx(S,{variant:"body2",color:"text.secondary",children:"Total Quantity"})]})}),n.jsx(k,{item:!0,xs:12,sm:6,md:3,children:n.jsxs(Me,{elevation:0,sx:{p:3,border:"1px solid",borderColor:"grey.200",borderRadius:3,textAlign:"center",background:"linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)"},children:[n.jsx(Ce,{sx:{bgcolor:"info.main",mx:"auto",mb:2},children:n.jsx(_r,{})}),n.jsx(S,{variant:"h6",sx:{fontWeight:700,mb:1},children:((j=r.steps)==null?void 0:j.length)||0}),n.jsx(S,{variant:"body2",color:"text.secondary",children:"Production Steps"})]})}),n.jsx(k,{item:!0,xs:12,sm:6,md:3,children:n.jsxs(Me,{elevation:0,sx:{p:3,border:"1px solid",borderColor:"grey.200",borderRadius:3,textAlign:"center",background:"linear-gradient(135deg, #d299c2 0%, #fef9d7 100%)"},children:[n.jsx(Ce,{sx:{bgcolor:"success.main",mx:"auto",mb:2},children:n.jsx(an,{})}),n.jsxs(S,{variant:"h6",sx:{fontWeight:700,mb:1},children:[x(),"%"]}),n.jsx(S,{variant:"body2",color:"text.secondary",children:"Completion"})]})})]}),n.jsx(Se,{elevation:0,sx:{border:"1px solid",borderColor:"grey.200",borderRadius:3},children:n.jsxs(ve,{sx:{p:4},children:[n.jsxs(E,{sx:{display:"flex",alignItems:"center",mb:3},children:[n.jsx(Ce,{sx:{bgcolor:"primary.main",mr:2},children:n.jsx(wi,{})}),n.jsx(S,{variant:"h5",sx:{fontWeight:700},children:"Batch Information"})]}),n.jsxs(k,{container:!0,spacing:4,children:[n.jsxs(k,{item:!0,xs:12,sm:6,children:[n.jsxs(E,{sx:{mb:3},children:[n.jsx(S,{variant:"subtitle2",color:"text.secondary",sx:{fontWeight:600,mb:1},children:"Batch Number"}),n.jsx(S,{variant:"h6",sx:{fontWeight:600},children:r.batchNumber})]}),n.jsxs(E,{sx:{mb:3},children:[n.jsx(S,{variant:"subtitle2",color:"text.secondary",sx:{fontWeight:600,mb:1},children:"Quantity"}),n.jsxs(S,{variant:"h6",sx:{fontWeight:600},children:[(P=r.quantity)==null?void 0:P.toLocaleString()," units"]})]})]}),n.jsxs(k,{item:!0,xs:12,sm:6,children:[n.jsxs(E,{sx:{mb:3},children:[n.jsx(S,{variant:"subtitle2",color:"text.secondary",sx:{fontWeight:600,mb:1},children:"Status"}),n.jsx(E,{sx:{mt:1},children:g(r.status)})]}),n.jsxs(E,{sx:{mb:3},children:[n.jsx(S,{variant:"subtitle2",color:"text.secondary",sx:{fontWeight:600,mb:1},children:"Progress"}),n.jsxs(E,{sx:{display:"flex",alignItems:"center",gap:2},children:[n.jsx(To,{variant:"determinate",value:x(),sx:{flexGrow:1,height:8,borderRadius:4}}),n.jsxs(S,{variant:"body2",sx:{fontWeight:600},children:[x(),"%"]})]})]})]}),n.jsx(k,{item:!0,xs:12,children:n.jsxs(E,{children:[n.jsx(S,{variant:"subtitle2",color:"text.secondary",sx:{fontWeight:600,mb:1},children:"Notes"}),n.jsx(S,{variant:"body1",children:r.notes||"No notes available"})]})})]})]})}),n.jsx(Se,{elevation:0,sx:{border:"1px solid",borderColor:"grey.200",borderRadius:3},children:n.jsxs(ve,{sx:{p:4},children:[n.jsxs(E,{sx:{display:"flex",alignItems:"center",mb:3},children:[n.jsx(Ce,{sx:{bgcolor:"info.main",mr:2},children:n.jsx(_r,{})}),n.jsx(S,{variant:"h5",sx:{fontWeight:700},children:"Schedule Information"})]}),n.jsxs(k,{container:!0,spacing:4,children:[n.jsx(k,{item:!0,xs:12,md:6,children:n.jsxs(Me,{variant:"outlined",sx:{p:3,borderRadius:2,bgcolor:"grey.50"},children:[n.jsx(S,{variant:"subtitle2",color:"text.secondary",sx:{fontWeight:600,mb:1},children:"📅 Scheduled Start Date"}),n.jsx(S,{variant:"h6",sx:{fontWeight:600},children:m(r.scheduledStartDate)})]})}),n.jsx(k,{item:!0,xs:12,md:6,children:n.jsxs(Me,{variant:"outlined",sx:{p:3,borderRadius:2,bgcolor:"grey.50"},children:[n.jsx(S,{variant:"subtitle2",color:"text.secondary",sx:{fontWeight:600,mb:1},children:"🏁 Scheduled End Date"}),n.jsx(S,{variant:"h6",sx:{fontWeight:600},children:m(r.scheduledEndDate)})]})})]})]})})]})}),n.jsx(k,{item:!0,xs:12,lg:4,children:n.jsxs(ze,{spacing:4,children:[n.jsx(Se,{elevation:0,sx:{border:"1px solid",borderColor:"grey.200",borderRadius:3},children:n.jsxs(ve,{sx:{p:4},children:[n.jsxs(E,{sx:{display:"flex",alignItems:"center",mb:3},children:[n.jsx(Ce,{sx:{bgcolor:"success.main",mr:2},children:n.jsx(an,{})}),n.jsx(S,{variant:"h6",sx:{fontWeight:700},children:"Production Request"})]}),r.request?n.jsxs(ze,{spacing:3,children:[n.jsxs(E,{children:[n.jsx(S,{variant:"subtitle2",color:"text.secondary",sx:{fontWeight:600,mb:1},children:"Request ID"}),n.jsx(S,{variant:"body1",sx:{fontWeight:600},children:r.request.requestId})]}),n.jsxs(E,{children:[n.jsx(S,{variant:"subtitle2",color:"text.secondary",sx:{fontWeight:600,mb:1},children:"Product Name"}),n.jsx(S,{variant:"body1",sx:{fontWeight:600},children:r.request.productName})]}),n.jsxs(E,{children:[n.jsx(S,{variant:"subtitle2",color:"text.secondary",sx:{fontWeight:600,mb:1},children:"Priority"}),n.jsx(We,{label:r.request.priority,color:r.request.priority==="high"?"error":r.request.priority==="medium"?"warning":"primary",size:"small"})]})]}):n.jsx(ge,{severity:"warning",variant:"outlined",sx:{borderRadius:2},children:"No associated production request found."})]})}),n.jsx(Se,{elevation:0,sx:{border:"1px solid",borderColor:"grey.200",borderRadius:3},children:n.jsxs(ve,{sx:{p:4},children:[n.jsxs(E,{sx:{display:"flex",alignItems:"center",mb:3},children:[n.jsx(Ce,{sx:{bgcolor:"warning.main",mr:2},children:n.jsx(Mn,{})}),n.jsx(S,{variant:"h6",sx:{fontWeight:700},children:"Production Steps"})]}),r.steps&&r.steps.length>0?n.jsxs(Cn,{sx:{p:0},children:[r.steps.slice(0,5).map((C,D)=>n.jsxs(Gr,{sx:{px:0,py:2,borderBottom:D===r.steps.length-1?"none":"1px solid",borderColor:"grey.100"},children:[n.jsx(Qs,{sx:{minWidth:40},children:n.jsx(Ce,{sx:{width:32,height:32,bgcolor:"primary.main",fontSize:"0.875rem",fontWeight:700},children:C.stepOrder})}),n.jsx(Kr,{primary:n.jsx(S,{variant:"body1",sx:{fontWeight:600,mb:.5},children:C.stepName}),secondary:n.jsxs(E,{children:[n.jsxs(S,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.8rem"},children:["Machine: ",C.machineName||"N/A"]}),n.jsx(We,{label:C.status,size:"small",color:C.status==="completed"?"success":C.status==="in_progress"?"primary":"default",sx:{mt:1,fontSize:"0.7rem",height:20}})]}),secondaryTypographyProps:{component:"div"}})]},C.id)),r.steps.length>5&&n.jsx(E,{sx:{textAlign:"center",py:2},children:n.jsxs(S,{variant:"body2",color:"text.secondary",children:["+",r.steps.length-5," more steps"]})})]}):n.jsx(ge,{severity:"info",variant:"outlined",sx:{borderRadius:2},children:"No production steps defined for this batch."})]})}),n.jsx(Se,{elevation:0,sx:{border:"1px solid",borderColor:"grey.200",borderRadius:3},children:n.jsxs(ve,{sx:{p:4},children:[n.jsxs(E,{sx:{display:"flex",alignItems:"center",mb:3},children:[n.jsx(Ce,{sx:{bgcolor:"secondary.main",mr:2},children:n.jsx(nr,{})}),n.jsx(S,{variant:"h6",sx:{fontWeight:700},children:"Material Allocations"})]}),r.materialAllocations&&r.materialAllocations.length>0?n.jsxs(Cn,{sx:{p:0},children:[r.materialAllocations.slice(0,3).map((C,D)=>n.jsx(Gr,{sx:{px:0,py:2,borderBottom:D===r.materialAllocations.length-1?"none":"1px solid",borderColor:"grey.100"},children:n.jsx(Kr,{primary:n.jsxs(S,{variant:"body1",sx:{fontWeight:600,mb:.5},children:["Material ID: ",C.materialId]}),secondary:n.jsxs(E,{children:[n.jsxs(S,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.8rem"},children:["Required:"," ",C.quantityRequired," ",C.unitOfMeasure]}),n.jsxs(S,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.8rem"},children:["Allocated:"," ",C.quantityAllocated," ",C.unitOfMeasure]}),n.jsx(We,{label:C.status,size:"small",color:C.status==="allocated"?"success":"warning",sx:{mt:1,fontSize:"0.7rem",height:20}})]}),secondaryTypographyProps:{component:"div"}})},C.id)),r.materialAllocations.length>3&&n.jsx(E,{sx:{textAlign:"center",py:2},children:n.jsxs(S,{variant:"body2",color:"text.secondary",children:["+",r.materialAllocations.length-3," more materials"]})})]}):n.jsx(ge,{severity:"info",variant:"outlined",sx:{borderRadius:2},children:"No material allocations for this batch."})]})})]})})]}),n.jsxs(E,{sx:{mt:6},children:[n.jsx(e1,{batchId:e,onStepsChange:f}),n.jsx(n1,{batchId:e,onMaterialsChange:p})]})]})},cd=()=>{const{id:e}=Ht(),t=Xe(),r=Lr(),[s,i]=v.useState(null),[a,o]=v.useState([]),[l,c]=v.useState(!0),[u,d]=v.useState(null),[h,f]=v.useState(!1),[p,g]=v.useState({requestId:"",quantity:"",status:"pending"});v.useEffect(()=>{const P=new URLSearchParams(r.search).get("requestId");e?(f(!0),m(e)):(f(!1),c(!1),P&&g(C=>({...C,requestId:P}))),x()},[e,r.search]);const m=async j=>{try{const C=await st.getBatchById(j);i(C),g({requestId:C.requestId,quantity:C.quantity,status:C.status||"pending"})}catch(P){console.error("Error fetching batch data:",P),d("Gagal memuat data batch.")}finally{c(!1)}},x=async()=>{try{const j=await Sn.getAllRequests();o(j)}catch(j){console.error("Error fetching production requests for dropdown:",j)}},y=j=>{const{name:P,value:C}=j.target;g(D=>({...D,[P]:C}))},b=async()=>{console.log("formData before saving:",p);try{c(!0),d(null);const j={...p,quantity:parseInt(p.quantity)};if(console.log("Payload being sent to batchService:",j),h)await st.updateBatch(e,j);else{if(!j.requestId){d("Request ID is required for new batches."),c(!1);return}await st.createBatch(j)}setTimeout(()=>{t("/production-batches")},0)}catch(j){console.error("Error saving batch:",j),d("Gagal menyimpan batch produksi.")}finally{c(!1)}};return l?n.jsx(E,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:n.jsx(je,{size:60,thickness:4})}):u?n.jsx(be,{in:!0,children:n.jsx(ge,{severity:"error",sx:{m:2,borderRadius:2},children:u})}):n.jsxs(E,{sx:{width:"100%",maxWidth:1200,mx:"auto",p:{xs:2,sm:3},overflow:"hidden"},children:[n.jsx(be,{in:!0,timeout:600,children:n.jsx(Se,{elevation:0,sx:{mb:4,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",borderRadius:3,width:"100%"},children:n.jsx(ve,{sx:{p:{xs:3,sm:4}},children:n.jsxs(E,{sx:{display:"flex",alignItems:"center"},children:[n.jsx(Ce,{sx:{bgcolor:"rgba(255,255,255,0.2)",width:{xs:56,sm:64},height:{xs:56,sm:64},mr:{xs:2,sm:3}},children:n.jsx(xr,{sx:{fontSize:{xs:28,sm:32}}})}),n.jsxs(E,{children:[n.jsx(S,{variant:"h4",sx:{fontWeight:700,mb:1,fontSize:{xs:"1.75rem",sm:"2.125rem"}},children:h?`Edit Batch: ${s==null?void 0:s.batchNumber}`:"Create New Production Batch"}),n.jsx(S,{variant:"h6",sx:{opacity:.9},children:h?"Modify batch details and settings":"Set up a new production batch"})]})]})})})}),n.jsx(E,{sx:{mb:3},children:n.jsx(K,{startIcon:n.jsx(Lt,{}),onClick:()=>t("/production-batches"),sx:{color:"text.secondary","&:hover":{bgcolor:"grey.100"}},children:"Back to Production Batches"})}),n.jsx(He,{in:!0,timeout:800,children:n.jsx(Me,{sx:{borderRadius:3,overflow:"hidden",border:"1px solid",borderColor:"grey.200",width:"100%"},children:n.jsxs(E,{sx:{p:4},children:[n.jsx(S,{variant:"h6",sx:{mb:3,fontWeight:600,color:"text.primary"},children:"Batch Information"}),n.jsxs(k,{container:!0,spacing:3,children:[n.jsx(k,{item:!0,xs:12,children:n.jsxs(Ge,{fullWidth:!0,required:!0,children:[n.jsx(Ke,{children:"Production Request"}),n.jsx(Je,{name:"requestId",value:p.requestId,onChange:y,label:"Production Request",disabled:h,sx:{"& .MuiOutlinedInput-root":{borderRadius:2}},children:a.map(j=>n.jsxs(V,{value:j.id,children:[j.requestId," - ",j.productName," (",j.quantity,")"]},j.id))})]})}),n.jsx(k,{item:!0,xs:12,sm:6,children:n.jsx(H,{fullWidth:!0,label:"Quantity",name:"quantity",type:"number",value:p.quantity,onChange:y,required:!0,InputProps:{inputProps:{min:1}},sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}),n.jsx(k,{item:!0,xs:12,sm:6,children:n.jsxs(Ge,{fullWidth:!0,children:[n.jsx(Ke,{children:"Status"}),n.jsxs(Je,{name:"status",value:p.status,onChange:y,label:"Status",sx:{"& .MuiOutlinedInput-root":{borderRadius:2}},children:[n.jsx(V,{value:"pending",children:"Pending"}),n.jsx(V,{value:"scheduled",children:"Scheduled"}),n.jsx(V,{value:"in_progress",children:"In Progress"}),n.jsx(V,{value:"completed",children:"Completed"}),n.jsx(V,{value:"cancelled",children:"Cancelled"})]})]})}),n.jsx(k,{item:!0,xs:12,children:n.jsxs(ze,{direction:"row",spacing:2,sx:{mt:2},children:[n.jsx(K,{variant:"contained",color:"primary",size:"large",startIcon:n.jsx(ir,{}),onClick:b,sx:{px:4},children:h?"Save Changes":"Create Batch"}),n.jsx(K,{variant:"outlined",size:"large",onClick:()=>t("/production-batches"),sx:{px:4},children:"Cancel"})]})})]})]})})})]})},ud=()=>{const{id:e}=Ht(),t=Xe(),[r,s]=v.useState(null),[i,a]=v.useState(!0),[o,l]=v.useState(null),[c,u]=v.useState(!1),[d,h]=v.useState({requestId:"",productName:"",quantity:"",priority:"normal",status:"received"});v.useEffect(()=>{e?(u(!0),f(e)):(u(!1),a(!1),h(m=>({...m,requestId:`REQ-${Math.floor(1e3+Math.random()*9e3)}`})))},[e]);const f=async m=>{try{const y=await Sn.getRequestById(m);s(y),h({requestId:y.requestId||"",productName:y.productName||"",quantity:y.quantity||"",priority:y.priority||"normal",status:y.status||"received"})}catch(x){console.error("Error fetching request data:",x),l("Gagal memuat data permintaan produksi.")}finally{a(!1)}},p=m=>{const{name:x,value:y}=m.target;h(b=>({...b,[x]:y}))},g=async()=>{try{a(!0),l(null);const m={...d,quantity:parseInt(d.quantity)};c?await Sn.updateRequest(e,m):await Sn.createRequest(m),setTimeout(()=>{t("/production-requests")},0)}catch(m){console.error("Error saving request:",m),l("Gagal menyimpan permintaan produksi.")}finally{a(!1)}};return i?n.jsx(E,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:n.jsx(je,{size:60,thickness:4})}):o?n.jsx(be,{in:!0,children:n.jsx(ge,{severity:"error",sx:{m:2,borderRadius:2},children:o})}):n.jsxs(E,{sx:{width:"100%",maxWidth:1200,mx:"auto",p:{xs:2,sm:3},overflow:"hidden"},children:[n.jsx(be,{in:!0,timeout:600,children:n.jsx(Se,{elevation:0,sx:{mb:4,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",borderRadius:3,width:"100%"},children:n.jsx(ve,{sx:{p:{xs:3,sm:4}},children:n.jsxs(E,{sx:{display:"flex",alignItems:"center"},children:[n.jsx(Ce,{sx:{bgcolor:"rgba(255,255,255,0.2)",width:{xs:56,sm:64},height:{xs:56,sm:64},mr:{xs:2,sm:3}},children:n.jsx(xr,{sx:{fontSize:{xs:28,sm:32}}})}),n.jsxs(E,{children:[n.jsx(S,{variant:"h4",sx:{fontWeight:700,mb:1,fontSize:{xs:"1.75rem",sm:"2.125rem"}},children:c?`Edit Request: ${r==null?void 0:r.productName}`:"Create New Production Request"}),n.jsx(S,{variant:"h6",sx:{opacity:.9},children:c?"Modify request details and settings":"Set up a new production request"})]})]})})})}),n.jsx(E,{sx:{mb:3},children:n.jsx(K,{startIcon:n.jsx(Lt,{}),onClick:()=>t("/production-requests"),sx:{color:"text.secondary","&:hover":{bgcolor:"grey.100"}},children:"Back to Production Requests"})}),n.jsx(He,{in:!0,timeout:800,children:n.jsxs(Me,{sx:{borderRadius:3,overflow:"hidden",border:"1px solid",borderColor:"grey.200",width:"100%"},children:[n.jsxs(E,{p:{xs:3,sm:4},children:[n.jsx(S,{variant:"h5",gutterBottom:!0,sx:{mb:3},children:"Request Details"}),n.jsxs(k,{container:!0,spacing:3,children:[c&&n.jsx(k,{item:!0,xs:12,md:6,children:n.jsx(H,{fullWidth:!0,label:"Request ID",name:"requestId",value:d.requestId,onChange:p,disabled:!0})}),n.jsx(k,{item:!0,xs:12,md:c?6:12,children:n.jsx(H,{fullWidth:!0,label:"Product Name",name:"productName",value:d.productName,onChange:p,required:!0})}),n.jsx(k,{item:!0,xs:12,md:6,children:n.jsx(H,{fullWidth:!0,label:"Quantity",name:"quantity",type:"number",value:d.quantity,onChange:p,required:!0,inputProps:{min:1}})}),n.jsx(k,{item:!0,xs:12,md:6,children:n.jsxs(Ge,{fullWidth:!0,required:!0,children:[n.jsx(Ke,{id:"priority-label",children:"Priority"}),n.jsxs(Je,{labelId:"priority-label",id:"priority-select",name:"priority",value:d.priority,label:"Priority",onChange:p,children:[n.jsx(V,{value:"low",children:"Low"}),n.jsx(V,{value:"normal",children:"Normal"}),n.jsx(V,{value:"high",children:"High"}),n.jsx(V,{value:"urgent",children:"Urgent"})]})]})}),c&&n.jsx(k,{item:!0,xs:12,md:6,children:n.jsxs(Ge,{fullWidth:!0,children:[n.jsx(Ke,{id:"status-label",children:"Status"}),n.jsxs(Je,{labelId:"status-label",id:"status-select",name:"status",value:d.status,label:"Status",onChange:p,children:[n.jsx(V,{value:"received",children:"Received"}),n.jsx(V,{value:"planned",children:"Planned"}),n.jsx(V,{value:"in_production",children:"In Production"}),n.jsx(V,{value:"completed",children:"Completed"}),n.jsx(V,{value:"cancelled",children:"Cancelled"})]})]})})]})]}),n.jsx(E,{sx:{p:{xs:3,sm:4},pt:0,borderTop:"1px solid",borderColor:"grey.200",display:"flex",justifyContent:"flex-end"},children:n.jsx(K,{variant:"contained",color:"primary",startIcon:n.jsx(ir,{}),onClick:g,disabled:i,children:c?"Update Request":"Create Request"})})]})})]})};function i1(){const[e,t]=v.useState([]),[r,s]=v.useState(!0),[i,a]=v.useState(null),[o,l]=v.useState(""),[c,u]=v.useState(0),[d,h]=v.useState(10),[f,p]=v.useState(""),g=Xe(),m=async()=>{try{s(!0),a(null);const L=await fetch("http://localhost:5004/api/materials");if(!L.ok)throw new Error(`HTTP error! status: ${L.status}`);const U=await L.json();t(U)}catch(L){a(L)}finally{s(!1)}};v.useEffect(()=>{m()},[]);const x=L=>{const w={active:{color:"success",label:"Active",icon:null},low_stock:{color:"warning",label:"Low Stock",icon:n.jsx(fi,{fontSize:"small"})},out_of_stock:{color:"error",label:"Out of Stock",icon:n.jsx(fi,{fontSize:"small"})},discontinued:{color:"default",label:"Discontinued",icon:null}}[L.status]||{color:"default",label:L.status,icon:null};return n.jsx(We,{label:w.label,color:w.color,size:"small",icon:w.icon,sx:{fontWeight:500}})},y=L=>{l(L.target.value),u(0)},b=L=>{p(L.target.value),u(0)},j=(L,U)=>{u(U)},P=L=>{h(parseInt(L.target.value,10)),u(0)},C=L=>{g(`/materials/${L}/edit`)},D=L=>{g(`/materials/${L}`)},T=async L=>{if(window.confirm("Are you sure you want to delete this material?"))try{const U=await fetch(`http://localhost:5004/api/materials/${L}`,{method:"DELETE"});if(!U.ok){const w=await U.json();throw new Error(w.message||`HTTP error! status: ${U.status}`)}alert("Material deleted successfully!"),m()}catch(U){a(U),alert(`Failed to delete material: ${U.message}`)}},I=()=>{g("/materials/new")},M=L=>L.status==="out_of_stock"||L.status==="low_stock"?"error.main":L.status==="active"?"success.main":"text.secondary",W=e.filter(L=>L.name.toLowerCase().includes(o.toLowerCase())&&(f?L.category===f:!0)),z=W.slice(c*d,c*d+d);return r?n.jsx(E,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:n.jsx(je,{size:60,thickness:4})}):i?n.jsx(be,{in:!0,children:n.jsxs(ge,{severity:"error",sx:{m:2,borderRadius:2},children:["Error: ",i.message]})}):n.jsxs(E,{sx:{width:"100%",maxWidth:"100%",mx:"auto",p:{xs:2,sm:3},overflow:"hidden"},children:[n.jsx(be,{in:!0,timeout:600,children:n.jsx(Se,{elevation:0,sx:{mb:4,background:"linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)",color:"white",borderRadius:3,width:"100%"},children:n.jsx(ve,{sx:{p:{xs:3,sm:4}},children:n.jsxs(E,{sx:{display:"flex",justifyContent:"space-between",alignItems:{xs:"flex-start",sm:"center"},flexDirection:{xs:"column",sm:"row"},gap:{xs:3,sm:0}},children:[n.jsxs(E,{sx:{display:"flex",alignItems:"center"},children:[n.jsx(Ce,{sx:{bgcolor:"rgba(255,255,255,0.2)",width:{xs:56,sm:64},height:{xs:56,sm:64},mr:{xs:2,sm:3}},children:n.jsx(nr,{sx:{fontSize:{xs:28,sm:32}}})}),n.jsxs(E,{children:[n.jsx(S,{variant:"h4",sx:{fontWeight:700,mb:1,fontSize:{xs:"1.75rem",sm:"2.125rem"}},children:"Material Inventory"}),n.jsx(S,{variant:"h6",sx:{opacity:.9},children:"Manage materials and inventory levels"})]})]}),n.jsx(K,{variant:"contained",size:"large",startIcon:n.jsx(or,{}),onClick:I,sx:{bgcolor:"rgba(255,255,255,0.2)",color:"white","&:hover":{bgcolor:"rgba(255,255,255,0.3)"},px:4,py:1.5,borderRadius:2,width:{xs:"100%",sm:"auto"}},children:"Add Material"})]})})})}),n.jsx(He,{in:!0,timeout:800,children:n.jsxs(Me,{sx:{borderRadius:3,overflow:"hidden",border:"1px solid",borderColor:"grey.200",width:"100%"},children:[n.jsx(E,{sx:{p:3,bgcolor:"grey.50",borderBottom:"1px solid",borderColor:"grey.200"},children:n.jsxs(k,{container:!0,spacing:3,children:[n.jsx(k,{item:!0,xs:12,md:6,children:n.jsx(H,{fullWidth:!0,label:"Search Materials",value:o,onChange:y,InputProps:{startAdornment:n.jsx(Fe,{position:"start",children:n.jsx(Mr,{color:"action"})}),endAdornment:o&&n.jsx(Fe,{position:"end",children:n.jsx(ie,{size:"small",onClick:()=>l(""),children:n.jsx(gr,{})})})},sx:{"& .MuiOutlinedInput-root":{bgcolor:"white"}}})}),n.jsx(k,{item:!0,xs:12,md:3,children:n.jsxs(H,{select:!0,fullWidth:!0,label:"Filter by Category",value:f,onChange:b,sx:{"& .MuiOutlinedInput-root":{bgcolor:"white"}},children:[n.jsx(V,{value:"",children:"All Categories"}),n.jsx(V,{value:"Raw Material",children:"Raw Material"}),n.jsx(V,{value:"Component",children:"Component"}),n.jsx(V,{value:"Work-in-Progress (WIP)",children:"Work-in-Progress (WIP)"}),n.jsx(V,{value:"Finished Goods",children:"Finished Goods"}),n.jsx(V,{value:"Packaging Material",children:"Packaging Material"}),n.jsx(V,{value:"Consumable",children:"Consumable"}),n.jsx(V,{value:"Spare Part",children:"Spare Part"}),n.jsx(V,{value:"Tool",children:"Tool"})]})})]})}),e.length===0?n.jsx(ge,{severity:"info",sx:{m:3},children:"No materials available."}):n.jsxs(n.Fragment,{children:[n.jsx(E,{sx:{width:"100%",overflowX:"auto"},children:n.jsxs(Nt,{sx:{minWidth:800},children:[n.jsx(_t,{children:n.jsxs(Ve,{children:[n.jsx(R,{sx:{fontWeight:600,py:2},children:"Material ID"}),n.jsx(R,{sx:{fontWeight:600,py:2},children:"Name"}),n.jsx(R,{sx:{fontWeight:600,py:2},children:"Category"}),n.jsx(R,{sx:{fontWeight:600,py:2},children:"Stock Quantity"}),n.jsx(R,{sx:{fontWeight:600,py:2},children:"Unit"}),n.jsx(R,{sx:{fontWeight:600,py:2},children:"Status"}),n.jsx(R,{sx:{fontWeight:600,py:2},align:"right",children:"Actions"})]})}),n.jsx(At,{children:z.map((L,U)=>n.jsx(be,{in:!0,timeout:300+U*100,children:n.jsxs(Ve,{sx:{"&:hover":{bgcolor:"grey.50",transform:"scale(1.001)",transition:"all 0.2s ease-in-out"},"&:last-child td":{border:0}},children:[n.jsx(R,{sx:{py:2},children:n.jsx(S,{variant:"body2",sx:{fontWeight:600,color:"primary.main"},children:L.materialId||L.id})}),n.jsx(R,{sx:{py:2},children:n.jsx(S,{variant:"body1",sx:{fontWeight:500},children:L.name})}),n.jsx(R,{sx:{py:2},children:n.jsx(We,{label:L.category,size:"small",sx:{fontWeight:500}})}),n.jsx(R,{sx:{py:2},children:n.jsx(S,{variant:"body1",sx:{fontWeight:600,color:M(L)},children:L.stockQuantity.toLocaleString()})}),n.jsx(R,{sx:{py:2},children:n.jsx(S,{variant:"body2",children:L.unit})}),n.jsx(R,{sx:{py:2},children:x(L)}),n.jsx(R,{align:"right",sx:{py:2},children:n.jsxs(ze,{direction:"row",spacing:1,justifyContent:"flex-end",children:[(L.status==="low_stock"||L.status==="out_of_stock")&&n.jsx(Ee,{title:"Purchase Material",children:n.jsx(ie,{size:"small",color:"primary",onClick:()=>g(`/materials/purchase?materialId=${L.id}`),sx:{"&:hover":{bgcolor:"primary.light",color:"white"}},children:n.jsx(ul,{fontSize:"small"})})}),n.jsx(Ee,{title:"View Details",children:n.jsx(ie,{size:"small",color:"primary",onClick:()=>D(L.id),sx:{"&:hover":{bgcolor:"primary.light",color:"white"}},children:n.jsx(Gt,{fontSize:"small"})})}),n.jsx(Ee,{title:"Edit",children:n.jsx(ie,{size:"small",color:"info",onClick:()=>C(L.id),sx:{"&:hover":{bgcolor:"info.light",color:"white"}},children:n.jsx(wt,{fontSize:"small"})})}),n.jsx(Ee,{title:"Delete",children:n.jsx(ie,{size:"small",color:"error",onClick:()=>T(L.id),sx:{"&:hover":{bgcolor:"error.light",color:"white"}},children:n.jsx(jt,{fontSize:"small"})})})]})})]})},L.id))})]})}),n.jsx(dr,{rowsPerPageOptions:[5,10,25],component:"div",count:W.length,rowsPerPage:d,page:c,onPageChange:j,onRowsPerPageChange:P,sx:{borderTop:"1px solid",borderColor:"grey.200",bgcolor:"grey.50"}})]})]})})]})}function a1(){var u;const{id:e}=Ht(),t=Xe(),[r,s]=v.useState(null),[i,a]=v.useState(!0),[o,l]=v.useState(null);v.useEffect(()=>{(async()=>{try{const h=await fetch(`http://localhost:5004/api/materials/${e}`);if(!h.ok)throw new Error(`HTTP error! status: ${h.status}`);const f=await h.json();s(f)}catch(h){l(h)}finally{a(!1)}})()},[e]);const c=d=>{const f={active:{color:"success",label:"Active"},low_stock:{color:"warning",label:"Low Stock",icon:n.jsx(fi,{fontSize:"small"})},out_of_stock:{color:"error",label:"Out of Stock",icon:n.jsx(fi,{fontSize:"small"})},discontinued:{color:"default",label:"Discontinued"}}[d.status]||{color:"default",label:d.status,icon:null};return n.jsx(We,{label:f.label,color:f.color,icon:f.icon,sx:{fontWeight:500}})};return i?n.jsx(E,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:n.jsx(je,{size:60,thickness:4})}):o?n.jsx(be,{in:!0,children:n.jsxs(ge,{severity:"error",sx:{m:2,borderRadius:2},children:["Error: ",o.message]})}):r?n.jsxs(E,{sx:{width:"100%",maxWidth:1200,mx:"auto",p:{xs:2,sm:3},overflow:"hidden"},children:[n.jsx(be,{in:!0,timeout:600,children:n.jsx(Se,{elevation:0,sx:{mb:4,background:"linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)",color:"white",borderRadius:3,width:"100%"},children:n.jsx(ve,{sx:{p:{xs:3,sm:4}},children:n.jsxs(E,{sx:{display:"flex",justifyContent:"space-between",alignItems:{xs:"flex-start",sm:"center"},flexDirection:{xs:"column",sm:"row"},gap:{xs:3,sm:0}},children:[n.jsxs(E,{sx:{display:"flex",alignItems:"center"},children:[n.jsx(Ce,{sx:{bgcolor:"rgba(255,255,255,0.2)",width:{xs:56,sm:64},height:{xs:56,sm:64},mr:{xs:2,sm:3}},children:n.jsx(nr,{sx:{fontSize:{xs:28,sm:32}}})}),n.jsxs(E,{children:[n.jsx(S,{variant:"h4",sx:{fontWeight:700,mb:1,fontSize:{xs:"1.75rem",sm:"2.125rem"}},children:r.name}),n.jsxs(S,{variant:"h6",sx:{opacity:.9},children:["Material ID: ",r.materialId||r.id]})]})]}),n.jsxs(ze,{direction:{xs:"column",sm:"row"},spacing:2,children:[n.jsx(K,{variant:"outlined",startIcon:n.jsx(Lt,{}),onClick:()=>t("/materials"),sx:{bgcolor:"rgba(255,255,255,0.1)",color:"white",borderColor:"rgba(255,255,255,0.5)","&:hover":{bgcolor:"rgba(255,255,255,0.2)"},width:{xs:"100%",sm:"auto"}},children:"Back"}),n.jsx(K,{variant:"contained",startIcon:n.jsx(wt,{}),onClick:()=>t(`/materials/${e}/edit`),sx:{bgcolor:"rgba(255,255,255,0.2)",color:"white","&:hover":{bgcolor:"rgba(255,255,255,0.3)"},width:{xs:"100%",sm:"auto"}},children:"Edit Material"})]})]})})})}),n.jsxs(k,{container:!0,spacing:4,children:[n.jsx(k,{item:!0,xs:12,md:6,children:n.jsx(He,{in:!0,timeout:800,children:n.jsx(Se,{sx:{height:"100%",border:"1px solid",borderColor:"grey.200"},children:n.jsxs(ve,{sx:{p:4},children:[n.jsxs(E,{sx:{display:"flex",alignItems:"center",mb:3},children:[n.jsx(Ce,{sx:{bgcolor:"primary.main",mr:2},children:n.jsx(wi,{})}),n.jsx(S,{variant:"h6",sx:{fontWeight:600},children:"Basic Information"})]}),n.jsxs(ze,{spacing:3,children:[n.jsxs(E,{children:[n.jsx(S,{variant:"subtitle2",color:"text.secondary",sx:{fontWeight:600},children:"Material ID"}),n.jsx(S,{variant:"body1",sx:{fontWeight:500},children:r.materialId||r.id})]}),n.jsxs(E,{children:[n.jsx(S,{variant:"subtitle2",color:"text.secondary",sx:{fontWeight:600},children:"Name"}),n.jsx(S,{variant:"body1",sx:{fontWeight:500},children:r.name})]}),n.jsxs(E,{children:[n.jsx(S,{variant:"subtitle2",color:"text.secondary",sx:{fontWeight:600},children:"Description"}),n.jsx(S,{variant:"body1",children:r.description||"No description available."})]}),n.jsxs(E,{children:[n.jsx(S,{variant:"subtitle2",color:"text.secondary",sx:{fontWeight:600},children:"Category"}),n.jsx(We,{label:r.category,color:"primary",sx:{mt:1,fontWeight:500}})]}),n.jsxs(E,{children:[n.jsx(S,{variant:"subtitle2",color:"text.secondary",sx:{fontWeight:600},children:"Type"}),n.jsx(S,{variant:"body1",sx:{fontWeight:500},children:r.type})]}),n.jsxs(E,{children:[n.jsx(S,{variant:"subtitle2",color:"text.secondary",sx:{fontWeight:600},children:"Status"}),n.jsx(E,{sx:{mt:1},children:c(r)})]})]})]})})})}),n.jsx(k,{item:!0,xs:12,md:6,children:n.jsx(He,{in:!0,timeout:1e3,children:n.jsx(Se,{sx:{height:"100%",border:"1px solid",borderColor:"grey.200"},children:n.jsxs(ve,{sx:{p:4},children:[n.jsxs(E,{sx:{display:"flex",alignItems:"center",mb:3},children:[n.jsx(Ce,{sx:{bgcolor:"success.main",mr:2},children:n.jsx(Of,{})}),n.jsx(S,{variant:"h6",sx:{fontWeight:600},children:"Inventory Details"})]}),n.jsxs(ze,{spacing:3,children:[n.jsxs(E,{children:[n.jsx(S,{variant:"subtitle2",color:"text.secondary",sx:{fontWeight:600},children:"Stock Quantity"}),n.jsxs(S,{variant:"h5",sx:{fontWeight:700,color:r.status==="out_of_stock"||r.status==="low_stock"?"error.main":r.status==="active"?"success.main":"text.secondary"},children:[r.stockQuantity.toLocaleString()," ",r.unit]})]}),n.jsxs(E,{children:[n.jsx(S,{variant:"subtitle2",color:"text.secondary",sx:{fontWeight:600},children:"Unit of Measure"}),n.jsx(S,{variant:"body1",sx:{fontWeight:500},children:r.unit})]}),n.jsxs(E,{children:[n.jsx(S,{variant:"subtitle2",color:"text.secondary",sx:{fontWeight:600},children:"Reorder Level"}),n.jsx(S,{variant:"body1",sx:{fontWeight:500},children:r.reorderLevel})]}),n.jsxs(E,{children:[n.jsx(S,{variant:"subtitle2",color:"text.secondary",sx:{fontWeight:600},children:"Price"}),n.jsxs(S,{variant:"body1",sx:{fontWeight:500},children:["$",r.price.toLocaleString()]})]}),n.jsxs(E,{children:[n.jsx(S,{variant:"subtitle2",color:"text.secondary",sx:{fontWeight:600},children:"Lead Time"}),n.jsxs(S,{variant:"body1",sx:{fontWeight:500},children:[r.leadTime," days"]})]}),n.jsxs(E,{children:[n.jsx(S,{variant:"subtitle2",color:"text.secondary",sx:{fontWeight:600},children:"Location"}),n.jsx(S,{variant:"body1",sx:{fontWeight:500},children:r.location||"Not specified"})]})]})]})})})}),n.jsx(k,{item:!0,xs:12,children:n.jsx(He,{in:!0,timeout:1200,children:n.jsx(Se,{sx:{border:"1px solid",borderColor:"grey.200"},children:n.jsxs(ve,{sx:{p:4},children:[n.jsxs(E,{sx:{display:"flex",alignItems:"center",mb:3},children:[n.jsx(Ce,{sx:{bgcolor:"info.main",mr:2},children:n.jsx(ji,{})}),n.jsx(S,{variant:"h6",sx:{fontWeight:600},children:"Supplier & Additional Information"})]}),n.jsxs(k,{container:!0,spacing:3,children:[n.jsxs(k,{item:!0,xs:12,sm:6,md:3,children:[n.jsx(S,{variant:"subtitle2",color:"text.secondary",sx:{fontWeight:600},children:"Supplier Name"}),n.jsx(S,{variant:"body1",sx:{fontWeight:500},children:((u=r.supplierInfo)==null?void 0:u.name)||"Not assigned"})]}),n.jsxs(k,{item:!0,xs:12,children:[n.jsx(S,{variant:"subtitle2",color:"text.secondary",sx:{fontWeight:600},children:"Notes"}),n.jsx(S,{variant:"body1",children:r.notes||"No additional notes."})]})]})]})})})})]})]}):n.jsx(be,{in:!0,children:n.jsx(ge,{severity:"info",sx:{m:2,borderRadius:2},children:"Material not found."})})}function o1(){const[e,t]=v.useState([]),[r,s]=v.useState(!0),[i,a]=v.useState(null),[o,l]=v.useState(""),[c,u]=v.useState(0),[d,h]=v.useState(10),f=Xe(),p=async()=>{try{s(!0),a(null);const I=await fetch("http://localhost:5004/api/suppliers");if(!I.ok)throw new Error(`HTTP error! status: ${I.status}`);const M=await I.json();t(M)}catch(I){a(I)}finally{s(!1)}};v.useEffect(()=>{p()},[]);const g=I=>{const W={Active:{color:"success",label:"Active"},Inactive:{color:"default",label:"Inactive"},"On Hold":{color:"warning",label:"On Hold"},Terminated:{color:"error",label:"Terminated"}}[I]||{color:"default",label:I};return n.jsx(We,{label:W.label,color:W.color,size:"small",sx:{fontWeight:500}})},m=I=>{l(I.target.value),u(0)},x=(I,M)=>{u(M)},y=I=>{h(parseInt(I.target.value,10)),u(0)},b=I=>{f(`/suppliers/${I}`)},j=I=>{f(`/suppliers/${I}/edit`)},P=async I=>{if(window.confirm("Are you sure you want to delete this supplier?"))try{const M=await fetch(`http://localhost:5004/api/suppliers/${I}`,{method:"DELETE"});if(!M.ok){const W=await M.json();throw new Error(W.message||`HTTP error! status: ${M.status}`)}alert("Supplier deleted successfully!"),p()}catch(M){a(M),alert(`Failed to delete supplier: ${M.message}`)}},C=()=>{f("/suppliers/new")},D=e.filter(I=>{var M,W,z;return((M=I.name)==null?void 0:M.toLowerCase().includes(o.toLowerCase()))||((W=I.contactPerson)==null?void 0:W.toLowerCase().includes(o.toLowerCase()))||((z=I.email)==null?void 0:z.toLowerCase().includes(o.toLowerCase()))}),T=D.slice(c*d,c*d+d);return r?n.jsx(E,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:n.jsx(je,{size:60,thickness:4})}):i?n.jsx(be,{in:!0,children:n.jsxs(ge,{severity:"error",sx:{m:2,borderRadius:2},children:["Error: ",i.message]})}):n.jsxs(E,{sx:{width:"100%",maxWidth:"100%",mx:"auto",p:{xs:2,sm:3},overflow:"hidden"},children:[n.jsx(be,{in:!0,timeout:600,children:n.jsx(Se,{elevation:0,sx:{mb:4,background:"linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)",color:"white",borderRadius:3,width:"100%"},children:n.jsx(ve,{sx:{p:{xs:3,sm:4}},children:n.jsxs(E,{sx:{display:"flex",justifyContent:"space-between",alignItems:{xs:"flex-start",sm:"center"},flexDirection:{xs:"column",sm:"row"},gap:{xs:3,sm:0}},children:[n.jsxs(E,{sx:{display:"flex",alignItems:"center"},children:[n.jsx(Ce,{sx:{bgcolor:"rgba(255,255,255,0.2)",width:{xs:56,sm:64},height:{xs:56,sm:64},mr:{xs:2,sm:3}},children:n.jsx(ji,{sx:{fontSize:{xs:28,sm:32}}})}),n.jsxs(E,{children:[n.jsx(S,{variant:"h4",sx:{fontWeight:700,mb:1,fontSize:{xs:"1.75rem",sm:"2.125rem"},color:"text.primary"},children:"Supplier Management"}),n.jsx(S,{variant:"h6",sx:{opacity:.8,color:"text.secondary"},children:"Manage supplier relationships and contacts"})]})]}),n.jsx(K,{variant:"contained",size:"large",startIcon:n.jsx(or,{}),onClick:C,sx:{bgcolor:"rgba(255,255,255,0.9)",color:"text.primary","&:hover":{bgcolor:"rgba(255,255,255,1)"},px:4,py:1.5,borderRadius:2,width:{xs:"100%",sm:"auto"}},children:"Add Supplier"})]})})})}),n.jsx(He,{in:!0,timeout:800,children:n.jsxs(Me,{sx:{borderRadius:3,overflow:"hidden",border:"1px solid",borderColor:"grey.200",width:"100%"},children:[n.jsx(E,{sx:{p:3,bgcolor:"grey.50",borderBottom:"1px solid",borderColor:"grey.200"},children:n.jsx(k,{container:!0,spacing:3,children:n.jsx(k,{item:!0,xs:12,md:8,children:n.jsx(H,{fullWidth:!0,label:"Search Suppliers",value:o,onChange:m,InputProps:{startAdornment:n.jsx(Fe,{position:"start",children:n.jsx(Mr,{color:"action"})}),endAdornment:o&&n.jsx(Fe,{position:"end",children:n.jsx(ie,{size:"small",onClick:()=>l(""),children:n.jsx(gr,{})})})},sx:{"& .MuiOutlinedInput-root":{bgcolor:"white"}}})})})}),e.length===0?n.jsx(ge,{severity:"info",sx:{m:3},children:"No suppliers available."}):n.jsxs(n.Fragment,{children:[n.jsx(E,{sx:{width:"100%",overflowX:"auto"},children:n.jsxs(Nt,{sx:{minWidth:800},children:[n.jsx(_t,{children:n.jsxs(Ve,{children:[n.jsx(R,{sx:{fontWeight:600,py:2},children:"Supplier Name"}),n.jsx(R,{sx:{fontWeight:600,py:2},children:"Contact Person"}),n.jsx(R,{sx:{fontWeight:600,py:2},children:"Email"}),n.jsx(R,{sx:{fontWeight:600,py:2},children:"Phone"}),n.jsx(R,{sx:{fontWeight:600,py:2},children:"Status"}),n.jsx(R,{sx:{fontWeight:600,py:2},align:"right",children:"Actions"})]})}),n.jsx(At,{children:T.map((I,M)=>n.jsx(be,{in:!0,timeout:300+M*100,children:n.jsxs(Ve,{sx:{"&:hover":{bgcolor:"grey.50",transform:"scale(1.001)",transition:"all 0.2s ease-in-out"},"&:last-child td":{border:0}},children:[n.jsx(R,{sx:{py:2},children:n.jsx(S,{variant:"body1",sx:{fontWeight:600,color:"primary.main"},children:I.name})}),n.jsx(R,{sx:{py:2},children:n.jsx(S,{variant:"body1",sx:{fontWeight:500},children:I.contactPerson||"N/A"})}),n.jsx(R,{sx:{py:2},children:n.jsx(S,{variant:"body2",children:I.email||"N/A"})}),n.jsx(R,{sx:{py:2},children:n.jsx(S,{variant:"body2",children:I.phone||"N/A"})}),n.jsx(R,{sx:{py:2},children:g(I.status||"Active")}),n.jsx(R,{align:"right",sx:{py:2},children:n.jsxs(ze,{direction:"row",spacing:1,justifyContent:"flex-end",children:[n.jsx(Ee,{title:"View Details",children:n.jsx(ie,{size:"small",color:"primary",onClick:()=>b(I.id),sx:{"&:hover":{bgcolor:"primary.light",color:"white"}},children:n.jsx(Gt,{fontSize:"small"})})}),n.jsx(Ee,{title:"Edit",children:n.jsx(ie,{size:"small",color:"info",onClick:()=>j(I.id),sx:{"&:hover":{bgcolor:"info.light",color:"white"}},children:n.jsx(wt,{fontSize:"small"})})}),n.jsx(Ee,{title:"Delete",children:n.jsx(ie,{size:"small",color:"error",onClick:()=>P(I.id),sx:{"&:hover":{bgcolor:"error.light",color:"white"}},children:n.jsx(jt,{fontSize:"small"})})})]})})]})},I.id))})]})}),n.jsx(dr,{rowsPerPageOptions:[5,10,25],component:"div",count:D.length,rowsPerPage:d,page:c,onPageChange:x,onRowsPerPageChange:y,sx:{borderTop:"1px solid",borderColor:"grey.200",bgcolor:"grey.50"}})]})]})})]})}function l1(){const{id:e}=Ht(),t=Xe(),[r,s]=v.useState(null),[i,a]=v.useState(!0),[o,l]=v.useState(null);v.useEffect(()=>{(async()=>{try{const d=await fetch(`http://localhost:5004/api/suppliers/${e}`);if(!d.ok)throw new Error(`HTTP error! status: ${d.status}`);const h=await d.json();s(h)}catch(d){l(d)}finally{a(!1)}})()},[e]);const c=u=>{const h={Active:{color:"success",label:"Active"},Inactive:{color:"default",label:"Inactive"},"On Hold":{color:"warning",label:"On Hold"},Terminated:{color:"error",label:"Terminated"}}[u]||{color:"default",label:u};return n.jsx(We,{label:h.label,color:h.color,sx:{fontWeight:500}})};return i?n.jsx(E,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:n.jsx(je,{size:60,thickness:4})}):o?n.jsx(be,{in:!0,children:n.jsxs(ge,{severity:"error",sx:{m:2,borderRadius:2},children:["Error: ",o.message]})}):r?n.jsxs(E,{sx:{width:"100%",maxWidth:1200,mx:"auto",p:{xs:2,sm:3},overflow:"hidden"},children:[n.jsx(be,{in:!0,timeout:600,children:n.jsx(Se,{elevation:0,sx:{mb:4,background:"linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)",color:"white",borderRadius:3,width:"100%"},children:n.jsx(ve,{sx:{p:{xs:3,sm:4}},children:n.jsxs(E,{sx:{display:"flex",justifyContent:"space-between",alignItems:{xs:"flex-start",sm:"center"},flexDirection:{xs:"column",sm:"row"},gap:{xs:3,sm:0}},children:[n.jsxs(E,{sx:{display:"flex",alignItems:"center"},children:[n.jsx(Ce,{sx:{bgcolor:"rgba(255,255,255,0.2)",width:{xs:56,sm:64},height:{xs:56,sm:64},mr:{xs:2,sm:3}},children:n.jsx(ji,{sx:{fontSize:{xs:28,sm:32}}})}),n.jsxs(E,{children:[n.jsx(S,{variant:"h4",sx:{fontWeight:700,mb:1,fontSize:{xs:"1.75rem",sm:"2.125rem"},color:"text.primary"},children:r.name}),n.jsx(S,{variant:"h6",sx:{opacity:.8,color:"text.secondary"},children:"Supplier Details and Information"})]})]}),n.jsxs(ze,{direction:{xs:"column",sm:"row"},spacing:2,children:[n.jsx(K,{variant:"outlined",startIcon:n.jsx(Lt,{}),onClick:()=>t("/suppliers"),sx:{bgcolor:"rgba(255,255,255,0.1)",color:"text.primary",borderColor:"rgba(255,255,255,0.5)","&:hover":{bgcolor:"rgba(255,255,255,0.2)"},width:{xs:"100%",sm:"auto"}},children:"Back"}),n.jsx(K,{variant:"contained",startIcon:n.jsx(wt,{}),onClick:()=>t(`/suppliers/${e}/edit`),sx:{bgcolor:"rgba(255,255,255,0.9)",color:"text.primary","&:hover":{bgcolor:"rgba(255,255,255,1)"},width:{xs:"100%",sm:"auto"}},children:"Edit Supplier"})]})]})})})}),n.jsxs(k,{container:!0,spacing:4,children:[n.jsx(k,{item:!0,xs:12,md:6,children:n.jsx(He,{in:!0,timeout:800,children:n.jsx(Se,{sx:{height:"100%",border:"1px solid",borderColor:"grey.200"},children:n.jsxs(ve,{sx:{p:4},children:[n.jsxs(E,{sx:{display:"flex",alignItems:"center",mb:3},children:[n.jsx(Ce,{sx:{bgcolor:"primary.main",mr:2},children:n.jsx(wi,{})}),n.jsx(S,{variant:"h6",sx:{fontWeight:600},children:"Basic Information"})]}),n.jsxs(ze,{spacing:3,children:[n.jsxs(E,{children:[n.jsx(S,{variant:"subtitle2",color:"text.secondary",sx:{fontWeight:600},children:"Supplier ID"}),n.jsx(S,{variant:"body1",sx:{fontWeight:500},children:r.supplierId||r.id})]}),n.jsxs(E,{children:[n.jsx(S,{variant:"subtitle2",color:"text.secondary",sx:{fontWeight:600},children:"Company Name"}),n.jsx(S,{variant:"body1",sx:{fontWeight:500},children:r.name})]}),n.jsxs(E,{children:[n.jsx(S,{variant:"subtitle2",color:"text.secondary",sx:{fontWeight:600},children:"Description"}),n.jsx(S,{variant:"body1",children:r.description||"No description available."})]}),n.jsxs(E,{children:[n.jsx(S,{variant:"subtitle2",color:"text.secondary",sx:{fontWeight:600},children:"Status"}),n.jsx(E,{sx:{mt:1},children:c(r.status||"Active")})]})]})]})})})}),n.jsx(k,{item:!0,xs:12,md:6,children:n.jsx(He,{in:!0,timeout:1e3,children:n.jsx(Se,{sx:{height:"100%",border:"1px solid",borderColor:"grey.200"},children:n.jsxs(ve,{sx:{p:4},children:[n.jsxs(E,{sx:{display:"flex",alignItems:"center",mb:3},children:[n.jsx(Ce,{sx:{bgcolor:"success.main",mr:2},children:n.jsx(Kb,{})}),n.jsx(S,{variant:"h6",sx:{fontWeight:600},children:"Contact Information"})]}),n.jsxs(ze,{spacing:3,children:[n.jsxs(E,{children:[n.jsx(S,{variant:"subtitle2",color:"text.secondary",sx:{fontWeight:600},children:"Contact Person"}),n.jsx(S,{variant:"body1",sx:{fontWeight:500},children:r.contactPerson||"Not specified"})]}),n.jsxs(E,{children:[n.jsx(S,{variant:"subtitle2",color:"text.secondary",sx:{fontWeight:600},children:"Email Address"}),n.jsx(S,{variant:"body1",sx:{fontWeight:500},children:r.email||"Not specified"})]}),n.jsxs(E,{children:[n.jsx(S,{variant:"subtitle2",color:"text.secondary",sx:{fontWeight:600},children:"Phone Number"}),n.jsx(S,{variant:"body1",sx:{fontWeight:500},children:r.phone||"Not specified"})]}),n.jsxs(E,{children:[n.jsx(S,{variant:"subtitle2",color:"text.secondary",sx:{fontWeight:600},children:"Website"}),n.jsx(S,{variant:"body1",sx:{fontWeight:500},children:r.website||"Not specified"})]})]})]})})})}),n.jsx(k,{item:!0,xs:12,children:n.jsx(He,{in:!0,timeout:1200,children:n.jsx(Se,{sx:{border:"1px solid",borderColor:"grey.200"},children:n.jsxs(ve,{sx:{p:4},children:[n.jsxs(E,{sx:{display:"flex",alignItems:"center",mb:3},children:[n.jsx(Ce,{sx:{bgcolor:"info.main",mr:2},children:n.jsx(nv,{})}),n.jsx(S,{variant:"h6",sx:{fontWeight:600},children:"Address Information"})]}),n.jsxs(k,{container:!0,spacing:3,children:[n.jsxs(k,{item:!0,xs:12,sm:6,md:4,children:[n.jsx(S,{variant:"subtitle2",color:"text.secondary",sx:{fontWeight:600},children:"Street Address"}),n.jsx(S,{variant:"body1",sx:{fontWeight:500},children:r.address||"Not specified"})]}),n.jsxs(k,{item:!0,xs:12,sm:6,md:4,children:[n.jsx(S,{variant:"subtitle2",color:"text.secondary",sx:{fontWeight:600},children:"City"}),n.jsx(S,{variant:"body1",sx:{fontWeight:500},children:r.city||"Not specified"})]}),n.jsxs(k,{item:!0,xs:12,sm:6,md:4,children:[n.jsx(S,{variant:"subtitle2",color:"text.secondary",sx:{fontWeight:600},children:"Country"}),n.jsx(S,{variant:"body1",sx:{fontWeight:500},children:r.country||"Not specified"})]}),n.jsxs(k,{item:!0,xs:12,children:[n.jsx(S,{variant:"subtitle2",color:"text.secondary",sx:{fontWeight:600},children:"Notes"}),n.jsx(S,{variant:"body1",children:r.notes||"No additional notes."})]})]})]})})})})]})]}):n.jsx(be,{in:!0,children:n.jsx(ge,{severity:"info",sx:{m:2,borderRadius:2},children:"Supplier not found."})})}function c1(){const[e,t]=v.useState([]),[r,s]=v.useState(!0),[i,a]=v.useState(null),[o,l]=v.useState(""),[c,u]=v.useState(0),[d,h]=v.useState(25),[f,p]=v.useState(""),[g,m]=v.useState(""),[x,y]=v.useState(""),[b,j]=v.useState(0),[P,C]=v.useState({}),D=async()=>{try{s(!0),a(null);const w=new URLSearchParams({page:c+1,limit:d});f&&w.append("type",f),g&&w.append("startDate",g),x&&w.append("endDate",x),o&&w.append("referenceNumber",o);const _=await fetch(`http://localhost:5004/api/transactions/material-transactions?${w}`);if(!_.ok)throw new Error(`HTTP error! status: ${_.status}`);const N=await _.json();if(N.success)t(N.data),j(N.pagination.totalTransactions),C(N.summary);else throw new Error(N.message||"Failed to fetch transactions")}catch(w){a(w),console.error("Error fetching transactions:",w)}finally{s(!1)}};v.useEffect(()=>{D()},[c,d,f,g,x]),v.useEffect(()=>{const w=setTimeout(()=>{o!==void 0&&(u(0),D())},500);return()=>clearTimeout(w)},[o]);const T=w=>{switch(w==null?void 0:w.toLowerCase()){case"receipt":return n.jsx(Ff,{sx:{fontSize:18}});case"purchase":return n.jsx(lv,{sx:{fontSize:18}});case"issue":return n.jsx(uv,{sx:{fontSize:18}});case"adjustment":return n.jsx(cv,{sx:{fontSize:18}});case"return":return n.jsx(oc,{sx:{fontSize:18}});case"transfer":return n.jsx(rv,{sx:{fontSize:18}});case"scrap":return n.jsx(jt,{sx:{fontSize:18}});default:return n.jsx(xr,{sx:{fontSize:18}})}},I=w=>{const N={receipt:{color:"success",label:"Receipt",bgcolor:"#e8f5e8"},purchase:{color:"primary",label:"Purchase",bgcolor:"#e8f4fd"},issue:{color:"error",label:"Issue",bgcolor:"#ffebee"},adjustment:{color:"info",label:"Adjustment",bgcolor:"#e3f2fd"},return:{color:"warning",label:"Return",bgcolor:"#fff3e0"},transfer:{color:"secondary",label:"Transfer",bgcolor:"#f3e5f5"},scrap:{color:"default",label:"Scrap",bgcolor:"#f5f5f5"}}[w==null?void 0:w.toLowerCase()]||{color:"default",label:w,bgcolor:"#f5f5f5"};return n.jsx(We,{icon:T(w),label:N.label,size:"small",sx:{fontWeight:500,bgcolor:N.bgcolor,color:N.color==="default"?"text.primary":`${N.color}.main`,border:"1px solid",borderColor:N.color==="default"?"grey.300":`${N.color}.light`}})},M=(w,_)=>(w==null?void 0:w.toLowerCase())==="issue"||(w==null?void 0:w.toLowerCase())==="scrap"?"error.main":(w==null?void 0:w.toLowerCase())==="receipt"||(w==null?void 0:w.toLowerCase())==="purchase"||(w==null?void 0:w.toLowerCase())==="return"?"success.main":"text.primary",W=(w,_)=>(w==null?void 0:w.toLowerCase())==="issue"||(w==null?void 0:w.toLowerCase())==="scrap"?`-${Math.abs(_||0).toLocaleString()}`:(w==null?void 0:w.toLowerCase())==="receipt"||(w==null?void 0:w.toLowerCase())==="purchase"||(w==null?void 0:w.toLowerCase())==="return"?`+${Math.abs(_||0).toLocaleString()}`:(w==null?void 0:w.toLowerCase())==="adjustment"?_>=0?`+${_.toLocaleString()}`:_.toLocaleString():(_||0).toLocaleString(),z=(w,_)=>{u(_)},L=w=>{h(parseInt(w.target.value,10)),u(0)},U=()=>{l(""),p(""),m(""),y(""),u(0)};return r?n.jsx(E,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:n.jsx(je,{size:60,thickness:4})}):i?n.jsx(be,{in:!0,children:n.jsxs(ge,{severity:"error",sx:{m:2,borderRadius:2},children:["Error: ",i.message,n.jsx(K,{startIcon:n.jsx(hi,{}),onClick:D,sx:{ml:2},children:"Retry"})]})}):n.jsxs(E,{sx:{width:"100%",maxWidth:"100%",mx:"auto",p:{xs:2,sm:3},overflow:"hidden"},children:[n.jsx(be,{in:!0,timeout:600,children:n.jsx(Se,{elevation:0,sx:{mb:4,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",borderRadius:3,width:"100%"},children:n.jsx(ve,{sx:{p:{xs:3,sm:4}},children:n.jsxs(E,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[n.jsxs(E,{sx:{display:"flex",alignItems:"center"},children:[n.jsx(Ce,{sx:{bgcolor:"rgba(255,255,255,0.2)",width:{xs:56,sm:64},height:{xs:56,sm:64},mr:{xs:2,sm:3}},children:n.jsx(ev,{sx:{fontSize:{xs:28,sm:32}}})}),n.jsxs(E,{children:[n.jsx(S,{variant:"h4",sx:{fontWeight:700,mb:1,fontSize:{xs:"1.75rem",sm:"2.125rem"}},children:"Material Transaction History"}),n.jsx(S,{variant:"h6",sx:{opacity:.9},children:"Track all material inventory movements and changes"})]})]}),n.jsxs(E,{sx:{textAlign:"right"},children:[n.jsx(S,{variant:"h6",sx:{fontWeight:600},children:b.toLocaleString()}),n.jsx(S,{variant:"body2",sx:{opacity:.9},children:"Total Transactions"})]})]})})})}),n.jsx(He,{in:!0,timeout:800,children:n.jsxs(Me,{sx:{borderRadius:3,overflow:"hidden",border:"1px solid",borderColor:"grey.200",width:"100%"},children:[n.jsx(E,{sx:{p:3,bgcolor:"grey.50",borderBottom:"1px solid",borderColor:"grey.200"},children:n.jsxs(k,{container:!0,spacing:2,children:[n.jsx(k,{item:!0,xs:12,md:3,children:n.jsx(H,{fullWidth:!0,size:"small",label:"Search Reference",value:o,onChange:w=>l(w.target.value),InputProps:{startAdornment:n.jsx(Fe,{position:"start",children:n.jsx(Mr,{color:"action"})}),endAdornment:o&&n.jsx(Fe,{position:"end",children:n.jsx(ie,{size:"small",onClick:()=>l(""),children:n.jsx(gr,{})})})},sx:{"& .MuiOutlinedInput-root":{bgcolor:"white"}}})}),n.jsx(k,{item:!0,xs:12,md:2,children:n.jsxs(Ge,{fullWidth:!0,size:"small",children:[n.jsx(Ke,{children:"Transaction Type"}),n.jsxs(Je,{value:f,onChange:w=>p(w.target.value),label:"Transaction Type",sx:{"& .MuiOutlinedInput-root":{bgcolor:"white"}},children:[n.jsx(V,{value:"",children:"All Types"}),n.jsx(V,{value:"Purchase",children:"Purchase"}),n.jsx(V,{value:"Receipt",children:"Receipt"}),n.jsx(V,{value:"Issue",children:"Issue"}),n.jsx(V,{value:"Adjustment",children:"Adjustment"}),n.jsx(V,{value:"Return",children:"Return"}),n.jsx(V,{value:"Transfer",children:"Transfer"}),n.jsx(V,{value:"Scrap",children:"Scrap"})]})]})}),n.jsx(k,{item:!0,xs:12,md:2,children:n.jsx(H,{fullWidth:!0,size:"small",label:"Start Date",type:"date",value:g,onChange:w=>m(w.target.value),InputLabelProps:{shrink:!0},sx:{"& .MuiOutlinedInput-root":{bgcolor:"white"}}})}),n.jsx(k,{item:!0,xs:12,md:2,children:n.jsx(H,{fullWidth:!0,size:"small",label:"End Date",type:"date",value:x,onChange:w=>y(w.target.value),InputLabelProps:{shrink:!0},sx:{"& .MuiOutlinedInput-root":{bgcolor:"white"}}})}),n.jsx(k,{item:!0,xs:12,md:3,children:n.jsxs(ze,{direction:"row",spacing:1,children:[n.jsx(K,{variant:"outlined",startIcon:n.jsx(gr,{}),onClick:U,size:"small",children:"Clear Filters"}),n.jsx(K,{variant:"contained",startIcon:n.jsx(hi,{}),onClick:D,size:"small",children:"Refresh"})]})})]})}),e.length===0?n.jsx(ge,{severity:"info",sx:{m:3},children:"No transaction history available with current filters."}):n.jsxs(n.Fragment,{children:[n.jsx(E,{sx:{width:"100%",overflowX:"auto"},children:n.jsxs(Nt,{sx:{minWidth:1200},children:[n.jsx(_t,{children:n.jsxs(Ve,{sx:{bgcolor:"grey.50"},children:[n.jsx(R,{sx:{fontWeight:700,py:2},children:"Transaction ID"}),n.jsx(R,{sx:{fontWeight:700,py:2},children:"Date"}),n.jsx(R,{sx:{fontWeight:700,py:2},children:"Material"}),n.jsx(R,{sx:{fontWeight:700,py:2},children:"Type"}),n.jsx(R,{sx:{fontWeight:700,py:2},children:"Quantity"}),n.jsx(R,{sx:{fontWeight:700,py:2},children:"Unit Price"}),n.jsx(R,{sx:{fontWeight:700,py:2},children:"Total"}),n.jsx(R,{sx:{fontWeight:700,py:2},children:"Reference"}),n.jsx(R,{sx:{fontWeight:700,py:2},children:"Supplier"})]})}),n.jsx(At,{children:e.map((w,_)=>n.jsx(be,{in:!0,timeout:300+_*50,children:n.jsxs(Ve,{sx:{"&:hover":{bgcolor:"grey.50",transform:"scale(1.001)",transition:"all 0.2s ease-in-out"},"&:last-child td":{border:0}},children:[n.jsxs(R,{sx:{py:2},children:[n.jsx(S,{variant:"body2",sx:{fontWeight:500,fontFamily:"monospace"},children:w.transactionId}),w.batchNumber&&n.jsxs(S,{variant:"caption",color:"text.secondary",children:["Batch: ",w.batchNumber]})]}),n.jsxs(R,{sx:{py:2},children:[n.jsx(S,{variant:"body2",sx:{fontWeight:500},children:new Date(w.date).toLocaleDateString("id-ID")}),n.jsx(S,{variant:"caption",color:"text.secondary",children:new Date(w.date).toLocaleTimeString("id-ID")})]}),n.jsxs(R,{sx:{py:2},children:[n.jsx(S,{variant:"body1",sx:{fontWeight:600,color:"primary.main"},children:w.materialName}),n.jsxs(S,{variant:"caption",color:"text.secondary",children:["ID: ",w.materialId]})]}),n.jsx(R,{sx:{py:2},children:I(w.type)}),n.jsxs(R,{sx:{py:2},children:[n.jsx(S,{variant:"body1",sx:{fontWeight:600,color:M(w.type,w.quantity)},children:W(w.type,w.quantity)}),n.jsx(S,{variant:"caption",color:"text.secondary",children:w.unit})]}),n.jsx(R,{sx:{py:2},children:n.jsx(S,{variant:"body2",sx:{fontWeight:500},children:w.unitPrice?`Rp ${Number(w.unitPrice).toLocaleString()}`:"-"})}),n.jsx(R,{sx:{py:2},children:n.jsx(S,{variant:"body2",sx:{fontWeight:600},children:w.totalPrice?`Rp ${Number(w.totalPrice).toLocaleString()}`:"-"})}),n.jsxs(R,{sx:{py:2},children:[n.jsx(S,{variant:"body2",sx:{fontWeight:500},children:w.reference||"-"}),w.description&&n.jsx(Ee,{title:w.description,children:n.jsx(S,{variant:"caption",color:"text.secondary",sx:{display:"block",maxWidth:150,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:w.description})})]}),n.jsxs(R,{sx:{py:2},children:[n.jsx(S,{variant:"body2",children:w.supplier||"-"}),w.receivedBy&&n.jsxs(S,{variant:"caption",color:"text.secondary",children:["by: ",w.receivedBy]})]})]})},w.id))})]})}),n.jsx(dr,{rowsPerPageOptions:[10,25,50,100],component:"div",count:b,rowsPerPage:d,page:c,onPageChange:z,onRowsPerPageChange:L,sx:{borderTop:"1px solid",borderColor:"grey.200",bgcolor:"grey.50"}})]})]})})]})}const u1="http://localhost:5004/api",cp={getAllSuppliers:async()=>{try{return(await ye.get(`${u1}/suppliers`)).data}catch(e){throw console.error("Error fetching suppliers:",e),e}}};function d1(){const[e,t]=v.useState({name:"",description:"",category:"",type:"",unit:"",stockQuantity:0,reorderLevel:10,price:0,leadTime:0,location:"",supplierId:"",status:"active",notes:""}),[r,s]=v.useState(!1),[i,a]=v.useState(null),o=Xe(),[l,c]=v.useState([]),[u,d]=v.useState(!0);v.useEffect(()=>{(async()=>{try{d(!0);const x=await cp.getAllSuppliers();c(x)}catch(x){console.error("Error fetching suppliers:",x)}finally{d(!1)}})()},[]);const h=["Raw Material","Component","Work-in-Progress (WIP)","Finished Goods","Packaging Material","Consumable","Spare Part","Tool"],f=["Kilogram (kg)","Gram (g)","Liter (L)","Milliliter (mL)","Pieces (pcs)","Meter (m)","Square Meter (m²)","Cubic Meter (m³)","Ton"],p=m=>{const{name:x,value:y}=m.target;t(b=>({...b,[x]:y}))},g=async m=>{m.preventDefault(),s(!0),a(null);try{const x=await fetch("http://localhost:5004/api/materials",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!x.ok){const b=await x.json();throw new Error(b.message||`HTTP error! status: ${x.status}`)}const y=await x.json();alert("Material added successfully!"),o("/materials")}catch(x){a(x),alert(`Failed to add material: ${x.message}`)}finally{s(!1)}};return n.jsxs(E,{sx:{width:"100%",maxWidth:1200,mx:"auto",p:{xs:2,sm:3},overflow:"hidden"},children:[n.jsx(be,{in:!0,timeout:600,children:n.jsx(Se,{elevation:0,sx:{mb:4,background:"linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)",color:"white",borderRadius:3,width:"100%"},children:n.jsx(ve,{sx:{p:{xs:3,sm:4}},children:n.jsxs(E,{sx:{display:"flex",alignItems:"center"},children:[n.jsx(Ce,{sx:{bgcolor:"rgba(255,255,255,0.2)",width:{xs:56,sm:64},height:{xs:56,sm:64},mr:{xs:2,sm:3}},children:n.jsx(nr,{sx:{fontSize:{xs:28,sm:32}}})}),n.jsxs(E,{children:[n.jsx(S,{variant:"h4",sx:{fontWeight:700,mb:1,fontSize:{xs:"1.75rem",sm:"2.125rem"}},children:"Add New Material"}),n.jsx(S,{variant:"h6",sx:{opacity:.9},children:"Create a new material entry for inventory management"})]})]})})})}),n.jsx(E,{sx:{mb:3},children:n.jsx(K,{startIcon:n.jsx(Lt,{}),onClick:()=>o("/materials"),sx:{color:"text.secondary","&:hover":{bgcolor:"grey.100"}},children:"Back to Materials"})}),i&&n.jsxs(ge,{severity:"error",sx:{mb:3},children:["Error: ",i.message]}),n.jsx(He,{in:!0,timeout:800,children:n.jsx(Me,{component:"form",onSubmit:g,sx:{borderRadius:3,overflow:"hidden",border:"1px solid",borderColor:"grey.200",width:"100%"},children:n.jsxs(E,{sx:{p:4},children:[n.jsx(S,{variant:"h6",sx:{mb:3,fontWeight:600,color:"text.primary"},children:"Material Information"}),n.jsxs(k,{container:!0,spacing:3,children:[n.jsx(k,{item:!0,xs:12,sm:6,children:n.jsx(H,{fullWidth:!0,label:"Material Name",name:"name",value:e.name,onChange:p,required:!0,sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}),n.jsx(k,{item:!0,xs:12,sm:6,children:n.jsxs(Ge,{fullWidth:!0,required:!0,children:[n.jsx(Ke,{children:"Category"}),n.jsx(Je,{name:"category",value:e.category,onChange:p,label:"Category",sx:{"& .MuiOutlinedInput-root":{borderRadius:2}},children:h.map(m=>n.jsx(V,{value:m,children:m},m))})]})}),n.jsx(k,{item:!0,xs:12,sm:6,children:n.jsx(H,{fullWidth:!0,label:"Type",name:"type",value:e.type,onChange:p,required:!0,sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}),n.jsx(k,{item:!0,xs:12,sm:6,children:n.jsxs(Ge,{fullWidth:!0,required:!0,children:[n.jsx(Ke,{children:"Unit of Measure"}),n.jsx(Je,{name:"unit",value:e.unit,onChange:p,label:"Unit of Measure",sx:{"& .MuiOutlinedInput-root":{borderRadius:2}},children:f.map(m=>n.jsx(V,{value:m,children:m},m))})]})}),n.jsx(k,{item:!0,xs:12,sm:6,children:n.jsx(H,{fullWidth:!0,label:"Stock Quantity",name:"stockQuantity",type:"number",value:e.stockQuantity,onChange:p,sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}),n.jsx(k,{item:!0,xs:12,sm:6,children:n.jsx(H,{fullWidth:!0,label:"Reorder Level",name:"reorderLevel",type:"number",value:e.reorderLevel,onChange:p,sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}),n.jsx(k,{item:!0,xs:12,sm:6,children:n.jsx(H,{fullWidth:!0,label:"Price",name:"price",type:"number",step:"0.01",value:e.price,onChange:p,sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}),n.jsx(k,{item:!0,xs:12,sm:6,children:n.jsx(H,{fullWidth:!0,label:"Lead Time (days)",name:"leadTime",type:"number",value:e.leadTime,onChange:p,sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}),n.jsx(k,{item:!0,xs:12,sm:6,children:n.jsx(H,{fullWidth:!0,label:"Location",name:"location",value:e.location,onChange:p,sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}),n.jsx(k,{item:!0,xs:12,sm:6,children:n.jsxs(Ge,{fullWidth:!0,disabled:u,children:[n.jsx(Ke,{children:"Supplier"}),n.jsxs(Je,{name:"supplierId",value:e.supplierId,onChange:p,label:"Supplier",sx:{"& .MuiOutlinedInput-root":{borderRadius:2}},children:[n.jsx(V,{value:"",children:"Pilih Supplier"}),l.map(m=>n.jsx(V,{value:m.id,children:m.name},m.id))]})]})}),n.jsx(k,{item:!0,xs:12,sm:6,children:n.jsxs(Ge,{fullWidth:!0,children:[n.jsx(Ke,{children:"Status"}),n.jsxs(Je,{name:"status",value:e.status,onChange:p,label:"Status",sx:{"& .MuiOutlinedInput-root":{borderRadius:2}},children:[n.jsx(V,{value:"active",children:"Active"}),n.jsx(V,{value:"discontinued",children:"Discontinued"}),n.jsx(V,{value:"out_of_stock",children:"Out of Stock"})]})]})}),n.jsx(k,{item:!0,xs:12,children:n.jsx(H,{fullWidth:!0,label:"Description",name:"description",value:e.description,onChange:p,multiline:!0,rows:3,sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}),n.jsx(k,{item:!0,xs:12,children:n.jsx(H,{fullWidth:!0,label:"Notes",name:"notes",value:e.notes,onChange:p,multiline:!0,rows:3,sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}),n.jsx(k,{item:!0,xs:12,children:n.jsxs(ze,{direction:"row",spacing:2,sx:{mt:2},children:[n.jsx(K,{variant:"contained",color:"primary",size:"large",startIcon:r?n.jsx(je,{size:20,color:"inherit"}):n.jsx(ir,{}),type:"submit",disabled:r,sx:{px:4},children:r?"Saving...":"Save Material"}),n.jsx(K,{variant:"outlined",size:"large",onClick:()=>o("/materials"),sx:{px:4},children:"Cancel"})]})})]})]})})})]})}function h1(){const{id:e}=Ht(),t=Xe(),[r,s]=v.useState({materialId:"",name:"",description:"",category:"",type:"",unit:"",stockQuantity:0,reorderLevel:10,price:0,leadTime:0,location:"",supplierId:"",status:"active",notes:""}),[i,a]=v.useState(!0),[o,l]=v.useState(!1),[c,u]=v.useState(null),[d,h]=v.useState([]),[f,p]=v.useState(!0),g=["Raw Material","Component","Work-in-Progress (WIP)","Finished Goods","Packaging Material","Consumable","Spare Part","Tool"],m=["Kilogram (kg)","Gram (g)","Liter (L)","Milliliter (mL)","Pieces (pcs)","Meter (m)","Square Meter (m²)","Cubic Meter (m³)","Ton"];v.useEffect(()=>{(async()=>{try{const j=await fetch(`http://localhost:5004/api/materials/${e}`);if(!j.ok)throw new Error(`HTTP error! status: ${j.status}`);const P=await j.json();s(P),p(!0);const C=await cp.getAllSuppliers();h(C)}catch(j){u(j)}finally{a(!1),p(!1)}})()},[e]);const x=b=>{const{name:j,value:P}=b.target;s(C=>({...C,[j]:P}))},y=async b=>{b.preventDefault(),l(!0),u(null);try{const j=await fetch(`http://localhost:5004/api/materials/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!j.ok){const P=await j.json();throw new Error(P.message||`HTTP error! status: ${j.status}`)}alert("Material updated successfully!"),t("/materials")}catch(j){u(j),alert(`Failed to update material: ${j.message}`)}finally{l(!1)}};return i?n.jsx(E,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:n.jsx(je,{size:60,thickness:4})}):c&&!r.name?n.jsx(be,{in:!0,children:n.jsxs(ge,{severity:"error",sx:{m:2,borderRadius:2},children:["Error: ",c.message]})}):n.jsxs(E,{sx:{width:"100%",maxWidth:1200,mx:"auto",p:{xs:2,sm:3},overflow:"hidden"},children:[n.jsx(be,{in:!0,timeout:600,children:n.jsx(Se,{elevation:0,sx:{mb:4,background:"linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)",color:"white",borderRadius:3,width:"100%"},children:n.jsx(ve,{sx:{p:{xs:3,sm:4}},children:n.jsxs(E,{sx:{display:"flex",alignItems:"center"},children:[n.jsx(Ce,{sx:{bgcolor:"rgba(255,255,255,0.2)",width:{xs:56,sm:64},height:{xs:56,sm:64},mr:{xs:2,sm:3}},children:n.jsx(nr,{sx:{fontSize:{xs:28,sm:32}}})}),n.jsxs(E,{children:[n.jsx(S,{variant:"h4",sx:{fontWeight:700,mb:1,fontSize:{xs:"1.75rem",sm:"2.125rem"}},children:"Edit Material"}),n.jsx(S,{variant:"h6",sx:{opacity:.9},children:"Update material information and inventory details"})]})]})})})}),n.jsx(E,{sx:{mb:3},children:n.jsx(K,{startIcon:n.jsx(Lt,{}),onClick:()=>t("/materials"),sx:{color:"text.secondary","&:hover":{bgcolor:"grey.100"}},children:"Back to Materials"})}),c&&n.jsxs(ge,{severity:"error",sx:{mb:3},children:["Error: ",c.message]}),n.jsx(He,{in:!0,timeout:800,children:n.jsx(Me,{component:"form",onSubmit:y,sx:{borderRadius:3,overflow:"hidden",border:"1px solid",borderColor:"grey.200",width:"100%"},children:n.jsxs(E,{sx:{p:4},children:[n.jsx(S,{variant:"h6",sx:{mb:3,fontWeight:600,color:"text.primary"},children:"Material Information"}),n.jsxs(k,{container:!0,spacing:3,children:[n.jsx(k,{item:!0,xs:12,sm:6,children:n.jsx(H,{fullWidth:!0,label:"Material ID",name:"materialId",value:r.materialId||"",onChange:x,InputProps:{readOnly:!0},sx:{"& .MuiOutlinedInput-root":{borderRadius:2,bgcolor:"grey.50"}}})}),n.jsx(k,{item:!0,xs:12,sm:6,children:n.jsx(H,{fullWidth:!0,label:"Material Name",name:"name",value:r.name||"",onChange:x,required:!0,sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}),n.jsx(k,{item:!0,xs:12,sm:6,children:n.jsxs(Ge,{fullWidth:!0,required:!0,children:[n.jsx(Ke,{children:"Category"}),n.jsx(Je,{name:"category",value:r.category||"",onChange:x,label:"Category",sx:{"& .MuiOutlinedInput-root":{borderRadius:2}},children:g.map(b=>n.jsx(V,{value:b,children:b},b))})]})}),n.jsx(k,{item:!0,xs:12,sm:6,children:n.jsx(H,{fullWidth:!0,label:"Type",name:"type",value:r.type||"",onChange:x,required:!0,sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}),n.jsx(k,{item:!0,xs:12,sm:6,children:n.jsxs(Ge,{fullWidth:!0,required:!0,children:[n.jsx(Ke,{children:"Unit of Measure"}),n.jsx(Je,{name:"unit",value:r.unit||"",onChange:x,label:"Unit of Measure",sx:{"& .MuiOutlinedInput-root":{borderRadius:2}},children:m.map(b=>n.jsx(V,{value:b,children:b},b))})]})}),n.jsx(k,{item:!0,xs:12,sm:6,children:n.jsx(H,{fullWidth:!0,label:"Stock Quantity",name:"stockQuantity",type:"number",value:r.stockQuantity||0,onChange:x,InputProps:{readOnly:!0},sx:{"& .MuiOutlinedInput-root":{borderRadius:2,bgcolor:"grey.50"}}})}),n.jsx(k,{item:!0,xs:12,sm:6,children:n.jsx(H,{fullWidth:!0,label:"Reorder Level",name:"reorderLevel",type:"number",value:r.reorderLevel||0,onChange:x,sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}),n.jsx(k,{item:!0,xs:12,sm:6,children:n.jsx(H,{fullWidth:!0,label:"Price",name:"price",type:"number",step:"0.01",value:r.price||0,onChange:x,sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}),n.jsx(k,{item:!0,xs:12,sm:6,children:n.jsx(H,{fullWidth:!0,label:"Lead Time (days)",name:"leadTime",type:"number",value:r.leadTime||0,onChange:x,sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}),n.jsx(k,{item:!0,xs:12,sm:6,children:n.jsx(H,{fullWidth:!0,label:"Location",name:"location",value:r.location||"",onChange:x,sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}),n.jsx(k,{item:!0,xs:12,sm:6,children:n.jsxs(Ge,{fullWidth:!0,disabled:f||i,children:[n.jsx(Ke,{children:"Supplier"}),n.jsxs(Je,{name:"supplierId",value:r.supplierId||"",onChange:x,label:"Supplier",sx:{"& .MuiOutlinedInput-root":{borderRadius:2}},children:[n.jsx(V,{value:"",children:"Pilih Supplier"}),d.map(b=>n.jsx(V,{value:b.id,children:b.name},b.id))]})]})}),n.jsx(k,{item:!0,xs:12,sm:6,children:n.jsxs(Ge,{fullWidth:!0,children:[n.jsx(Ke,{children:"Status"}),n.jsxs(Je,{name:"status",value:r.status||"active",onChange:x,label:"Status",sx:{"& .MuiOutlinedInput-root":{borderRadius:2}},children:[n.jsx(V,{value:"active",children:"Active"}),n.jsx(V,{value:"discontinued",children:"Discontinued"}),n.jsx(V,{value:"out_of_stock",children:"Out of Stock"})]})]})}),n.jsx(k,{item:!0,xs:12,children:n.jsx(H,{fullWidth:!0,label:"Description",name:"description",value:r.description||"",onChange:x,multiline:!0,rows:3,sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}),n.jsx(k,{item:!0,xs:12,children:n.jsx(H,{fullWidth:!0,label:"Notes",name:"notes",value:r.notes||"",onChange:x,multiline:!0,rows:3,sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}),n.jsx(k,{item:!0,xs:12,children:n.jsxs(ze,{direction:"row",spacing:2,sx:{mt:2},children:[n.jsx(K,{variant:"contained",color:"primary",size:"large",startIcon:o?n.jsx(je,{size:20,color:"inherit"}):n.jsx(ir,{}),type:"submit",disabled:o,sx:{px:4},children:o?"Updating...":"Update Material"}),n.jsx(K,{variant:"outlined",size:"large",onClick:()=>t("/materials"),sx:{px:4},children:"Cancel"})]})})]})]})})})]})}function f1(){const[e,t]=v.useState({name:"",description:"",contactPerson:"",email:"",phone:"",website:"",address:"",city:"",country:"",status:"Active",notes:""}),[r,s]=v.useState(!1),[i,a]=v.useState(null),o=Xe(),l=u=>{const{name:d,value:h}=u.target;t(f=>({...f,[d]:h}))},c=async u=>{u.preventDefault(),s(!0),a(null);try{const d=await fetch("http://localhost:5004/api/suppliers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!d.ok){const f=await d.json();throw new Error(f.message||`HTTP error! status: ${d.status}`)}const h=await d.json();alert("Supplier added successfully!"),o("/suppliers")}catch(d){a(d),alert(`Failed to add supplier: ${d.message}`)}finally{s(!1)}};return n.jsxs(E,{sx:{width:"100%",maxWidth:1200,mx:"auto",p:{xs:2,sm:3},overflow:"hidden"},children:[n.jsx(be,{in:!0,timeout:600,children:n.jsx(Se,{elevation:0,sx:{mb:4,background:"linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)",color:"white",borderRadius:3,width:"100%"},children:n.jsx(ve,{sx:{p:{xs:3,sm:4}},children:n.jsxs(E,{sx:{display:"flex",alignItems:"center"},children:[n.jsx(Ce,{sx:{bgcolor:"rgba(255,255,255,0.2)",width:{xs:56,sm:64},height:{xs:56,sm:64},mr:{xs:2,sm:3}},children:n.jsx(ji,{sx:{fontSize:{xs:28,sm:32}}})}),n.jsxs(E,{children:[n.jsx(S,{variant:"h4",sx:{fontWeight:700,mb:1,fontSize:{xs:"1.75rem",sm:"2.125rem"},color:"text.primary"},children:"Add New Supplier"}),n.jsx(S,{variant:"h6",sx:{opacity:.8,color:"text.secondary"},children:"Create a new supplier entry for inventory management"})]})]})})})}),n.jsx(E,{sx:{mb:3},children:n.jsx(K,{startIcon:n.jsx(Lt,{}),onClick:()=>o("/suppliers"),sx:{color:"text.secondary","&:hover":{bgcolor:"grey.100"}},children:"Back to Suppliers"})}),i&&n.jsxs(ge,{severity:"error",sx:{mb:3},children:["Error: ",i.message]}),n.jsx(He,{in:!0,timeout:800,children:n.jsx(Me,{component:"form",onSubmit:c,sx:{borderRadius:3,overflow:"hidden",border:"1px solid",borderColor:"grey.200",width:"100%"},children:n.jsxs(E,{sx:{p:4},children:[n.jsx(S,{variant:"h6",sx:{mb:3,fontWeight:600,color:"text.primary"},children:"Supplier Information"}),n.jsxs(k,{container:!0,spacing:3,children:[n.jsx(k,{item:!0,xs:12,sm:6,children:n.jsx(H,{fullWidth:!0,label:"Company Name",name:"name",value:e.name,onChange:l,required:!0,sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}),n.jsx(k,{item:!0,xs:12,children:n.jsx(H,{fullWidth:!0,label:"Description",name:"description",value:e.description,onChange:l,multiline:!0,rows:3,sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}),n.jsx(k,{item:!0,xs:12,sm:6,children:n.jsx(H,{fullWidth:!0,label:"Contact Person",name:"contactPerson",value:e.contactPerson,onChange:l,sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}),n.jsx(k,{item:!0,xs:12,sm:6,children:n.jsx(H,{fullWidth:!0,label:"Email Address",name:"email",type:"email",value:e.email,onChange:l,sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}),n.jsx(k,{item:!0,xs:12,sm:6,children:n.jsx(H,{fullWidth:!0,label:"Phone Number",name:"phone",value:e.phone,onChange:l,sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}),n.jsx(k,{item:!0,xs:12,sm:6,children:n.jsx(H,{fullWidth:!0,label:"Website",name:"website",value:e.website,onChange:l,sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}),n.jsx(k,{item:!0,xs:12,children:n.jsx(H,{fullWidth:!0,label:"Address",name:"address",value:e.address,onChange:l,sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}),n.jsx(k,{item:!0,xs:12,sm:6,children:n.jsx(H,{fullWidth:!0,label:"City",name:"city",value:e.city,onChange:l,sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}),n.jsx(k,{item:!0,xs:12,sm:6,children:n.jsx(H,{fullWidth:!0,label:"Country",name:"country",value:e.country,onChange:l,sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}),n.jsx(k,{item:!0,xs:12,sm:6,children:n.jsxs(Ge,{fullWidth:!0,children:[n.jsx(Ke,{children:"Status"}),n.jsxs(Je,{name:"status",value:e.status,onChange:l,label:"Status",sx:{"& .MuiOutlinedInput-root":{borderRadius:2}},children:[n.jsx(V,{value:"Active",children:"Active"}),n.jsx(V,{value:"Inactive",children:"Inactive"}),n.jsx(V,{value:"On Hold",children:"On Hold"}),n.jsx(V,{value:"Terminated",children:"Terminated"})]})]})}),n.jsx(k,{item:!0,xs:12,children:n.jsx(H,{fullWidth:!0,label:"Notes",name:"notes",value:e.notes,onChange:l,multiline:!0,rows:3,sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}),n.jsx(k,{item:!0,xs:12,children:n.jsxs(ze,{direction:"row",spacing:2,sx:{mt:2},children:[n.jsx(K,{variant:"contained",color:"primary",size:"large",startIcon:r?n.jsx(je,{size:20,color:"inherit"}):n.jsx(ir,{}),type:"submit",disabled:r,sx:{px:4},children:r?"Saving...":"Save Supplier"}),n.jsx(K,{variant:"outlined",size:"large",onClick:()=>o("/suppliers"),sx:{px:4},children:"Cancel"})]})})]})]})})})]})}function p1(){const{id:e}=Ht(),t=Xe(),[r,s]=v.useState({supplierId:"",name:"",description:"",contactPerson:"",email:"",phone:"",website:"",address:"",city:"",country:"",status:"Active",notes:""}),[i,a]=v.useState(!0),[o,l]=v.useState(!1),[c,u]=v.useState(null);v.useEffect(()=>{(async()=>{try{const p=await fetch(`http://localhost:5004/api/suppliers/${e}`);if(!p.ok)throw new Error(`HTTP error! status: ${p.status}`);const g=await p.json();s(g)}catch(p){u(p)}finally{a(!1)}})()},[e]);const d=f=>{const{name:p,value:g}=f.target;s(m=>({...m,[p]:g}))},h=async f=>{f.preventDefault(),l(!0),u(null);try{const p=await fetch(`http://localhost:5004/api/suppliers/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!p.ok){const g=await p.json();throw new Error(g.message||`HTTP error! status: ${p.status}`)}alert("Supplier updated successfully!"),t("/suppliers")}catch(p){u(p),alert(`Failed to update supplier: ${p.message}`)}finally{l(!1)}};return i?n.jsx(E,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:n.jsx(je,{size:60,thickness:4})}):c&&!r.name?n.jsx(be,{in:!0,children:n.jsxs(ge,{severity:"error",sx:{m:2,borderRadius:2},children:["Error: ",c.message]})}):n.jsxs(E,{sx:{width:"100%",maxWidth:1200,mx:"auto",p:{xs:2,sm:3},overflow:"hidden"},children:[n.jsx(be,{in:!0,timeout:600,children:n.jsx(Se,{elevation:0,sx:{mb:4,background:"linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)",color:"white",borderRadius:3,width:"100%"},children:n.jsx(ve,{sx:{p:{xs:3,sm:4}},children:n.jsxs(E,{sx:{display:"flex",alignItems:"center"},children:[n.jsx(Ce,{sx:{bgcolor:"rgba(255,255,255,0.2)",width:{xs:56,sm:64},height:{xs:56,sm:64},mr:{xs:2,sm:3}},children:n.jsx(ji,{sx:{fontSize:{xs:28,sm:32}}})}),n.jsxs(E,{children:[n.jsx(S,{variant:"h4",sx:{fontWeight:700,mb:1,fontSize:{xs:"1.75rem",sm:"2.125rem"},color:"text.primary"},children:"Edit Supplier"}),n.jsx(S,{variant:"h6",sx:{opacity:.8,color:"text.secondary"},children:"Update supplier information and details"})]})]})})})}),n.jsx(E,{sx:{mb:3},children:n.jsx(K,{startIcon:n.jsx(Lt,{}),onClick:()=>t("/suppliers"),sx:{color:"text.secondary","&:hover":{bgcolor:"grey.100"}},children:"Back to Suppliers"})}),c&&n.jsxs(ge,{severity:"error",sx:{mb:3},children:["Error: ",c.message]}),n.jsx(He,{in:!0,timeout:800,children:n.jsx(Me,{component:"form",onSubmit:h,sx:{borderRadius:3,overflow:"hidden",border:"1px solid",borderColor:"grey.200",width:"100%"},children:n.jsxs(E,{sx:{p:4},children:[n.jsx(S,{variant:"h6",sx:{mb:3,fontWeight:600,color:"text.primary"},children:"Supplier Information"}),n.jsxs(k,{container:!0,spacing:3,children:[n.jsx(k,{item:!0,xs:12,sm:6,children:n.jsx(H,{fullWidth:!0,label:"Supplier ID",name:"supplierId",value:r.supplierId||"",onChange:d,InputProps:{readOnly:!0},sx:{"& .MuiOutlinedInput-root":{borderRadius:2,bgcolor:"grey.50"}}})}),n.jsx(k,{item:!0,xs:12,sm:6,children:n.jsx(H,{fullWidth:!0,label:"Company Name",name:"name",value:r.name||"",onChange:d,required:!0,sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}),n.jsx(k,{item:!0,xs:12,children:n.jsx(H,{fullWidth:!0,label:"Description",name:"description",value:r.description||"",onChange:d,multiline:!0,rows:3,sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}),n.jsx(k,{item:!0,xs:12,sm:6,children:n.jsx(H,{fullWidth:!0,label:"Contact Person",name:"contactPerson",value:r.contactPerson||"",onChange:d,sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}),n.jsx(k,{item:!0,xs:12,sm:6,children:n.jsx(H,{fullWidth:!0,label:"Email Address",name:"email",type:"email",value:r.email||"",onChange:d,sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}),n.jsx(k,{item:!0,xs:12,sm:6,children:n.jsx(H,{fullWidth:!0,label:"Phone Number",name:"phone",value:r.phone||"",onChange:d,sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}),n.jsx(k,{item:!0,xs:12,sm:6,children:n.jsx(H,{fullWidth:!0,label:"Website",name:"website",value:r.website||"",onChange:d,sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}),n.jsx(k,{item:!0,xs:12,children:n.jsx(H,{fullWidth:!0,label:"Address",name:"address",value:r.address||"",onChange:d,sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}),n.jsx(k,{item:!0,xs:12,sm:6,children:n.jsx(H,{fullWidth:!0,label:"City",name:"city",value:r.city||"",onChange:d,sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}),n.jsx(k,{item:!0,xs:12,sm:6,children:n.jsx(H,{fullWidth:!0,label:"Country",name:"country",value:r.country||"",onChange:d,sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}),n.jsx(k,{item:!0,xs:12,sm:6,children:n.jsxs(Ge,{fullWidth:!0,children:[n.jsx(Ke,{children:"Status"}),n.jsxs(Je,{name:"status",value:r.status||"Active",onChange:d,label:"Status",sx:{"& .MuiOutlinedInput-root":{borderRadius:2}},children:[n.jsx(V,{value:"Active",children:"Active"}),n.jsx(V,{value:"Inactive",children:"Inactive"}),n.jsx(V,{value:"On Hold",children:"On Hold"}),n.jsx(V,{value:"Terminated",children:"Terminated"})]})]})}),n.jsx(k,{item:!0,xs:12,children:n.jsx(H,{fullWidth:!0,label:"Notes",name:"notes",value:r.notes||"",onChange:d,multiline:!0,rows:3,sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}),n.jsx(k,{item:!0,xs:12,children:n.jsxs(ze,{direction:"row",spacing:2,sx:{mt:2},children:[n.jsx(K,{variant:"contained",color:"primary",size:"large",startIcon:o?n.jsx(je,{size:20,color:"inherit"}):n.jsx(ir,{}),type:"submit",disabled:o,sx:{px:4},children:o?"Updating...":"Update Supplier"}),n.jsx(K,{variant:"outlined",size:"large",onClick:()=>t("/suppliers"),sx:{px:4},children:"Cancel"})]})})]})]})})})]})}function m1(){const[e,t]=v.useState([]),[r,s]=v.useState([]),[i,a]=v.useState([]),[o,l]=v.useState(!0),[c,u]=v.useState(null),[d,h]=v.useState(!1),[f,p]=v.useState(null),[g,m]=v.useState({quantity:"",unitPrice:"",totalPrice:"",supplierId:"",referenceNumber:"",batchNumber:"",deliveryDate:"",notes:"",location:"",qualityStatus:"Approved"}),[x,y]=v.useState(!1),[b,j]=v.useState({});Xe();const P=Bx()[0],C=async()=>{try{l(!0),u(null);const w=await fetch("http://localhost:5004/api/materials/replenishable");if(!w.ok)throw new Error(`HTTP error! status: ${w.status}`);const _=await w.json();t(_)}catch(w){u(w)}finally{l(!1)}},D=async()=>{try{const w=await fetch("http://localhost:5004/api/materials/suppliers");if(w.ok){const _=await w.json();s(_)}}catch(w){console.error("Error fetching suppliers:",w)}},T=async()=>{try{const w=await fetch("http://localhost:5004/api/materials/transaction-types");if(w.ok){const _=await w.json();a(_)}}catch(w){console.error("Error fetching transaction types:",w)}};v.useEffect(()=>{(async()=>{await Promise.all([C(),D(),T()]);const _=P.get("materialId");if(_&&e.length>0){const N=e.find(A=>A.id.toString()===_);N&&I(N)}})()},[P]);const I=w=>{p(w),m({quantity:"",unitPrice:w.price||"",totalPrice:"",supplierId:w.supplierId||"",referenceNumber:`PO-${Date.now().toString().slice(-6)}`,batchNumber:"",deliveryDate:new Date().toISOString().split("T")[0],notes:`Pembelian untuk isi ulang stok: ${w.name}`,location:w.location||"",qualityStatus:"Approved"}),j({}),h(!0)},M=()=>{h(!1),p(null),m({quantity:"",unitPrice:"",totalPrice:"",supplierId:"",referenceNumber:"",batchNumber:"",deliveryDate:"",notes:"",location:"",qualityStatus:"Approved"}),j({})},W=(w,_)=>{const N={...g,[w]:_};if(w==="quantity"||w==="unitPrice"){const A=parseFloat(w==="quantity"?_:N.quantity)||0,O=parseFloat(w==="unitPrice"?_:N.unitPrice)||0;N.totalPrice=(A*O).toFixed(2)}m(N),b[w]&&j({...b,[w]:null})},z=()=>{const w={};return(!g.quantity||parseFloat(g.quantity)<=0)&&(w.quantity="Quantity must be greater than 0"),(!g.unitPrice||parseFloat(g.unitPrice)<=0)&&(w.unitPrice="Unit price must be greater than 0"),g.referenceNumber.trim()||(w.referenceNumber="Reference number is required"),j(w),Object.keys(w).length===0},L=async()=>{if(z()){y(!0);try{const w=await fetch("http://localhost:5004/api/materials/purchase",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({materialId:f.id,quantity:parseFloat(g.quantity),unitPrice:parseFloat(g.unitPrice),totalPrice:parseFloat(g.totalPrice),supplierId:g.supplierId||null,referenceNumber:g.referenceNumber,batchNumber:g.batchNumber||null,deliveryDate:g.deliveryDate||null,notes:g.notes,location:g.location,qualityStatus:g.qualityStatus})});if(!w.ok){const N=await w.json();throw new Error(N.message||`HTTP error! status: ${w.status}`)}const _=await w.json();alert(`Material purchase recorded successfully!
Transaction ID: ${_.data.transaction.transactionId}`),M(),C()}catch(w){u(w),alert(`Failed to record purchase: ${w.message}`)}finally{y(!1)}}},U=w=>{switch(w){case"out_of_stock":return"error";case"low_stock":return"warning";default:return"default"}};return o?n.jsx(E,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:n.jsx(je,{size:60,thickness:4})}):c&&(!e||e.length===0)?n.jsx(be,{in:!0,children:n.jsxs(ge,{severity:"error",sx:{m:2,borderRadius:2},children:["Error: ",c.message]})}):n.jsxs(E,{sx:{width:"100%",maxWidth:"100%",mx:"auto",p:{xs:2,sm:3}},children:[n.jsx(be,{in:!0,timeout:600,children:n.jsx(Se,{elevation:0,sx:{mb:4,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",borderRadius:3},children:n.jsx(ve,{sx:{p:{xs:3,sm:4}},children:n.jsxs(E,{sx:{display:"flex",alignItems:"center"},children:[n.jsx(Ce,{sx:{bgcolor:"rgba(255,255,255,0.2)",width:{xs:56,sm:64},height:{xs:56,sm:64},mr:{xs:2,sm:3}},children:n.jsx(ul,{sx:{fontSize:{xs:28,sm:32}}})}),n.jsxs(E,{children:[n.jsx(S,{variant:"h4",sx:{fontWeight:700,mb:1,fontSize:{xs:"1.75rem",sm:"2.125rem"}},children:"Material Purchase Management"}),n.jsx(S,{variant:"h6",sx:{opacity:.9},children:"Procure and manage low stock or out-of-stock materials"})]})]})})})}),n.jsx(He,{in:!0,timeout:800,children:n.jsx(Me,{sx:{borderRadius:3,overflow:"hidden",border:"1px solid",borderColor:"grey.200"},children:e.length===0?n.jsx(ge,{severity:"info",sx:{m:3},children:n.jsxs(E,{sx:{display:"flex",alignItems:"center"},children:[n.jsx(nr,{sx:{mr:1}}),"All materials are currently in sufficient stock. No replenishment needed."]})}):n.jsx(E,{sx:{width:"100%",overflowX:"auto"},children:n.jsxs(Nt,{sx:{minWidth:1e3},children:[n.jsx(_t,{children:n.jsxs(Ve,{sx:{bgcolor:"grey.50"},children:[n.jsx(R,{sx:{fontWeight:700,py:2},children:"Material ID"}),n.jsx(R,{sx:{fontWeight:700,py:2},children:"Material Name"}),n.jsx(R,{sx:{fontWeight:700,py:2},children:"Status"}),n.jsx(R,{sx:{fontWeight:700,py:2},children:"Current Stock"}),n.jsx(R,{sx:{fontWeight:700,py:2},children:"Reorder Level"}),n.jsx(R,{sx:{fontWeight:700,py:2},children:"Unit Price"}),n.jsx(R,{sx:{fontWeight:700,py:2},children:"Supplier"}),n.jsx(R,{sx:{fontWeight:700,py:2},children:"Action"})]})}),n.jsx(At,{children:e.map((w,_)=>{var N,A;return n.jsx(be,{in:!0,timeout:300+_*100,children:n.jsxs(Ve,{sx:{"&:hover":{bgcolor:"grey.50",transform:"scale(1.001)",transition:"all 0.2s ease-in-out"},"&:last-child td":{border:0}},children:[n.jsx(R,{sx:{py:2},children:n.jsx(S,{variant:"body2",sx:{fontWeight:500,fontFamily:"monospace"},children:w.materialId})}),n.jsxs(R,{sx:{py:2},children:[n.jsx(S,{variant:"body1",sx:{fontWeight:600,color:"primary.main"},children:w.name}),n.jsx(S,{variant:"caption",color:"text.secondary",children:w.description})]}),n.jsx(R,{sx:{py:2},children:n.jsx(We,{label:(N=w.status)==null?void 0:N.replace(/_/g," ").toUpperCase(),color:U(w.status),size:"small",sx:{fontWeight:600}})}),n.jsx(R,{sx:{py:2},children:n.jsxs(S,{variant:"body2",sx:{fontWeight:500},children:[w.stockQuantity," ",w.unit]})}),n.jsx(R,{sx:{py:2},children:n.jsxs(S,{variant:"body2",sx:{fontWeight:500},children:[w.reorderLevel," ",w.unit]})}),n.jsx(R,{sx:{py:2},children:n.jsxs(S,{variant:"body2",sx:{fontWeight:500},children:["Rp ",((A=w.price)==null?void 0:A.toLocaleString())||"N/A"]})}),n.jsxs(R,{sx:{py:2},children:[n.jsx(S,{variant:"body2",sx:{fontWeight:500},children:w.supplierInfo?w.supplierInfo.name:"N/A"}),n.jsx(S,{variant:"caption",color:"text.secondary",children:w.supplierInfo?w.supplierInfo.contactPerson:""})]}),n.jsx(R,{sx:{py:2},children:n.jsx(K,{variant:"contained",color:"primary",size:"small",startIcon:n.jsx(ul,{}),onClick:()=>I(w),sx:{borderRadius:2,textTransform:"none",fontWeight:600},children:"Purchase"})})]})},w.id)})})]})})})}),n.jsxs($t,{open:d,onClose:M,maxWidth:"md",fullWidth:!0,children:[n.jsxs(Xt,{sx:{bgcolor:"primary.main",color:"white",py:2.5,px:3,display:"flex",alignItems:"center"},children:[n.jsx(Ff,{sx:{mr:1.5}}),n.jsxs(E,{children:[n.jsxs(S,{variant:"h6",sx:{fontWeight:600},children:["Purchase Material: ",f==null?void 0:f.name]}),n.jsxs(S,{variant:"body2",sx:{opacity:.9},children:["ID: ",f==null?void 0:f.materialId," | Current Stock: ",f==null?void 0:f.stockQuantity," ",f==null?void 0:f.unit]})]})]}),n.jsx(Bt,{dividers:!0,sx:{p:3},children:n.jsxs(k,{container:!0,spacing:3,children:[n.jsx(k,{item:!0,xs:12,children:n.jsx(S,{variant:"h6",sx:{fontWeight:600,mb:2,color:"primary.main"},children:"Purchase Details"})}),n.jsx(k,{item:!0,xs:12,sm:6,children:n.jsx(H,{fullWidth:!0,label:"Quantity to Purchase *",type:"number",value:g.quantity,onChange:w=>W("quantity",w.target.value),error:!!b.quantity,helperText:b.quantity,InputProps:{endAdornment:n.jsx(Fe,{position:"end",children:f==null?void 0:f.unit})}})}),n.jsx(k,{item:!0,xs:12,sm:6,children:n.jsx(H,{fullWidth:!0,label:"Unit Price *",type:"number",step:"0.01",value:g.unitPrice,onChange:w=>W("unitPrice",w.target.value),error:!!b.unitPrice,helperText:b.unitPrice,InputProps:{startAdornment:n.jsx(Fe,{position:"start",children:"Rp"})}})}),n.jsx(k,{item:!0,xs:12,sm:6,children:n.jsx(H,{fullWidth:!0,label:"Total Price",type:"number",value:g.totalPrice,onChange:w=>W("totalPrice",w.target.value),InputProps:{startAdornment:n.jsx(Fe,{position:"start",children:"Rp"}),readOnly:!0},sx:{"& .MuiInputBase-input":{bgcolor:"grey.50"}}})}),n.jsx(k,{item:!0,xs:12,sm:6,children:n.jsxs(Ge,{fullWidth:!0,children:[n.jsx(Ke,{children:"Supplier"}),n.jsxs(Je,{value:g.supplierId,onChange:w=>W("supplierId",w.target.value),label:"Supplier",children:[n.jsx(V,{value:"",children:n.jsx("em",{children:"Select Supplier"})}),r.map(w=>n.jsxs(V,{value:w.id,children:[w.name," - ",w.supplierId]},w.id))]})]})}),n.jsxs(k,{item:!0,xs:12,children:[n.jsx(qt,{sx:{my:1}}),n.jsx(S,{variant:"h6",sx:{fontWeight:600,mb:2,color:"primary.main"},children:"Transaction Information"})]}),n.jsx(k,{item:!0,xs:12,sm:6,children:n.jsx(H,{fullWidth:!0,label:"Reference Number *",value:g.referenceNumber,onChange:w=>W("referenceNumber",w.target.value),error:!!b.referenceNumber,helperText:b.referenceNumber||"e.g., PO-2024-001"})}),n.jsx(k,{item:!0,xs:12,sm:6,children:n.jsx(H,{fullWidth:!0,label:"Batch Number",value:g.batchNumber,onChange:w=>W("batchNumber",w.target.value),helperText:"Optional batch/lot number"})}),n.jsx(k,{item:!0,xs:12,sm:6,children:n.jsx(H,{fullWidth:!0,label:"Delivery Date",type:"date",value:g.deliveryDate,onChange:w=>W("deliveryDate",w.target.value),InputLabelProps:{shrink:!0}})}),n.jsx(k,{item:!0,xs:12,sm:6,children:n.jsxs(Ge,{fullWidth:!0,children:[n.jsx(Ke,{children:"Quality Status"}),n.jsxs(Je,{value:g.qualityStatus,onChange:w=>W("qualityStatus",w.target.value),label:"Quality Status",children:[n.jsx(V,{value:"Pending",children:"Pending Inspection"}),n.jsx(V,{value:"Approved",children:"Approved"}),n.jsx(V,{value:"Rejected",children:"Rejected"})]})]})}),n.jsx(k,{item:!0,xs:12,children:n.jsx(H,{fullWidth:!0,label:"Storage Location",value:g.location,onChange:w=>W("location",w.target.value),helperText:"Where will this material be stored?"})}),n.jsx(k,{item:!0,xs:12,children:n.jsx(H,{fullWidth:!0,label:"Notes",multiline:!0,rows:3,value:g.notes,onChange:w=>W("notes",w.target.value),helperText:"Additional notes about this purchase"})})]})}),n.jsxs(Vt,{sx:{p:3,bgcolor:"grey.50"},children:[n.jsx(K,{onClick:M,startIcon:n.jsx(nc,{}),color:"error",variant:"outlined",sx:{mr:2},children:"Cancel"}),n.jsx(K,{onClick:L,startIcon:x?n.jsx(je,{size:20,color:"inherit"}):n.jsx(Rf,{}),variant:"contained",color:"primary",disabled:x,sx:{minWidth:140},children:x?"Processing...":"Record Purchase"})]})]})]})}function ae(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function it(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function ts(e,t){const r=ae(e);return isNaN(t)?it(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function Zi(e,t){const r=ae(e);if(isNaN(t))return it(e,NaN);if(!t)return r;const s=r.getDate(),i=it(e,r.getTime());i.setMonth(r.getMonth()+t+1,0);const a=i.getDate();return s>=a?i:(r.setFullYear(i.getFullYear(),i.getMonth(),s),r)}function dc(e,t){const r=+ae(e);return it(e,r+t)}const up=6048e5,x1=864e5,Pi=6e4,ki=36e5,g1=1e3;function y1(e,t){return dc(e,t*ki)}let b1={};function _n(){return b1}function fr(e,t){var l,c,u,d;const r=_n(),s=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=ae(e),a=i.getDay(),o=(a<s?7:0)+a-s;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function us(e){return fr(e,{weekStartsOn:1})}function dp(e){const t=ae(e),r=t.getFullYear(),s=it(e,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const i=us(s),a=it(e,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const o=us(a);return t.getTime()>=i.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function mi(e){const t=ae(e);return t.setHours(0,0,0,0),t}function da(e){const t=ae(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function hp(e,t){const r=mi(e),s=mi(t),i=+r-da(r),a=+s-da(s);return Math.round((i-a)/x1)}function v1(e){const t=dp(e),r=it(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),us(r)}function j1(e,t){return dc(e,t*Pi)}function w1(e,t){return dc(e,t*1e3)}function S1(e,t){const r=t*7;return ts(e,r)}function dd(e,t){return Zi(e,t*12)}function ei(e,t){const r=ae(e),s=ae(t),i=r.getTime()-s.getTime();return i<0?-1:i>0?1:i}function C1(e,t){const r=mi(e),s=mi(t);return+r==+s}function P1(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function fp(e){if(!P1(e)&&typeof e!="number")return!1;const t=ae(e);return!isNaN(Number(t))}function k1(e,t){const r=ae(e),s=ae(t),i=r.getFullYear()-s.getFullYear(),a=r.getMonth()-s.getMonth();return i*12+a}function D1(e,t){const r=ae(e),s=ae(t);return r.getFullYear()-s.getFullYear()}function pp(e,t){const r=ae(e),s=ae(t),i=hd(r,s),a=Math.abs(hp(r,s));r.setDate(r.getDate()-i*a);const o=+(hd(r,s)===-i),l=i*(a-o);return l===0?0:l}function hd(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function Di(e){return t=>{const s=(e?Math[e]:Math.trunc)(t);return s===0?0:s}}function Fa(e,t){return+ae(e)-+ae(t)}function I1(e,t,r){const s=Fa(e,t)/ki;return Di(r==null?void 0:r.roundingMethod)(s)}function E1(e,t,r){const s=Fa(e,t)/Pi;return Di(r==null?void 0:r.roundingMethod)(s)}function yl(e){const t=ae(e);return t.setHours(23,59,59,999),t}function bl(e){const t=ae(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function T1(e){const t=ae(e);return+yl(t)==+bl(t)}function mp(e,t){const r=ae(e),s=ae(t),i=ei(r,s),a=Math.abs(k1(r,s));let o;if(a<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-i*a);let l=ei(r,s)===-i;T1(ae(e))&&a===1&&ei(e,s)===1&&(l=!1),o=i*(a-Number(l))}return o===0?0:o}function M1(e,t,r){const s=mp(e,t)/3;return Di(r==null?void 0:r.roundingMethod)(s)}function O1(e,t,r){const s=Fa(e,t)/1e3;return Di(r==null?void 0:r.roundingMethod)(s)}function R1(e,t,r){const s=pp(e,t)/7;return Di(r==null?void 0:r.roundingMethod)(s)}function N1(e,t){const r=ae(e),s=ae(t),i=ei(r,s),a=Math.abs(D1(r,s));r.setFullYear(1584),s.setFullYear(1584);const o=ei(r,s)===-i,l=i*(a-+o);return l===0?0:l}function _1(e,t){const r=ae(e.start),s=ae(e.end);let i=+r>+s;const a=i?+r:+s,o=i?s:r;o.setHours(0,0,0,0);let l=1;const c=[];for(;+o<=a;)c.push(ae(o)),o.setDate(o.getDate()+l),o.setHours(0,0,0,0);return i?c.reverse():c}function fd(e){const t=ae(e);return t.setDate(1),t.setHours(0,0,0,0),t}function wo(e){const t=ae(e),r=t.getFullYear();return t.setFullYear(r+1,0,0),t.setHours(23,59,59,999),t}function ea(e){const t=ae(e),r=it(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function So(e,t){var l,c,u,d;const r=_n(),s=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=ae(e),a=i.getDay(),o=(a<s?-7:0)+6-(a-s);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}const A1={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},F1=(e,t,r)=>{let s;const i=A1[e];return typeof i=="string"?s=i:t===1?s=i.one:s=i.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function Co(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const L1={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},W1={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},q1={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},$1={date:Co({formats:L1,defaultWidth:"full"}),time:Co({formats:W1,defaultWidth:"full"}),dateTime:Co({formats:q1,defaultWidth:"full"})},B1={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},V1=(e,t,r,s)=>B1[e];function As(e){return(t,r)=>{const s=r!=null&&r.context?String(r.context):"standalone";let i;if(s==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;i=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;i=e.values[l]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const z1={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},U1={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Q1={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},H1={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Y1={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},G1={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},K1=(e,t)=>{const r=Number(e),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},J1={ordinalNumber:K1,era:As({values:z1,defaultWidth:"wide"}),quarter:As({values:U1,defaultWidth:"wide",argumentCallback:e=>e-1}),month:As({values:Q1,defaultWidth:"wide"}),day:As({values:H1,defaultWidth:"wide"}),dayPeriod:As({values:Y1,defaultWidth:"wide",formattingValues:G1,defaultFormattingWidth:"wide"})};function Fs(e){return(t,r={})=>{const s=r.width,i=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const o=a[0],l=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?Z1(l,h=>h.test(o)):X1(l,h=>h.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function X1(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Z1(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function ew(e){return(t,r={})=>{const s=t.match(e.matchPattern);if(!s)return null;const i=s[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(i.length);return{value:o,rest:l}}}const tw=/^(\d+)(th|st|nd|rd)?/i,rw=/\d+/i,nw={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},sw={any:[/^b/i,/^(a|c)/i]},iw={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},aw={any:[/1/i,/2/i,/3/i,/4/i]},ow={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},lw={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},cw={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},uw={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},dw={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},hw={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},fw={ordinalNumber:ew({matchPattern:tw,parsePattern:rw,valueCallback:e=>parseInt(e,10)}),era:Fs({matchPatterns:nw,defaultMatchWidth:"wide",parsePatterns:sw,defaultParseWidth:"any"}),quarter:Fs({matchPatterns:iw,defaultMatchWidth:"wide",parsePatterns:aw,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Fs({matchPatterns:ow,defaultMatchWidth:"wide",parsePatterns:lw,defaultParseWidth:"any"}),day:Fs({matchPatterns:cw,defaultMatchWidth:"wide",parsePatterns:uw,defaultParseWidth:"any"}),dayPeriod:Fs({matchPatterns:dw,defaultMatchWidth:"any",parsePatterns:hw,defaultParseWidth:"any"})},hc={code:"en-US",formatDistance:F1,formatLong:$1,formatRelative:V1,localize:J1,match:fw,options:{weekStartsOn:0,firstWeekContainsDate:1}};function pw(e){const t=ae(e);return hp(t,ea(t))+1}function xp(e){const t=ae(e),r=+us(t)-+v1(t);return Math.round(r/up)+1}function fc(e,t){var d,h,f,p;const r=ae(e),s=r.getFullYear(),i=_n(),a=(t==null?void 0:t.firstWeekContainsDate)??((h=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(f=i.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,o=it(e,0);o.setFullYear(s+1,0,a),o.setHours(0,0,0,0);const l=fr(o,t),c=it(e,0);c.setFullYear(s,0,a),c.setHours(0,0,0,0);const u=fr(c,t);return r.getTime()>=l.getTime()?s+1:r.getTime()>=u.getTime()?s:s-1}function mw(e,t){var l,c,u,d;const r=_n(),s=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,i=fc(e,t),a=it(e,0);return a.setFullYear(i,0,s),a.setHours(0,0,0,0),fr(a,t)}function pc(e,t){const r=ae(e),s=+fr(r,t)-+mw(r,t);return Math.round(s/up)+1}function Be(e,t){const r=e<0?"-":"",s=Math.abs(e).toString().padStart(t,"0");return r+s}const Vr={y(e,t){const r=e.getFullYear(),s=r>0?r:1-r;return Be(t==="yy"?s%100:s,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Be(r+1,2)},d(e,t){return Be(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Be(e.getHours()%12||12,t.length)},H(e,t){return Be(e.getHours(),t.length)},m(e,t){return Be(e.getMinutes(),t.length)},s(e,t){return Be(e.getSeconds(),t.length)},S(e,t){const r=t.length,s=e.getMilliseconds(),i=Math.trunc(s*Math.pow(10,r-3));return Be(i,t.length)}},Wn={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},pd={G:function(e,t,r){const s=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const s=e.getFullYear(),i=s>0?s:1-s;return r.ordinalNumber(i,{unit:"year"})}return Vr.y(e,t)},Y:function(e,t,r,s){const i=fc(e,s),a=i>0?i:1-i;if(t==="YY"){const o=a%100;return Be(o,2)}return t==="Yo"?r.ordinalNumber(a,{unit:"year"}):Be(a,t.length)},R:function(e,t){const r=dp(e);return Be(r,t.length)},u:function(e,t){const r=e.getFullYear();return Be(r,t.length)},Q:function(e,t,r){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return Be(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,t,r){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return Be(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,t,r){const s=e.getMonth();switch(t){case"M":case"MM":return Vr.M(e,t);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(e,t,r){const s=e.getMonth();switch(t){case"L":return String(s+1);case"LL":return Be(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(e,t,r,s){const i=pc(e,s);return t==="wo"?r.ordinalNumber(i,{unit:"week"}):Be(i,t.length)},I:function(e,t,r){const s=xp(e);return t==="Io"?r.ordinalNumber(s,{unit:"week"}):Be(s,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Vr.d(e,t)},D:function(e,t,r){const s=pw(e);return t==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):Be(s,t.length)},E:function(e,t,r){const s=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(e,t,r,s){const i=e.getDay(),a=(i-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return Be(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,r,s){const i=e.getDay(),a=(i-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return Be(a,t.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,r){const s=e.getDay(),i=s===0?7:s;switch(t){case"i":return String(i);case"ii":return Be(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(e,t,r){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,r){const s=e.getHours();let i;switch(s===12?i=Wn.noon:s===0?i=Wn.midnight:i=s/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,r){const s=e.getHours();let i;switch(s>=17?i=Wn.evening:s>=12?i=Wn.afternoon:s>=4?i=Wn.morning:i=Wn.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let s=e.getHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return Vr.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Vr.H(e,t)},K:function(e,t,r){const s=e.getHours()%12;return t==="Ko"?r.ordinalNumber(s,{unit:"hour"}):Be(s,t.length)},k:function(e,t,r){let s=e.getHours();return s===0&&(s=24),t==="ko"?r.ordinalNumber(s,{unit:"hour"}):Be(s,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Vr.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Vr.s(e,t)},S:function(e,t){return Vr.S(e,t)},X:function(e,t,r){const s=e.getTimezoneOffset();if(s===0)return"Z";switch(t){case"X":return xd(s);case"XXXX":case"XX":return fn(s);case"XXXXX":case"XXX":default:return fn(s,":")}},x:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"x":return xd(s);case"xxxx":case"xx":return fn(s);case"xxxxx":case"xxx":default:return fn(s,":")}},O:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+md(s,":");case"OOOO":default:return"GMT"+fn(s,":")}},z:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+md(s,":");case"zzzz":default:return"GMT"+fn(s,":")}},t:function(e,t,r){const s=Math.trunc(e.getTime()/1e3);return Be(s,t.length)},T:function(e,t,r){const s=e.getTime();return Be(s,t.length)}};function md(e,t=""){const r=e>0?"-":"+",s=Math.abs(e),i=Math.trunc(s/60),a=s%60;return a===0?r+String(i):r+String(i)+t+Be(a,2)}function xd(e,t){return e%60===0?(e>0?"-":"+")+Be(Math.abs(e)/60,2):fn(e,t)}function fn(e,t=""){const r=e>0?"-":"+",s=Math.abs(e),i=Be(Math.trunc(s/60),2),a=Be(s%60,2);return r+i+t+a}const gd=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},gp=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},xw=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],s=r[1],i=r[2];if(!i)return gd(e,t);let a;switch(s){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",gd(s,t)).replace("{{time}}",gp(i,t))},xi={p:gp,P:xw},gw=/^D+$/,yw=/^Y+$/,bw=["D","DD","YY","YYYY"];function yp(e){return gw.test(e)}function bp(e){return yw.test(e)}function vl(e,t,r){const s=vw(e,t,r);if(console.warn(s),bw.includes(e))throw new RangeError(s)}function vw(e,t,r){const s=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${s} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const jw=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ww=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Sw=/^'([^]*?)'?$/,Cw=/''/g,Pw=/[a-zA-Z]/;function yn(e,t,r){var d,h,f,p,g,m,x,y;const s=_n(),i=(r==null?void 0:r.locale)??s.locale??hc,a=(r==null?void 0:r.firstWeekContainsDate)??((h=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(f=s.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((m=(g=r==null?void 0:r.locale)==null?void 0:g.options)==null?void 0:m.weekStartsOn)??s.weekStartsOn??((y=(x=s.locale)==null?void 0:x.options)==null?void 0:y.weekStartsOn)??0,l=ae(e);if(!fp(l))throw new RangeError("Invalid time value");let c=t.match(ww).map(b=>{const j=b[0];if(j==="p"||j==="P"){const P=xi[j];return P(b,i.formatLong)}return b}).join("").match(jw).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const j=b[0];if(j==="'")return{isToken:!1,value:kw(b)};if(pd[j])return{isToken:!0,value:b};if(j.match(Pw))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");return{isToken:!1,value:b}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const u={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return c.map(b=>{if(!b.isToken)return b.value;const j=b.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&bp(j)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&yp(j))&&vl(j,t,String(e));const P=pd[j[0]];return P(l,j,i.localize,u)}).join("")}function kw(e){const t=e.match(Sw);return t?t[1].replace(Cw,"'"):e}function Dw(e,t){const r=ae(e);if(isNaN(r.getTime()))throw new RangeError("Invalid time value");const s=(t==null?void 0:t.representation)??"complete";let i="",a="";const o="-",l=":";if(s!=="time"){const c=Be(r.getDate(),2),u=Be(r.getMonth()+1,2);i=`${Be(r.getFullYear(),4)}${o}${u}${o}${c}`}if(s!=="date"){const c=r.getTimezoneOffset();if(c!==0){const g=Math.abs(c),m=Be(Math.trunc(g/60),2),x=Be(g%60,2);a=`${c<0?"+":"-"}${m}:${x}`}else a="Z";const u=Be(r.getHours(),2),d=Be(r.getMinutes(),2),h=Be(r.getSeconds(),2),f=i===""?"":"T",p=[u,d,h].join(l);i=`${i}${f}${p}${a}`}return i}function Iw(e){return ae(e).getDate()}function vp(e){const t=ae(e),r=t.getFullYear(),s=t.getMonth(),i=it(e,0);return i.setFullYear(r,s+1,0),i.setHours(0,0,0,0),i.getDate()}function Ew(){return Object.assign({},_n())}function Tw(e){return ae(e).getHours()}function Mw(e){let r=ae(e).getDay();return r===0&&(r=7),r}function Ow(e){return ae(e).getMilliseconds()}function Rw(e){return ae(e).getMinutes()}function Nw(e){return ae(e).getMonth()}function _w(e){return ae(e).getSeconds()}function Aw(e){return ae(e).getFullYear()}function Po(e,t){const r=ae(e),s=ae(t);return r.getTime()>s.getTime()}function Ls(e,t){const r=ae(e),s=ae(t);return+r<+s}function Fw(e,t){const r=ae(e),s=ae(t);return+r==+s}function Lw(e,t){const r=t instanceof Date?it(t,0):new t(0);return r.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),r.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),r}const Ww=10;class jp{constructor(){de(this,"subPriority",0)}validate(t,r){return!0}}class qw extends jp{constructor(t,r,s,i,a){super(),this.value=t,this.validateValue=r,this.setValue=s,this.priority=i,a&&(this.subPriority=a)}validate(t,r){return this.validateValue(t,this.value,r)}set(t,r,s){return this.setValue(t,r,this.value,s)}}class $w extends jp{constructor(){super(...arguments);de(this,"priority",Ww);de(this,"subPriority",-1)}set(r,s){return s.timestampIsSet?r:it(r,Lw(r,Date))}}class tt{run(t,r,s,i){const a=this.parse(t,r,s,i);return a?{setter:new qw(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}validate(t,r,s){return!0}}class Bw extends tt{constructor(){super(...arguments);de(this,"priority",140);de(this,"incompatibleTokens",["R","u","t","T"])}parse(r,s,i){switch(s){case"G":case"GG":case"GGG":return i.era(r,{width:"abbreviated"})||i.era(r,{width:"narrow"});case"GGGGG":return i.era(r,{width:"narrow"});case"GGGG":default:return i.era(r,{width:"wide"})||i.era(r,{width:"abbreviated"})||i.era(r,{width:"narrow"})}}set(r,s,i){return s.era=i,r.setFullYear(i,0,1),r.setHours(0,0,0,0),r}}const mt={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Pr={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function xt(e,t){return e&&{value:t(e.value),rest:e.rest}}function dt(e,t){const r=t.match(e);return r?{value:parseInt(r[0],10),rest:t.slice(r[0].length)}:null}function kr(e,t){const r=t.match(e);if(!r)return null;if(r[0]==="Z")return{value:0,rest:t.slice(1)};const s=r[1]==="+"?1:-1,i=r[2]?parseInt(r[2],10):0,a=r[3]?parseInt(r[3],10):0,o=r[5]?parseInt(r[5],10):0;return{value:s*(i*ki+a*Pi+o*g1),rest:t.slice(r[0].length)}}function wp(e){return dt(mt.anyDigitsSigned,e)}function pt(e,t){switch(e){case 1:return dt(mt.singleDigit,t);case 2:return dt(mt.twoDigits,t);case 3:return dt(mt.threeDigits,t);case 4:return dt(mt.fourDigits,t);default:return dt(new RegExp("^\\d{1,"+e+"}"),t)}}function ha(e,t){switch(e){case 1:return dt(mt.singleDigitSigned,t);case 2:return dt(mt.twoDigitsSigned,t);case 3:return dt(mt.threeDigitsSigned,t);case 4:return dt(mt.fourDigitsSigned,t);default:return dt(new RegExp("^-?\\d{1,"+e+"}"),t)}}function mc(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Sp(e,t){const r=t>0,s=r?t:1-t;let i;if(s<=50)i=e||100;else{const a=s+50,o=Math.trunc(a/100)*100,l=e>=a%100;i=e+o-(l?100:0)}return r?i:1-i}function Cp(e){return e%400===0||e%4===0&&e%100!==0}class Vw extends tt{constructor(){super(...arguments);de(this,"priority",130);de(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(r,s,i){const a=o=>({year:o,isTwoDigitYear:s==="yy"});switch(s){case"y":return xt(pt(4,r),a);case"yo":return xt(i.ordinalNumber(r,{unit:"year"}),a);default:return xt(pt(s.length,r),a)}}validate(r,s){return s.isTwoDigitYear||s.year>0}set(r,s,i){const a=r.getFullYear();if(i.isTwoDigitYear){const l=Sp(i.year,a);return r.setFullYear(l,0,1),r.setHours(0,0,0,0),r}const o=!("era"in s)||s.era===1?i.year:1-i.year;return r.setFullYear(o,0,1),r.setHours(0,0,0,0),r}}class zw extends tt{constructor(){super(...arguments);de(this,"priority",130);de(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(r,s,i){const a=o=>({year:o,isTwoDigitYear:s==="YY"});switch(s){case"Y":return xt(pt(4,r),a);case"Yo":return xt(i.ordinalNumber(r,{unit:"year"}),a);default:return xt(pt(s.length,r),a)}}validate(r,s){return s.isTwoDigitYear||s.year>0}set(r,s,i,a){const o=fc(r,a);if(i.isTwoDigitYear){const c=Sp(i.year,o);return r.setFullYear(c,0,a.firstWeekContainsDate),r.setHours(0,0,0,0),fr(r,a)}const l=!("era"in s)||s.era===1?i.year:1-i.year;return r.setFullYear(l,0,a.firstWeekContainsDate),r.setHours(0,0,0,0),fr(r,a)}}class Uw extends tt{constructor(){super(...arguments);de(this,"priority",130);de(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(r,s){return ha(s==="R"?4:s.length,r)}set(r,s,i){const a=it(r,0);return a.setFullYear(i,0,4),a.setHours(0,0,0,0),us(a)}}class Qw extends tt{constructor(){super(...arguments);de(this,"priority",130);de(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(r,s){return ha(s==="u"?4:s.length,r)}set(r,s,i){return r.setFullYear(i,0,1),r.setHours(0,0,0,0),r}}class Hw extends tt{constructor(){super(...arguments);de(this,"priority",120);de(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,s,i){switch(s){case"Q":case"QQ":return pt(s.length,r);case"Qo":return i.ordinalNumber(r,{unit:"quarter"});case"QQQ":return i.quarter(r,{width:"abbreviated",context:"formatting"})||i.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(r,{width:"wide",context:"formatting"})||i.quarter(r,{width:"abbreviated",context:"formatting"})||i.quarter(r,{width:"narrow",context:"formatting"})}}validate(r,s){return s>=1&&s<=4}set(r,s,i){return r.setMonth((i-1)*3,1),r.setHours(0,0,0,0),r}}class Yw extends tt{constructor(){super(...arguments);de(this,"priority",120);de(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,s,i){switch(s){case"q":case"qq":return pt(s.length,r);case"qo":return i.ordinalNumber(r,{unit:"quarter"});case"qqq":return i.quarter(r,{width:"abbreviated",context:"standalone"})||i.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(r,{width:"wide",context:"standalone"})||i.quarter(r,{width:"abbreviated",context:"standalone"})||i.quarter(r,{width:"narrow",context:"standalone"})}}validate(r,s){return s>=1&&s<=4}set(r,s,i){return r.setMonth((i-1)*3,1),r.setHours(0,0,0,0),r}}class Gw extends tt{constructor(){super(...arguments);de(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);de(this,"priority",110)}parse(r,s,i){const a=o=>o-1;switch(s){case"M":return xt(dt(mt.month,r),a);case"MM":return xt(pt(2,r),a);case"Mo":return xt(i.ordinalNumber(r,{unit:"month"}),a);case"MMM":return i.month(r,{width:"abbreviated",context:"formatting"})||i.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(r,{width:"wide",context:"formatting"})||i.month(r,{width:"abbreviated",context:"formatting"})||i.month(r,{width:"narrow",context:"formatting"})}}validate(r,s){return s>=0&&s<=11}set(r,s,i){return r.setMonth(i,1),r.setHours(0,0,0,0),r}}class Kw extends tt{constructor(){super(...arguments);de(this,"priority",110);de(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(r,s,i){const a=o=>o-1;switch(s){case"L":return xt(dt(mt.month,r),a);case"LL":return xt(pt(2,r),a);case"Lo":return xt(i.ordinalNumber(r,{unit:"month"}),a);case"LLL":return i.month(r,{width:"abbreviated",context:"standalone"})||i.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(r,{width:"wide",context:"standalone"})||i.month(r,{width:"abbreviated",context:"standalone"})||i.month(r,{width:"narrow",context:"standalone"})}}validate(r,s){return s>=0&&s<=11}set(r,s,i){return r.setMonth(i,1),r.setHours(0,0,0,0),r}}function Jw(e,t,r){const s=ae(e),i=pc(s,r)-t;return s.setDate(s.getDate()-i*7),s}class Xw extends tt{constructor(){super(...arguments);de(this,"priority",100);de(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(r,s,i){switch(s){case"w":return dt(mt.week,r);case"wo":return i.ordinalNumber(r,{unit:"week"});default:return pt(s.length,r)}}validate(r,s){return s>=1&&s<=53}set(r,s,i,a){return fr(Jw(r,i,a),a)}}function Zw(e,t){const r=ae(e),s=xp(r)-t;return r.setDate(r.getDate()-s*7),r}class e2 extends tt{constructor(){super(...arguments);de(this,"priority",100);de(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(r,s,i){switch(s){case"I":return dt(mt.week,r);case"Io":return i.ordinalNumber(r,{unit:"week"});default:return pt(s.length,r)}}validate(r,s){return s>=1&&s<=53}set(r,s,i){return us(Zw(r,i))}}const t2=[31,28,31,30,31,30,31,31,30,31,30,31],r2=[31,29,31,30,31,30,31,31,30,31,30,31];class n2 extends tt{constructor(){super(...arguments);de(this,"priority",90);de(this,"subPriority",1);de(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(r,s,i){switch(s){case"d":return dt(mt.date,r);case"do":return i.ordinalNumber(r,{unit:"date"});default:return pt(s.length,r)}}validate(r,s){const i=r.getFullYear(),a=Cp(i),o=r.getMonth();return a?s>=1&&s<=r2[o]:s>=1&&s<=t2[o]}set(r,s,i){return r.setDate(i),r.setHours(0,0,0,0),r}}class s2 extends tt{constructor(){super(...arguments);de(this,"priority",90);de(this,"subpriority",1);de(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(r,s,i){switch(s){case"D":case"DD":return dt(mt.dayOfYear,r);case"Do":return i.ordinalNumber(r,{unit:"date"});default:return pt(s.length,r)}}validate(r,s){const i=r.getFullYear();return Cp(i)?s>=1&&s<=366:s>=1&&s<=365}set(r,s,i){return r.setMonth(0,i),r.setHours(0,0,0,0),r}}function xc(e,t,r){var h,f,p,g;const s=_n(),i=(r==null?void 0:r.weekStartsOn)??((f=(h=r==null?void 0:r.locale)==null?void 0:h.options)==null?void 0:f.weekStartsOn)??s.weekStartsOn??((g=(p=s.locale)==null?void 0:p.options)==null?void 0:g.weekStartsOn)??0,a=ae(e),o=a.getDay(),c=(t%7+7)%7,u=7-i,d=t<0||t>6?t-(o+u)%7:(c+u)%7-(o+u)%7;return ts(a,d)}class i2 extends tt{constructor(){super(...arguments);de(this,"priority",90);de(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(r,s,i){switch(s){case"E":case"EE":case"EEE":return i.day(r,{width:"abbreviated",context:"formatting"})||i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(r,{width:"wide",context:"formatting"})||i.day(r,{width:"abbreviated",context:"formatting"})||i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"})}}validate(r,s){return s>=0&&s<=6}set(r,s,i,a){return r=xc(r,i,a),r.setHours(0,0,0,0),r}}class a2 extends tt{constructor(){super(...arguments);de(this,"priority",90);de(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(r,s,i,a){const o=l=>{const c=Math.floor((l-1)/7)*7;return(l+a.weekStartsOn+6)%7+c};switch(s){case"e":case"ee":return xt(pt(s.length,r),o);case"eo":return xt(i.ordinalNumber(r,{unit:"day"}),o);case"eee":return i.day(r,{width:"abbreviated",context:"formatting"})||i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"});case"eeeee":return i.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(r,{width:"wide",context:"formatting"})||i.day(r,{width:"abbreviated",context:"formatting"})||i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"})}}validate(r,s){return s>=0&&s<=6}set(r,s,i,a){return r=xc(r,i,a),r.setHours(0,0,0,0),r}}class o2 extends tt{constructor(){super(...arguments);de(this,"priority",90);de(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(r,s,i,a){const o=l=>{const c=Math.floor((l-1)/7)*7;return(l+a.weekStartsOn+6)%7+c};switch(s){case"c":case"cc":return xt(pt(s.length,r),o);case"co":return xt(i.ordinalNumber(r,{unit:"day"}),o);case"ccc":return i.day(r,{width:"abbreviated",context:"standalone"})||i.day(r,{width:"short",context:"standalone"})||i.day(r,{width:"narrow",context:"standalone"});case"ccccc":return i.day(r,{width:"narrow",context:"standalone"});case"cccccc":return i.day(r,{width:"short",context:"standalone"})||i.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(r,{width:"wide",context:"standalone"})||i.day(r,{width:"abbreviated",context:"standalone"})||i.day(r,{width:"short",context:"standalone"})||i.day(r,{width:"narrow",context:"standalone"})}}validate(r,s){return s>=0&&s<=6}set(r,s,i,a){return r=xc(r,i,a),r.setHours(0,0,0,0),r}}function l2(e,t){const r=ae(e),s=Mw(r),i=t-s;return ts(r,i)}class c2 extends tt{constructor(){super(...arguments);de(this,"priority",90);de(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(r,s,i){const a=o=>o===0?7:o;switch(s){case"i":case"ii":return pt(s.length,r);case"io":return i.ordinalNumber(r,{unit:"day"});case"iii":return xt(i.day(r,{width:"abbreviated",context:"formatting"})||i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"}),a);case"iiiii":return xt(i.day(r,{width:"narrow",context:"formatting"}),a);case"iiiiii":return xt(i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"}),a);case"iiii":default:return xt(i.day(r,{width:"wide",context:"formatting"})||i.day(r,{width:"abbreviated",context:"formatting"})||i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"}),a)}}validate(r,s){return s>=1&&s<=7}set(r,s,i){return r=l2(r,i),r.setHours(0,0,0,0),r}}class u2 extends tt{constructor(){super(...arguments);de(this,"priority",80);de(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(r,s,i){switch(s){case"a":case"aa":case"aaa":return i.dayPeriod(r,{width:"abbreviated",context:"formatting"})||i.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(r,{width:"wide",context:"formatting"})||i.dayPeriod(r,{width:"abbreviated",context:"formatting"})||i.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,s,i){return r.setHours(mc(i),0,0,0),r}}class d2 extends tt{constructor(){super(...arguments);de(this,"priority",80);de(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(r,s,i){switch(s){case"b":case"bb":case"bbb":return i.dayPeriod(r,{width:"abbreviated",context:"formatting"})||i.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(r,{width:"wide",context:"formatting"})||i.dayPeriod(r,{width:"abbreviated",context:"formatting"})||i.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,s,i){return r.setHours(mc(i),0,0,0),r}}class h2 extends tt{constructor(){super(...arguments);de(this,"priority",80);de(this,"incompatibleTokens",["a","b","t","T"])}parse(r,s,i){switch(s){case"B":case"BB":case"BBB":return i.dayPeriod(r,{width:"abbreviated",context:"formatting"})||i.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(r,{width:"wide",context:"formatting"})||i.dayPeriod(r,{width:"abbreviated",context:"formatting"})||i.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,s,i){return r.setHours(mc(i),0,0,0),r}}class f2 extends tt{constructor(){super(...arguments);de(this,"priority",70);de(this,"incompatibleTokens",["H","K","k","t","T"])}parse(r,s,i){switch(s){case"h":return dt(mt.hour12h,r);case"ho":return i.ordinalNumber(r,{unit:"hour"});default:return pt(s.length,r)}}validate(r,s){return s>=1&&s<=12}set(r,s,i){const a=r.getHours()>=12;return a&&i<12?r.setHours(i+12,0,0,0):!a&&i===12?r.setHours(0,0,0,0):r.setHours(i,0,0,0),r}}class p2 extends tt{constructor(){super(...arguments);de(this,"priority",70);de(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(r,s,i){switch(s){case"H":return dt(mt.hour23h,r);case"Ho":return i.ordinalNumber(r,{unit:"hour"});default:return pt(s.length,r)}}validate(r,s){return s>=0&&s<=23}set(r,s,i){return r.setHours(i,0,0,0),r}}class m2 extends tt{constructor(){super(...arguments);de(this,"priority",70);de(this,"incompatibleTokens",["h","H","k","t","T"])}parse(r,s,i){switch(s){case"K":return dt(mt.hour11h,r);case"Ko":return i.ordinalNumber(r,{unit:"hour"});default:return pt(s.length,r)}}validate(r,s){return s>=0&&s<=11}set(r,s,i){return r.getHours()>=12&&i<12?r.setHours(i+12,0,0,0):r.setHours(i,0,0,0),r}}class x2 extends tt{constructor(){super(...arguments);de(this,"priority",70);de(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(r,s,i){switch(s){case"k":return dt(mt.hour24h,r);case"ko":return i.ordinalNumber(r,{unit:"hour"});default:return pt(s.length,r)}}validate(r,s){return s>=1&&s<=24}set(r,s,i){const a=i<=24?i%24:i;return r.setHours(a,0,0,0),r}}class g2 extends tt{constructor(){super(...arguments);de(this,"priority",60);de(this,"incompatibleTokens",["t","T"])}parse(r,s,i){switch(s){case"m":return dt(mt.minute,r);case"mo":return i.ordinalNumber(r,{unit:"minute"});default:return pt(s.length,r)}}validate(r,s){return s>=0&&s<=59}set(r,s,i){return r.setMinutes(i,0,0),r}}class y2 extends tt{constructor(){super(...arguments);de(this,"priority",50);de(this,"incompatibleTokens",["t","T"])}parse(r,s,i){switch(s){case"s":return dt(mt.second,r);case"so":return i.ordinalNumber(r,{unit:"second"});default:return pt(s.length,r)}}validate(r,s){return s>=0&&s<=59}set(r,s,i){return r.setSeconds(i,0),r}}class b2 extends tt{constructor(){super(...arguments);de(this,"priority",30);de(this,"incompatibleTokens",["t","T"])}parse(r,s){const i=a=>Math.trunc(a*Math.pow(10,-s.length+3));return xt(pt(s.length,r),i)}set(r,s,i){return r.setMilliseconds(i),r}}class v2 extends tt{constructor(){super(...arguments);de(this,"priority",10);de(this,"incompatibleTokens",["t","T","x"])}parse(r,s){switch(s){case"X":return kr(Pr.basicOptionalMinutes,r);case"XX":return kr(Pr.basic,r);case"XXXX":return kr(Pr.basicOptionalSeconds,r);case"XXXXX":return kr(Pr.extendedOptionalSeconds,r);case"XXX":default:return kr(Pr.extended,r)}}set(r,s,i){return s.timestampIsSet?r:it(r,r.getTime()-da(r)-i)}}class j2 extends tt{constructor(){super(...arguments);de(this,"priority",10);de(this,"incompatibleTokens",["t","T","X"])}parse(r,s){switch(s){case"x":return kr(Pr.basicOptionalMinutes,r);case"xx":return kr(Pr.basic,r);case"xxxx":return kr(Pr.basicOptionalSeconds,r);case"xxxxx":return kr(Pr.extendedOptionalSeconds,r);case"xxx":default:return kr(Pr.extended,r)}}set(r,s,i){return s.timestampIsSet?r:it(r,r.getTime()-da(r)-i)}}class w2 extends tt{constructor(){super(...arguments);de(this,"priority",40);de(this,"incompatibleTokens","*")}parse(r){return wp(r)}set(r,s,i){return[it(r,i*1e3),{timestampIsSet:!0}]}}class S2 extends tt{constructor(){super(...arguments);de(this,"priority",20);de(this,"incompatibleTokens","*")}parse(r){return wp(r)}set(r,s,i){return[it(r,i),{timestampIsSet:!0}]}}const C2={G:new Bw,y:new Vw,Y:new zw,R:new Uw,u:new Qw,Q:new Hw,q:new Yw,M:new Gw,L:new Kw,w:new Xw,I:new e2,d:new n2,D:new s2,E:new i2,e:new a2,c:new o2,i:new c2,a:new u2,b:new d2,B:new h2,h:new f2,H:new p2,K:new m2,k:new x2,m:new g2,s:new y2,S:new b2,X:new v2,x:new j2,t:new w2,T:new S2},P2=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,k2=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,D2=/^'([^]*?)'?$/,I2=/''/g,E2=/\S/,T2=/[a-zA-Z]/;function M2(e,t,r,s){var m,x,y,b,j,P,C,D;const i=Ew(),a=(s==null?void 0:s.locale)??i.locale??hc,o=(s==null?void 0:s.firstWeekContainsDate)??((x=(m=s==null?void 0:s.locale)==null?void 0:m.options)==null?void 0:x.firstWeekContainsDate)??i.firstWeekContainsDate??((b=(y=i.locale)==null?void 0:y.options)==null?void 0:b.firstWeekContainsDate)??1,l=(s==null?void 0:s.weekStartsOn)??((P=(j=s==null?void 0:s.locale)==null?void 0:j.options)==null?void 0:P.weekStartsOn)??i.weekStartsOn??((D=(C=i.locale)==null?void 0:C.options)==null?void 0:D.weekStartsOn)??0;if(t==="")return e===""?ae(r):it(r,NaN);const c={firstWeekContainsDate:o,weekStartsOn:l,locale:a},u=[new $w],d=t.match(k2).map(T=>{const I=T[0];if(I in xi){const M=xi[I];return M(T,a.formatLong)}return T}).join("").match(P2),h=[];for(let T of d){!(s!=null&&s.useAdditionalWeekYearTokens)&&bp(T)&&vl(T,t,e),!(s!=null&&s.useAdditionalDayOfYearTokens)&&yp(T)&&vl(T,t,e);const I=T[0],M=C2[I];if(M){const{incompatibleTokens:W}=M;if(Array.isArray(W)){const L=h.find(U=>W.includes(U.token)||U.token===I);if(L)throw new RangeError(`The format string mustn't contain \`${L.fullToken}\` and \`${T}\` at the same time`)}else if(M.incompatibleTokens==="*"&&h.length>0)throw new RangeError(`The format string mustn't contain \`${T}\` and any other token at the same time`);h.push({token:I,fullToken:T});const z=M.run(e,T,a.match,c);if(!z)return it(r,NaN);u.push(z.setter),e=z.rest}else{if(I.match(T2))throw new RangeError("Format string contains an unescaped latin alphabet character `"+I+"`");if(T==="''"?T="'":I==="'"&&(T=O2(T)),e.indexOf(T)===0)e=e.slice(T.length);else return it(r,NaN)}}if(e.length>0&&E2.test(e))return it(r,NaN);const f=u.map(T=>T.priority).sort((T,I)=>I-T).filter((T,I,M)=>M.indexOf(T)===I).map(T=>u.filter(I=>I.priority===T).sort((I,M)=>M.subPriority-I.subPriority)).map(T=>T[0]);let p=ae(r);if(isNaN(p.getTime()))return it(r,NaN);const g={};for(const T of f){if(!T.validate(p,c))return it(r,NaN);const I=T.set(p,g,c);Array.isArray(I)?(p=I[0],Object.assign(g,I[1])):p=I}return it(r,p)}function O2(e){return e.match(D2)[1].replace(I2,"'")}function yd(e){const t=ae(e);return t.setMinutes(0,0,0),t}function R2(e,t){const r=yd(e),s=yd(t);return+r==+s}function N2(e,t){const r=ae(e),s=ae(t);return r.getFullYear()===s.getFullYear()&&r.getMonth()===s.getMonth()}function _2(e,t){const r=ae(e),s=ae(t);return r.getFullYear()===s.getFullYear()}function A2(e,t){const r=+ae(e),[s,i]=[+ae(t.start),+ae(t.end)].sort((a,o)=>a-o);return r>=s&&r<=i}function bn(e,t){const s=q2(e);let i;if(s.date){const c=$2(s.date,2);i=B2(c.restDateString,c.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const a=i.getTime();let o=0,l;if(s.time&&(o=V2(s.time),isNaN(o)))return new Date(NaN);if(s.timezone){if(l=z2(s.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(a+o),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(a+o+l)}const Li={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},F2=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,L2=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,W2=/^([+-])(\d{2})(?::?(\d{2}))?$/;function q2(e){const t={},r=e.split(Li.dateTimeDelimiter);let s;if(r.length>2)return t;if(/:/.test(r[0])?s=r[0]:(t.date=r[0],s=r[1],Li.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Li.timeZoneDelimiter)[0],s=e.substr(t.date.length,e.length))),s){const i=Li.timezone.exec(s);i?(t.time=s.replace(i[1],""),t.timezone=i[1]):t.time=s}return t}function $2(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),s=e.match(r);if(!s)return{year:NaN,restDateString:""};const i=s[1]?parseInt(s[1]):null,a=s[2]?parseInt(s[2]):null;return{year:a===null?i:a*100,restDateString:e.slice((s[1]||s[2]).length)}}function B2(e,t){if(t===null)return new Date(NaN);const r=e.match(F2);if(!r)return new Date(NaN);const s=!!r[4],i=Ws(r[1]),a=Ws(r[2])-1,o=Ws(r[3]),l=Ws(r[4]),c=Ws(r[5])-1;if(s)return G2(t,l,c)?U2(t,l,c):new Date(NaN);{const u=new Date(0);return!H2(t,a,o)||!Y2(t,i)?new Date(NaN):(u.setUTCFullYear(t,a,Math.max(i,o)),u)}}function Ws(e){return e?parseInt(e):1}function V2(e){const t=e.match(L2);if(!t)return NaN;const r=ko(t[1]),s=ko(t[2]),i=ko(t[3]);return K2(r,s,i)?r*ki+s*Pi+i*1e3:NaN}function ko(e){return e&&parseFloat(e.replace(",","."))||0}function z2(e){if(e==="Z")return 0;const t=e.match(W2);if(!t)return 0;const r=t[1]==="+"?-1:1,s=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return J2(s,i)?r*(s*ki+i*Pi):NaN}function U2(e,t,r){const s=new Date(0);s.setUTCFullYear(e,0,4);const i=s.getUTCDay()||7,a=(t-1)*7+r+1-i;return s.setUTCDate(s.getUTCDate()+a),s}const Q2=[31,null,31,30,31,30,31,31,30,31,30,31];function Pp(e){return e%400===0||e%4===0&&e%100!==0}function H2(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(Q2[t]||(Pp(e)?29:28))}function Y2(e,t){return t>=1&&t<=(Pp(e)?366:365)}function G2(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function K2(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function J2(e,t){return t>=0&&t<=59}function X2(e,t){const r=ae(e),s=r.getFullYear(),i=r.getDate(),a=it(e,0);a.setFullYear(s,t,15),a.setHours(0,0,0,0);const o=vp(a);return r.setMonth(t,Math.min(i,o)),r}function Z2(e,t){const r=ae(e);return r.setDate(t),r}function eS(e,t){const r=ae(e);return r.setHours(t),r}function tS(e,t){const r=ae(e);return r.setMilliseconds(t),r}function rS(e,t){const r=ae(e);return r.setMinutes(t),r}function nS(e,t){const r=ae(e);return r.setSeconds(t),r}function sS(e,t){const r=ae(e);return isNaN(+r)?it(e,NaN):(r.setFullYear(t),r)}const Ii=re`
  fragment ProductionPlanFields on ProductionPlan {
    id
    planId
    requestId
    productionRequestId
    productName
    plannedStartDate
    plannedEndDate
    priority
    status
    plannedBatches
    planningNotes
    batchId
    createdAt
    updatedAt
  }
`,iS=re`
  query GetPlans {
    plans {
      ...ProductionPlanFields
    }
  }
  ${Ii}
`,jl=re`
  query GetPlan($id: ID!) {
    plan(id: $id) {
      ...ProductionPlanFields
    }
  }
  ${Ii}
`;re`
  query GetPlansSummary {
    plansSummary {
      total
      status {
        status
        count
        color
      }
    }
  }
`;const aS=re`
  mutation CreatePlan($input: PlanInput!) {
    createPlan(input: $input) {
      ...ProductionPlanFields
    }
  }
  ${Ii}
`,oS=re`
  mutation UpdatePlan($id: ID!, $input: PlanUpdateInput!) {
    updatePlan(id: $id, input: $input) {
      ...ProductionPlanFields
    }
  }
  ${Ii}
`,kp=re`
  mutation DeletePlan($id: ID!) {
    deletePlan(id: $id) {
      success
      message
    }
  }
`,Dp=re`
  mutation ApprovePlan($id: ID!) {
    approvePlan(id: $id) {
      success
      message
      plan {
        ...ProductionPlanFields
      }
    }
  }
  ${Ii}
`,lS=({status:e})=>{const r={DRAFT:{color:"default",label:"Draft",bgcolor:"#f5f5f5"},PENDING_APPROVAL:{color:"warning",label:"Pending Approval",bgcolor:"#fff3e0"},APPROVED:{color:"success",label:"Approved",bgcolor:"#e8f5e8"},REJECTED:{color:"error",label:"Rejected",bgcolor:"#ffebee"},IN_PROGRESS:{color:"primary",label:"In Progress",bgcolor:"#e8f4fd"},COMPLETED:{color:"info",label:"Completed",bgcolor:"#e3f2fd"}}[e]||{color:"default",label:e,bgcolor:"#f5f5f5"};return n.jsx(We,{label:r.label,size:"small",sx:{fontWeight:500,bgcolor:r.bgcolor,color:r.color==="default"?"text.primary":`${r.color}.main`,border:"1px solid",borderColor:r.color==="default"?"grey.300":`${r.color}.light`}})},cS=()=>{const e=Xe(),[t,r]=v.useState(0),[s,i]=v.useState(10),[a,o]=v.useState(""),[l,c]=v.useState(""),[u,d]=v.useState(!1),[h,f]=v.useState(!1),[p,g]=v.useState(null),[m,x]=v.useState(""),{loading:y,error:b,data:j,refetch:P}=mr(iS,{fetchPolicy:"cache-and-network"}),[C,{loading:D}]=Zt(kp,{onCompleted:()=>{De.success("Production plan deleted successfully"),d(!1),x(""),P()},onError:ee=>{De.error(`Failed to delete production plan: ${ee.message}`)}}),[T,{loading:I}]=Zt(Dp,{onCompleted:()=>{De.success("Production plan approved successfully"),f(!1),P()},onError:ee=>{De.error(`Failed to approve production plan: ${ee.message}`)}}),M=(ee,Ie)=>{r(Ie)},W=ee=>{i(parseInt(ee.target.value,10)),r(0)},z=ee=>{o(ee.target.value),r(0)},L=ee=>{c(ee.target.value),r(0)},U=()=>{o(""),c(""),r(0)},w=ee=>{g(ee),d(!0)},_=()=>{d(!1),g(null),x("")},N=ee=>{g(ee),f(!0)},A=()=>{f(!1),g(null)},O=()=>{C({variables:{id:p}})},B=()=>{T({variables:{id:p}})},G=()=>{e("/production-plans/create")},me=ee=>{e(`/production-plans/${ee}`)},he=ee=>{e(`/production-plans/${ee}/edit`)},J=j&&j.plans?j.plans.filter(ee=>(ee.productName.toLowerCase().includes(l.toLowerCase())||ee.planningNotes.toLowerCase().includes(l.toLowerCase()))&&(a?ee.status===a:!0)):[],ne=J.slice(t*s,t*s+s);return n.jsxs(E,{sx:{width:"100%",maxWidth:"100%",mx:"auto",p:{xs:2,sm:3},overflow:"hidden"},children:[n.jsx(be,{in:!0,timeout:600,children:n.jsx(Se,{elevation:0,sx:{mb:4,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",borderRadius:3,width:"100%"},children:n.jsx(ve,{sx:{p:{xs:3,sm:4}},children:n.jsxs(E,{sx:{display:"flex",justifyContent:"space-between",alignItems:{xs:"flex-start",sm:"center"},flexDirection:{xs:"column",sm:"row"},gap:{xs:3,sm:0}},children:[n.jsxs(E,{sx:{display:"flex",alignItems:"center"},children:[n.jsx(Ce,{sx:{bgcolor:"rgba(255,255,255,0.2)",width:{xs:56,sm:64},height:{xs:56,sm:64},mr:{xs:2,sm:3}},children:n.jsx(_r,{sx:{fontSize:{xs:28,sm:32}}})}),n.jsxs(E,{children:[n.jsx(S,{variant:"h4",sx:{fontWeight:700,mb:1,fontSize:{xs:"1.75rem",sm:"2.125rem"}},children:"Production Plans"}),n.jsx(S,{variant:"h6",sx:{opacity:.9},children:"Plan and schedule production activities"})]})]}),n.jsx(K,{variant:"contained",size:"large",startIcon:n.jsx(or,{}),onClick:G,sx:{bgcolor:"rgba(255,255,255,0.2)",color:"white","&:hover":{bgcolor:"rgba(255,255,255,0.3)"},px:4,py:1.5,borderRadius:2,width:{xs:"100%",sm:"auto"}},children:"Create Plan"})]})})})}),n.jsx(He,{in:!0,timeout:800,children:n.jsxs(Me,{sx:{borderRadius:3,overflow:"hidden",border:"1px solid",borderColor:"grey.200",width:"100%"},children:[n.jsx(E,{sx:{p:3,bgcolor:"grey.50",borderBottom:"1px solid",borderColor:"grey.200"},children:n.jsxs(k,{container:!0,spacing:3,children:[n.jsx(k,{item:!0,xs:12,md:4,children:n.jsx(H,{fullWidth:!0,label:"Search by Name or Description",value:l,onChange:L,InputProps:{startAdornment:n.jsx(Fe,{position:"start",children:n.jsx(Mr,{color:"action"})}),endAdornment:l&&n.jsx(Fe,{position:"end",children:n.jsx(ie,{size:"small",onClick:()=>c(""),children:n.jsx(gr,{})})})},sx:{"& .MuiOutlinedInput-root":{bgcolor:"white"}}})}),n.jsx(k,{item:!0,xs:12,md:4,children:n.jsxs(H,{select:!0,fullWidth:!0,label:"Filter by Status",value:a,onChange:z,InputProps:{startAdornment:n.jsx(Fe,{position:"start",children:n.jsx(Nf,{color:"action"})})},sx:{"& .MuiOutlinedInput-root":{bgcolor:"white"}},children:[n.jsx(V,{value:"",children:"All Statuses"}),n.jsx(V,{value:"DRAFT",children:"Draft"}),n.jsx(V,{value:"PENDING_APPROVAL",children:"Pending Approval"}),n.jsx(V,{value:"APPROVED",children:"Approved"}),n.jsx(V,{value:"REJECTED",children:"Rejected"}),n.jsx(V,{value:"IN_PROGRESS",children:"In Progress"}),n.jsx(V,{value:"COMPLETED",children:"Completed"})]})}),n.jsx(k,{item:!0,xs:12,md:4,children:n.jsx(K,{variant:"outlined",startIcon:n.jsx(gr,{}),onClick:U,disabled:!a&&!l,fullWidth:!0,sx:{height:"56px"},children:"Clear Filters"})})]})}),b&&n.jsxs(ge,{severity:"error",sx:{m:3},children:["Error loading production plans: ",b.message]}),y&&!j&&n.jsx(E,{sx:{display:"flex",justifyContent:"center",my:4},children:n.jsx(je,{size:60,thickness:4})}),!y&&J.length===0?n.jsxs(ge,{severity:"info",sx:{m:3},children:["No production plans found."," ",l||a?"Try clearing filters.":""]}):n.jsxs(n.Fragment,{children:[n.jsx(E,{sx:{width:"100%",overflowX:"auto"},children:n.jsxs(Nt,{sx:{minWidth:800},children:[n.jsx(_t,{children:n.jsxs(Ve,{children:[n.jsx(R,{children:"Plan ID"}),n.jsx(R,{children:"Product Name"}),n.jsx(R,{children:"Planned Start Date"}),n.jsx(R,{children:"Planned End Date"}),n.jsx(R,{children:"Priority"}),n.jsx(R,{children:"Status"}),n.jsx(R,{align:"right",children:"Actions"})]})}),n.jsx(At,{children:ne.map(ee=>{const Ie=ee.status.toUpperCase()==="DRAFT",te=ee.status.toUpperCase()==="PENDING_APPROVAL";return n.jsxs(Ve,{children:[n.jsx(R,{children:ee.planId}),n.jsx(R,{children:ee.productName}),n.jsx(R,{children:ee.plannedStartDate?yn(bn(ee.plannedStartDate),"dd MMM yyyy"):"N/A"}),n.jsx(R,{children:ee.plannedEndDate?yn(bn(ee.plannedEndDate),"dd MMM yyyy"):"N/A"}),n.jsx(R,{children:ee.priority}),n.jsx(R,{children:n.jsx(lS,{status:ee.status})}),n.jsxs(R,{align:"right",children:[n.jsx(Ee,{title:"View Details",children:n.jsx(ie,{size:"small",onClick:()=>me(ee.id),children:n.jsx(Gt,{fontSize:"small"})})}),(Ie||te)&&n.jsx(Ee,{title:"Edit Plan",children:n.jsx(ie,{size:"small",onClick:()=>he(ee.id),children:n.jsx(wt,{fontSize:"small"})})}),(Ie||te)&&n.jsx(Ee,{title:"Delete Plan",children:n.jsx(ie,{size:"small",color:"error",onClick:()=>w(ee.id),children:n.jsx(jt,{fontSize:"small"})})}),(Ie||te)&&n.jsx(Ee,{title:"Approve Plan",children:n.jsx(ie,{size:"small",color:"success",onClick:()=>N(ee.id),children:n.jsx(an,{fontSize:"small"})})})]})]},ee.id)})})]})}),n.jsx(dr,{rowsPerPageOptions:[5,10,25],component:"div",count:J.length,rowsPerPage:s,page:t,onPageChange:M,onRowsPerPageChange:W,sx:{borderTop:"1px solid",borderColor:"grey.200",bgcolor:"grey.50"}})]})]})}),n.jsxs($t,{open:u,onClose:_,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{borderRadius:3}},children:[n.jsx(Xt,{sx:{bgcolor:"error.main",color:"white",py:3,display:"flex",alignItems:"center"},children:n.jsx(S,{variant:"h6",sx:{fontWeight:600},children:"Delete Production Plan"})}),n.jsxs(Bt,{sx:{p:4},children:[n.jsx(Pn,{sx:{mb:3},children:"Are you sure you want to delete this production plan? This action cannot be undone."}),n.jsx(H,{autoFocus:!0,label:"Reason for Deletion",type:"text",fullWidth:!0,multiline:!0,rows:3,value:m,onChange:ee=>x(ee.target.value),sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})]}),n.jsxs(Vt,{sx:{p:3,bgcolor:"grey.50"},children:[n.jsx(K,{onClick:_,variant:"outlined",children:"Cancel"}),n.jsx(K,{onClick:O,color:"error",variant:"contained",disabled:D,startIcon:D&&n.jsx(je,{size:20}),children:"Delete"})]})]}),n.jsxs($t,{open:h,onClose:A,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{borderRadius:3}},children:[n.jsx(Xt,{sx:{bgcolor:"success.main",color:"white",py:3,display:"flex",alignItems:"center"},children:n.jsx(S,{variant:"h6",sx:{fontWeight:600},children:"Approve Production Plan"})}),n.jsx(Bt,{sx:{p:4},children:n.jsx(Pn,{children:"Are you sure you want to approve this production plan? This will make the plan available for execution."})}),n.jsxs(Vt,{sx:{p:3,bgcolor:"grey.50"},children:[n.jsx(K,{onClick:A,variant:"outlined",children:"Cancel"}),n.jsx(K,{onClick:B,color:"success",variant:"contained",disabled:I,startIcon:I&&n.jsx(je,{size:20}),children:"Approve"})]})]})]})},uS=({status:e})=>{let t="default";switch(e){case"DRAFT":t="default";break;case"PENDING_APPROVAL":t="warning";break;case"APPROVED":t="success";break;case"REJECTED":t="error";break;case"IN_PROGRESS":t="primary";break;case"COMPLETED":t="info";break;default:t="default"}return n.jsx(We,{label:e.replace("_"," "),color:t,size:"small"})},dS=()=>{const{id:e}=Ht(),t=Xe(),[r,s]=v.useState(!1),[i,a]=v.useState(!1),{loading:o,error:l,data:c,refetch:u}=mr(jl,{variables:{id:e},fetchPolicy:"cache-and-network"}),[d,{loading:h}]=Zt(kp,{onCompleted:()=>{De.success("Production plan deleted successfully"),t("/production-plans")},onError:M=>{De.error(`Failed to delete production plan: ${M.message}`)}}),[f,{loading:p}]=Zt(Dp,{onCompleted:()=>{De.success("Production plan approved successfully"),a(!1),u()},onError:M=>{De.error(`Failed to approve production plan: ${M.message}`)}}),g=()=>{s(!0)},m=()=>{s(!1)},x=()=>{a(!0)},y=()=>{a(!1)},b=()=>{d({variables:{id:e}})},j=()=>{f({variables:{id:e}})},P=()=>{t(`/production-plans/${e}/edit`)},C=()=>{t("/production-plans")};if(o&&!c)return n.jsx(E,{sx:{display:"flex",justifyContent:"center",my:4},children:n.jsx(je,{})});if(l)return n.jsxs(ge,{severity:"error",sx:{mt:2},children:["Error loading production plan: ",l.message]});if(!c||!c.plan)return n.jsx(ge,{severity:"warning",sx:{mt:2},children:"Production plan not found"});const{plan:D}=c,T=D.status&&D.status.toUpperCase()==="DRAFT",I=D.status&&D.status.toUpperCase()==="PENDING_APPROVAL";return n.jsxs(E,{sx:{width:"100%",maxWidth:1200,mx:"auto",p:{xs:2,sm:3},overflow:"hidden"},children:[n.jsx(be,{in:!0,timeout:600,children:n.jsx(Se,{elevation:0,sx:{mb:4,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",borderRadius:3,width:"100%"},children:n.jsx(ve,{sx:{p:{xs:3,sm:4}},children:n.jsxs(E,{sx:{display:"flex",justifyContent:"space-between",alignItems:{xs:"flex-start",sm:"center"},flexDirection:{xs:"column",sm:"row"},gap:{xs:3,sm:0}},children:[n.jsxs(E,{sx:{display:"flex",alignItems:"center"},children:[n.jsx(Ce,{sx:{bgcolor:"rgba(255,255,255,0.2)",width:{xs:56,sm:64},height:{xs:56,sm:64},mr:{xs:2,sm:3}},children:n.jsx(_r,{sx:{fontSize:{xs:28,sm:32}}})}),n.jsxs(E,{children:[n.jsx(S,{variant:"h4",sx:{fontWeight:700,mb:1,fontSize:{xs:"1.75rem",sm:"2.125rem"}},children:"Production Plan Details"}),n.jsxs(S,{variant:"h6",sx:{opacity:.9},children:["Plan ID: ",D.planId]})]})]}),n.jsxs(ze,{direction:{xs:"column",sm:"row"},spacing:2,children:[n.jsx(K,{variant:"outlined",startIcon:n.jsx(Lt,{}),onClick:C,sx:{bgcolor:"rgba(255,255,255,0.1)",color:"white",borderColor:"rgba(255,255,255,0.5)","&:hover":{bgcolor:"rgba(255,255,255,0.2)"},width:{xs:"100%",sm:"auto"}},children:"Back"}),T&&n.jsxs(n.Fragment,{children:[n.jsx(K,{variant:"outlined",startIcon:n.jsx(wt,{}),onClick:P,sx:{bgcolor:"rgba(255,255,255,0.1)",color:"white",borderColor:"rgba(255,255,255,0.5)","&:hover":{bgcolor:"rgba(255,255,255,0.2)"},width:{xs:"100%",sm:"auto"}},children:"Edit"}),n.jsx(K,{variant:"contained",color:"error",startIcon:n.jsx(jt,{}),onClick:g,sx:{bgcolor:"rgba(244, 67, 54, 0.8)","&:hover":{bgcolor:"rgba(244, 67, 54, 1)"},width:{xs:"100%",sm:"auto"}},children:"Delete"})]}),I&&n.jsx(K,{variant:"contained",color:"success",startIcon:n.jsx(an,{}),onClick:x,sx:{bgcolor:"rgba(76, 175, 80, 0.8)","&:hover":{bgcolor:"rgba(76, 175, 80, 1)"},width:{xs:"100%",sm:"auto"}},children:"Approve"})]})]})})})}),n.jsx(k,{container:!0,spacing:4,children:n.jsx(k,{item:!0,xs:12,children:n.jsx(He,{in:!0,timeout:800,children:n.jsx(Se,{sx:{height:"100%",border:"1px solid",borderColor:"grey.200"},children:n.jsxs(ve,{sx:{p:4},children:[n.jsxs(E,{sx:{display:"flex",alignItems:"center",mb:3},children:[n.jsx(Ce,{sx:{bgcolor:"primary.main",mr:2},children:n.jsx(wi,{})}),n.jsx(S,{variant:"h6",sx:{fontWeight:600},children:"Plan Information"})]}),n.jsx(ze,{spacing:3,children:n.jsxs(k,{container:!0,spacing:2,children:[n.jsx(k,{item:!0,xs:4,children:n.jsx(S,{variant:"body2",color:"text.secondary",children:"Product Name"})}),n.jsx(k,{item:!0,xs:8,children:n.jsx(S,{variant:"body2",children:D.productName})}),n.jsx(k,{item:!0,xs:4,children:n.jsx(S,{variant:"body2",color:"text.secondary",children:"Notes"})}),n.jsx(k,{item:!0,xs:8,children:n.jsx(S,{variant:"body2",children:D.planningNotes})}),n.jsx(k,{item:!0,xs:4,children:n.jsx(S,{variant:"body2",color:"text.secondary",children:"Status"})}),n.jsx(k,{item:!0,xs:8,children:n.jsx(uS,{status:D.status})}),n.jsx(k,{item:!0,xs:4,children:n.jsx(S,{variant:"body2",color:"text.secondary",children:"Planned Start Date"})}),n.jsx(k,{item:!0,xs:8,children:n.jsx(S,{variant:"body2",children:D.plannedStartDate?yn(bn(D.plannedStartDate),"dd MMM yyyy"):"N/A"})}),n.jsx(k,{item:!0,xs:4,children:n.jsx(S,{variant:"body2",color:"text.secondary",children:"Planned End Date"})}),n.jsx(k,{item:!0,xs:8,children:n.jsx(S,{variant:"body2",children:D.plannedEndDate?yn(bn(D.plannedEndDate),"dd MMM yyyy"):"N/A"})}),n.jsx(k,{item:!0,xs:4,children:n.jsx(S,{variant:"body2",color:"text.secondary",children:"Plan ID"})}),n.jsx(k,{item:!0,xs:8,children:n.jsx(S,{variant:"body2",children:D.planId})}),n.jsx(k,{item:!0,xs:4,children:n.jsx(S,{variant:"body2",color:"text.secondary",children:"Request ID"})}),n.jsx(k,{item:!0,xs:8,children:n.jsx(S,{variant:"body2",children:D.requestId})}),n.jsx(k,{item:!0,xs:4,children:n.jsx(S,{variant:"body2",color:"text.secondary",children:"Production Request ID"})}),n.jsx(k,{item:!0,xs:8,children:n.jsx(S,{variant:"body2",children:D.productionRequestId||"-"})}),n.jsx(k,{item:!0,xs:4,children:n.jsx(S,{variant:"body2",color:"text.secondary",children:"Priority"})}),n.jsx(k,{item:!0,xs:8,children:n.jsx(S,{variant:"body2",children:D.priority})}),n.jsx(k,{item:!0,xs:4,children:n.jsx(S,{variant:"body2",color:"text.secondary",children:"Planned Batches"})}),n.jsx(k,{item:!0,xs:8,children:n.jsx(S,{variant:"body2",children:D.plannedBatches||"N/A"})}),n.jsx(k,{item:!0,xs:4,children:n.jsx(S,{variant:"body2",color:"text.secondary",children:"Created At"})}),n.jsx(k,{item:!0,xs:8,children:n.jsx(S,{variant:"body2",children:D.createdAt?yn(bn(D.createdAt),"dd MMM yyyy HH:mm"):"N/A"})}),n.jsx(k,{item:!0,xs:4,children:n.jsx(S,{variant:"body2",color:"text.secondary",children:"Updated At"})}),n.jsx(k,{item:!0,xs:8,children:n.jsx(S,{variant:"body2",children:D.updatedAt?yn(bn(D.updatedAt),"dd MMM yyyy HH:mm"):"N/A"})})]})})]})})})})}),n.jsxs($t,{open:r,onClose:m,children:[n.jsx(Xt,{children:"Delete Production Plan"}),n.jsx(Bt,{children:n.jsx(Pn,{children:"Are you sure you want to delete this production plan? This action cannot be undone."})}),n.jsxs(Vt,{children:[n.jsx(K,{onClick:m,children:"Cancel"}),n.jsx(K,{onClick:b,color:"error",disabled:h,startIcon:h&&n.jsx(je,{size:20}),children:"Delete"})]})]}),n.jsxs($t,{open:i,onClose:y,children:[n.jsx(Xt,{children:"Approve Production Plan"}),n.jsx(Bt,{children:n.jsx(Pn,{children:"Are you sure you want to approve this production plan? This will make the plan available for execution."})}),n.jsxs(Vt,{children:[n.jsx(K,{onClick:y,children:"Cancel"}),n.jsx(K,{onClick:j,color:"success",disabled:p,startIcon:p&&n.jsx(je,{size:20}),children:"Approve"})]})]})]})};function hS(e){return typeof e=="string"}function fS(e,t,r){return e===void 0||hS(e)?t:{...t,ownerState:{...t.ownerState,...r}}}function pS(e,t=[]){if(e===void 0)return{};const r={};return Object.keys(e).filter(s=>s.match(/^on[A-Z]/)&&typeof e[s]=="function"&&!t.includes(s)).forEach(s=>{r[s]=e[s]}),r}function gc(e,t,r){return typeof e=="function"?e(t,r):e}function mS(...e){const t=v.useRef(void 0),r=v.useCallback(s=>{const i=e.map(a=>{if(a==null)return null;if(typeof a=="function"){const o=a,l=o(s);return typeof l=="function"?l:()=>{o(null)}}return a.current=s,()=>{a.current=null}});return()=>{i.forEach(a=>a==null?void 0:a())}},e);return v.useMemo(()=>e.every(s=>s==null)?null:s=>{t.current&&(t.current(),t.current=void 0),s!=null&&(t.current=r(s))},e)}function bd(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(r=>!(r.match(/^on[A-Z]/)&&typeof e[r]=="function")).forEach(r=>{t[r]=e[r]}),t}function xS(e){const{getSlotProps:t,additionalProps:r,externalSlotProps:s,externalForwardedProps:i,className:a}=e;if(!t){const p=lt(r==null?void 0:r.className,a,i==null?void 0:i.className,s==null?void 0:s.className),g={...r==null?void 0:r.style,...i==null?void 0:i.style,...s==null?void 0:s.style},m={...r,...i,...s};return p.length>0&&(m.className=p),Object.keys(g).length>0&&(m.style=g),{props:m,internalRef:void 0}}const o=pS({...i,...s}),l=bd(s),c=bd(i),u=t(o),d=lt(u==null?void 0:u.className,r==null?void 0:r.className,a,i==null?void 0:i.className,s==null?void 0:s.className),h={...u==null?void 0:u.style,...r==null?void 0:r.style,...i==null?void 0:i.style,...s==null?void 0:s.style},f={...u,...r,...c,...l};return d.length>0&&(f.className=d),Object.keys(h).length>0&&(f.style=h),{props:f,internalRef:u.ref}}function vt(e){var h;const{elementType:t,externalSlotProps:r,ownerState:s,skipResolvingSlotProps:i=!1,...a}=e,o=i?{}:gc(r,s),{props:l,internalRef:c}=xS({...a,externalSlotProps:o}),u=mS(c,o==null?void 0:o.ref,(h=e.additionalProps)==null?void 0:h.ref);return fS(t,{...l,ref:u},s)}const qs=(e,t)=>e.length!==t.length?!1:t.every(r=>e.includes(r)),gS=({openTo:e,defaultOpenTo:t,views:r,defaultViews:s})=>{const i=r??s;let a;if(e!=null)a=e;else if(i.includes(t))a=t;else if(i.length>0)a=i[0];else throw new Error("MUI: The `views` prop must contain at least one view");return{views:i,openTo:a}},fa=(e,t,r)=>{let s=t;return s=e.setHours(s,e.getHours(r)),s=e.setMinutes(s,e.getMinutes(r)),s=e.setSeconds(s,e.getSeconds(r)),s},ti=({date:e,disableFuture:t,disablePast:r,maxDate:s,minDate:i,isDateDisabled:a,utils:o,timezone:l})=>{const c=fa(o,o.dateWithTimezone(void 0,l),e);r&&o.isBefore(i,c)&&(i=c),t&&o.isAfter(s,c)&&(s=c);let u=e,d=e;for(o.isBefore(e,i)&&(u=i,d=null),o.isAfter(e,s)&&(d&&(d=s),u=null);u||d;){if(u&&o.isAfter(u,s)&&(u=null),d&&o.isBefore(d,i)&&(d=null),u){if(!a(u))return u;u=o.addDays(u,1)}if(d){if(!a(d))return d;d=o.addDays(d,-1)}}return null},yS=(e,t)=>t==null||!e.isValid(t)?null:t,ar=(e,t,r)=>t==null||!e.isValid(t)?r:t,bS=(e,t,r)=>!e.isValid(t)&&t!=null&&!e.isValid(r)&&r!=null?!0:e.isEqual(t,r),yc=(e,t)=>{const s=[e.startOfYear(t)];for(;s.length<12;){const i=s[s.length-1];s.push(e.addMonths(i,1))}return s},Ip=(e,t,r)=>r==="date"?e.startOfDay(e.dateWithTimezone(void 0,t)):e.dateWithTimezone(void 0,t),vS=["year","month","day"],vd=e=>vS.includes(e),bc=(e,{format:t,views:r},s)=>{if(t!=null)return t;const i=e.formats;return qs(r,["year"])?i.year:qs(r,["month"])?i.month:qs(r,["day"])?i.dayOfMonth:qs(r,["month","year"])?`${i.month} ${i.year}`:qs(r,["day","month"])?`${i.month} ${i.dayOfMonth}`:s?/en/.test(e.getCurrentLocaleCode())?i.normalDateWithWeekday:i.normalDate:i.keyboardDate},jS=(e,t)=>{const r=e.startOfWeek(t);return[0,1,2,3,4,5,6].map(s=>e.addDays(r,s))},wS=["hours","minutes","seconds"],SS=e=>wS.includes(e),jd=(e,t)=>t.getHours(e)*3600+t.getMinutes(e)*60+t.getSeconds(e),CS=(e,t)=>(r,s)=>e?t.isAfter(r,s):jd(r,t)>jd(s,t),Cr={year:1,month:2,day:3,hours:4,minutes:5,seconds:6,milliseconds:7},PS=e=>Math.max(...e.map(t=>{var r;return(r=Cr[t.type])!=null?r:1})),$s=(e,t,r)=>{if(t===Cr.year)return e.startOfYear(r);if(t===Cr.month)return e.startOfMonth(r);if(t===Cr.day)return e.startOfDay(r);let s=r;return t<Cr.minutes&&(s=e.setMinutes(s,0)),t<Cr.seconds&&(s=e.setSeconds(s,0)),t<Cr.milliseconds&&(s=e.setMilliseconds(s,0)),s},kS=({props:e,utils:t,granularity:r,timezone:s,getTodayDate:i})=>{var a;let o=i?i():$s(t,r,Ip(t,s));e.minDate!=null&&t.isAfterDay(e.minDate,o)&&(o=$s(t,r,e.minDate)),e.maxDate!=null&&t.isBeforeDay(e.maxDate,o)&&(o=$s(t,r,e.maxDate));const l=CS((a=e.disableIgnoringDatePartForTimeValidation)!=null?a:!1,t);return e.minTime!=null&&l(e.minTime,o)&&(o=$s(t,r,e.disableIgnoringDatePartForTimeValidation?e.minTime:fa(t,o,e.minTime))),e.maxTime!=null&&l(o,e.maxTime)&&(o=$s(t,r,e.disableIgnoringDatePartForTimeValidation?e.maxTime:fa(t,o,e.maxTime))),o},Ep=(e,t)=>{const r=e.formatTokenMap[t];if(r==null)throw new Error([`MUI: The token "${t}" is not supported by the Date and Time Pickers.`,"Please try using another token or open an issue on https://github.com/mui/mui-x/issues/new/choose if you think it should be supported."].join(`
`));return typeof r=="string"?{type:r,contentType:r==="meridiem"?"letter":"digit",maxLength:void 0}:{type:r.sectionType,contentType:r.contentType,maxLength:r.maxLength}},DS=e=>{switch(e){case"ArrowUp":return 1;case"ArrowDown":return-1;case"PageUp":return 5;case"PageDown":return-5;default:return 0}},La=(e,t,r)=>{const s=[],i=e.dateWithTimezone(void 0,t),a=e.startOfWeek(i),o=e.endOfWeek(i);let l=a;for(;e.isBefore(l,o);)s.push(l),l=e.addDays(l,1);return s.map(c=>e.formatByString(c,r))},Tp=(e,t,r,s)=>{switch(r){case"month":return yc(e,e.dateWithTimezone(void 0,t)).map(i=>e.formatByString(i,s));case"weekDay":return La(e,t,s);case"meridiem":{const i=e.dateWithTimezone(void 0,t);return[e.startOfDay(i),e.endOfDay(i)].map(a=>e.formatByString(a,s))}default:return[]}},Mp=(e,t,r)=>{let s=t;for(s=Number(s).toString();s.length<r;)s=`0${s}`;return s},Op=(e,t,r,s,i)=>{if(i.type==="day"&&i.contentType==="digit-with-letter"){const o=e.setDate(s.longestMonth,r);return e.formatByString(o,i.format)}const a=r.toString();return i.hasLeadingZerosInInput?Mp(e,a,i.maxLength):a},IS=(e,t,r,s,i,a,o)=>{const l=DS(s),c=s==="Home",u=s==="End",d=r.value===""||c||u,h=()=>{const p=i[r.type]({currentDate:a,format:r.format,contentType:r.contentType}),g=b=>Op(e,t,b,p,r),m=r.type==="minutes"&&o!=null&&o.minutesStep?o.minutesStep:1;let y=parseInt(r.value,10)+l*m;if(d){if(r.type==="year"&&!u&&!c)return e.formatByString(e.dateWithTimezone(void 0,t),r.format);l>0||c?y=p.minimum:y=p.maximum}return y%m!==0&&((l<0||c)&&(y+=m-(m+y)%m),(l>0||u)&&(y-=y%m)),y>p.maximum?g(p.minimum+(y-p.maximum-1)%(p.maximum-p.minimum+1)):y<p.minimum?g(p.maximum-(p.minimum-y-1)%(p.maximum-p.minimum+1)):g(y)},f=()=>{const p=Tp(e,t,r.type,r.format);if(p.length===0)return r.value;if(d)return l>0||c?p[0]:p[p.length-1];const m=(p.indexOf(r.value)+p.length+l)%p.length;return p[m]};return r.contentType==="digit"||r.contentType==="digit-with-letter"?h():f()},vc=(e,t)=>{let r=e.value||e.placeholder;const s=t==="non-input"?e.hasLeadingZerosInFormat:e.hasLeadingZerosInInput;return t==="non-input"&&e.hasLeadingZerosInInput&&!e.hasLeadingZerosInFormat&&(r=Number(r).toString()),["input-rtl","input-ltr"].includes(t)&&e.contentType==="digit"&&!s&&r.length===1&&(r=`${r}‎`),t==="input-rtl"&&(r=`⁨${r}⁩`),r},Gn=e=>e.replace(/[\u2066\u2067\u2068\u2069]/g,""),Rp=(e,t)=>{let r=0,s=t?1:0;const i=[];for(let a=0;a<e.length;a+=1){const o=e[a],l=vc(o,t?"input-rtl":"input-ltr"),c=`${o.startSeparator}${l}${o.endSeparator}`,u=Gn(c).length,d=c.length,h=Gn(l),f=s+l.indexOf(h[0])+o.startSeparator.length,p=f+h.length;i.push($({},o,{start:r,end:r+u,startInInput:f,endInInput:p})),r+=u,s+=d}return i},ES=(e,t,r,s,i)=>{switch(s.type){case"year":return r.fieldYearPlaceholder({digitAmount:e.formatByString(e.dateWithTimezone(void 0,t),i).length,format:i});case"month":return r.fieldMonthPlaceholder({contentType:s.contentType,format:i});case"day":return r.fieldDayPlaceholder({format:i});case"weekDay":return r.fieldWeekDayPlaceholder({contentType:s.contentType,format:i});case"hours":return r.fieldHoursPlaceholder({format:i});case"minutes":return r.fieldMinutesPlaceholder({format:i});case"seconds":return r.fieldSecondsPlaceholder({format:i});case"meridiem":return r.fieldMeridiemPlaceholder({format:i});default:return i}},wd=(e,t,r,s)=>e.formatByString(e.parse(t,r),s),Np=(e,t,r)=>e.formatByString(e.dateWithTimezone(void 0,t),r).length===4,_p=(e,t,r,s,i)=>{if(r!=="digit")return!1;const a=e.dateWithTimezone(void 0,t);switch(s){case"year":return Np(e,t,i)?e.formatByString(e.setYear(a,1),i)==="0001":e.formatByString(e.setYear(a,2001),i)==="01";case"month":return e.formatByString(e.startOfYear(a),i).length>1;case"day":return e.formatByString(e.startOfMonth(a),i).length>1;case"weekDay":return e.formatByString(e.startOfWeek(a),i).length>1;case"hours":return e.formatByString(e.setHours(a,1),i).length>1;case"minutes":return e.formatByString(e.setMinutes(a,1),i).length>1;case"seconds":return e.formatByString(e.setSeconds(a,1),i).length>1;default:throw new Error("Invalid section type")}},TS=(e,t)=>{const r=[],{start:s,end:i}=e.escapedCharacters,a=new RegExp(`(\\${s}[^\\${i}]*\\${i})+`,"g");let o=null;for(;o=a.exec(t);)r.push({start:o.index,end:a.lastIndex-1});return r},Sd=(e,t,r,s,i,a,o,l)=>{let c="";const u=[],d=e.date(),h=j=>{if(j==="")return null;const P=Ep(e,j),C=_p(e,t,P.contentType,P.type,j),D=o?C:P.contentType==="digit",T=i!=null&&e.isValid(i);let I=T?e.formatByString(i,j):"",M=null;if(D)if(C)M=I===""?e.formatByString(d,j).length:I.length;else{if(P.maxLength==null)throw new Error(`MUI: The token ${j} should have a 'maxDigitNumber' property on it's adapter`);M=P.maxLength,T&&(I=Mp(e,I,M))}return u.push($({},P,{format:j,maxLength:M,value:I,placeholder:ES(e,t,r,P,j),hasLeadingZeros:C,hasLeadingZerosInFormat:C,hasLeadingZerosInInput:D,startSeparator:u.length===0?c:"",endSeparator:"",modified:!1})),null};let f=10,p=s,g=e.expandFormat(s);for(;g!==p;)if(p=g,g=e.expandFormat(p),f-=1,f<0)throw new Error("MUI: The format expansion seems to be  enter in an infinite loop. Please open an issue with the format passed to the picker component");const m=g,x=TS(e,m),y=new RegExp(`^(${Object.keys(e.formatTokenMap).sort((j,P)=>P.length-j.length).join("|")})`,"g");let b="";for(let j=0;j<m.length;j+=1){const P=x.find(M=>M.start<=j&&M.end>=j),C=m[j],D=P!=null,T=`${b}${m.slice(j)}`,I=y.test(T);!D&&C.match(/([A-Za-z]+)/)&&I?(b=T.slice(0,y.lastIndex),j+=y.lastIndex-1):D&&(P==null?void 0:P.start)===j||(P==null?void 0:P.end)===j||(h(b),b="",u.length===0?c+=C:u[u.length-1].endSeparator+=C)}return h(b),u.map(j=>{const P=C=>{let D=C;return l&&D!==null&&D.includes(" ")&&(D=`⁩${D}⁦`),a==="spacious"&&["/",".","-"].includes(D)&&(D=` ${D} `),D};return j.startSeparator=P(j.startSeparator),j.endSeparator=P(j.endSeparator),j})},MS=(e,t)=>{const r=t.some(l=>l.type==="day"),s=[],i=[];for(let l=0;l<t.length;l+=1){const c=t[l];r&&c.type==="weekDay"||(s.push(c.format),i.push(vc(c,"non-input")))}const a=s.join(" "),o=i.join(" ");return e.parse(o,a)},OS=(e,t)=>{const s=e.map(i=>{const a=vc(i,t?"input-rtl":"input-ltr");return`${i.startSeparator}${a}${i.endSeparator}`}).join("");return t?`⁦${s}⁩`:s},RS=(e,t)=>{const r=e.dateWithTimezone(void 0,t),s=e.endOfYear(r),i=e.endOfDay(r),{maxDaysInMonth:a,longestMonth:o}=yc(e,r).reduce((l,c)=>{const u=e.getDaysInMonth(c);return u>l.maxDaysInMonth?{maxDaysInMonth:u,longestMonth:c}:l},{maxDaysInMonth:0,longestMonth:null});return{year:({format:l})=>({minimum:0,maximum:Np(e,t,l)?9999:99}),month:()=>({minimum:1,maximum:e.getMonth(s)+1}),day:({currentDate:l})=>({minimum:1,maximum:l!=null&&e.isValid(l)?e.getDaysInMonth(l):a,longestMonth:o}),weekDay:({format:l,contentType:c})=>{if(c==="digit"){const u=La(e,t,l).map(Number);return{minimum:Math.min(...u),maximum:Math.max(...u)}}return{minimum:1,maximum:7}},hours:({format:l})=>{const c=e.getHours(i);return e.formatByString(e.endOfDay(r),l)!==c.toString()?{minimum:1,maximum:Number(e.formatByString(e.startOfDay(r),l))}:{minimum:0,maximum:c}},minutes:()=>({minimum:0,maximum:e.getMinutes(i)}),seconds:()=>({minimum:0,maximum:e.getSeconds(i)}),meridiem:()=>({minimum:0,maximum:0})}},NS=(e,t,r,s,i)=>{switch(r.type){case"year":return e.setYear(i,e.getYear(s));case"month":return e.setMonth(i,e.getMonth(s));case"weekDay":{const a=La(e,t,r.format),o=e.formatByString(s,r.format),l=a.indexOf(o),u=a.indexOf(r.value)-l;return e.addDays(s,u)}case"day":return e.setDate(i,e.getDate(s));case"meridiem":{const a=e.getHours(s)<12,o=e.getHours(i);return a&&o>=12?e.addHours(i,-12):!a&&o<12?e.addHours(i,12):i}case"hours":return e.setHours(i,e.getHours(s));case"minutes":return e.setMinutes(i,e.getMinutes(s));case"seconds":return e.setSeconds(i,e.getSeconds(s));default:return i}},Cd={year:1,month:2,day:3,weekDay:4,hours:5,minutes:6,seconds:7,meridiem:8},Pd=(e,t,r,s,i,a)=>[...s].sort((o,l)=>Cd[o.type]-Cd[l.type]).reduce((o,l)=>!a||l.modified?NS(e,t,l,r,o):o,i),_S=()=>navigator.userAgent.toLowerCase().indexOf("android")>-1,AS=(e,t)=>{const r={};if(!t)return e.forEach((c,u)=>{const d=u===0?null:u-1,h=u===e.length-1?null:u+1;r[u]={leftIndex:d,rightIndex:h}}),{neighbors:r,startIndex:0,endIndex:e.length-1};const s={},i={};let a=0,o=0,l=e.length-1;for(;l>=0;){o=e.findIndex((c,u)=>{var d;return u>=a&&((d=c.endSeparator)==null?void 0:d.includes(" "))&&c.endSeparator!==" / "}),o===-1&&(o=e.length-1);for(let c=o;c>=a;c-=1)i[c]=l,s[l]=c,l-=1;a=o+1}return e.forEach((c,u)=>{const d=i[u],h=d===0?null:s[d-1],f=d===e.length-1?null:s[d+1];r[u]={leftIndex:h,rightIndex:f}}),{neighbors:r,startIndex:s[0],endIndex:s[e.length-1]}},FS=["value","referenceDate"],Ar={emptyValue:null,getTodayValue:Ip,getInitialReferenceValue:e=>{let{value:t,referenceDate:r}=e,s=Ze(e,FS);return t!=null&&s.utils.isValid(t)?t:r??kS(s)},cleanValue:yS,areValuesEqual:bS,isSameError:(e,t)=>e===t,hasError:e=>e!=null,defaultErrorState:null,getTimezone:(e,t)=>t==null||!e.isValid(t)?null:e.getTimezone(t),setTimezone:(e,t,r)=>r==null?null:e.setTimezone(r,t)},LS={updateReferenceValue:(e,t,r)=>t==null||!e.isValid(t)?r:t,getSectionsFromValue:(e,t,r,s,i)=>!e.isValid(t)&&!!r?r:Rp(i(t),s),getValueStrFromSections:OS,getActiveDateManager:(e,t)=>({date:t.value,referenceDate:t.referenceValue,getSections:r=>r,getNewValuesFromNewActiveDate:r=>({value:r,referenceValue:r==null||!e.isValid(r)?t.referenceValue:r})}),parseValueStr:(e,t,r)=>r(e.trim(),t)},WS=["localeText"],wl=v.createContext(null),jc=function(t){var r;const{localeText:s}=t,i=Ze(t,WS),{utils:a,localeText:o}=(r=v.useContext(wl))!=null?r:{utils:void 0,localeText:void 0},l=Ct({props:i,name:"MuiLocalizationProvider"}),{children:c,dateAdapter:u,dateFormats:d,dateLibInstance:h,adapterLocale:f,localeText:p}=l,g=v.useMemo(()=>$({},p,o,s),[p,o,s]),m=v.useMemo(()=>{if(!u)return a||null;const b=new u({locale:f,formats:d,instance:h});if(!b.isMUIAdapter)throw new Error(["MUI: The date adapter should be imported from `@mui/x-date-pickers` or `@mui/x-date-pickers-pro`, not from `@date-io`","For example, `import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'` instead of `import AdapterDayjs from '@date-io/dayjs'`","More information on the installation documentation: https://mui.com/x/react-date-pickers/getting-started/#installation"].join(`
`));return b},[u,f,d,h,a]),x=v.useMemo(()=>m?{minDate:m.date("1900-01-01T00:00:00.000"),maxDate:m.date("2099-12-31T00:00:00.000")}:null,[m]),y=v.useMemo(()=>({utils:m,defaultDates:x,localeText:g}),[x,m,g]);return n.jsx(wl.Provider,{value:y,children:c})},qS=e=>({components:{MuiLocalizationProvider:{defaultProps:{localeText:$({},e)}}}}),Ap={previousMonth:"Previous month",nextMonth:"Next month",openPreviousView:"open previous view",openNextView:"open next view",calendarViewSwitchingButtonAriaLabel:e=>e==="year"?"year view is open, switch to calendar view":"calendar view is open, switch to year view",start:"Start",end:"End",cancelButtonLabel:"Cancel",clearButtonLabel:"Clear",okButtonLabel:"OK",todayButtonLabel:"Today",datePickerToolbarTitle:"Select date",dateTimePickerToolbarTitle:"Select date & time",timePickerToolbarTitle:"Select time",dateRangePickerToolbarTitle:"Select date range",clockLabelText:(e,t,r)=>`Select ${e}. ${t===null?"No time selected":`Selected time is ${r.format(t,"fullTime")}`}`,hoursClockNumberText:e=>`${e} hours`,minutesClockNumberText:e=>`${e} minutes`,secondsClockNumberText:e=>`${e} seconds`,selectViewText:e=>`Select ${e}`,calendarWeekNumberHeaderLabel:"Week number",calendarWeekNumberHeaderText:"#",calendarWeekNumberAriaLabelText:e=>`Week ${e}`,calendarWeekNumberText:e=>`${e}`,openDatePickerDialogue:(e,t)=>e!==null&&t.isValid(e)?`Choose date, selected date is ${t.format(e,"fullDate")}`:"Choose date",openTimePickerDialogue:(e,t)=>e!==null&&t.isValid(e)?`Choose time, selected time is ${t.format(e,"fullTime")}`:"Choose time",fieldClearLabel:"Clear value",timeTableLabel:"pick time",dateTableLabel:"pick date",fieldYearPlaceholder:e=>"Y".repeat(e.digitAmount),fieldMonthPlaceholder:e=>e.contentType==="letter"?"MMMM":"MM",fieldDayPlaceholder:()=>"DD",fieldWeekDayPlaceholder:e=>e.contentType==="letter"?"EEEE":"EE",fieldHoursPlaceholder:()=>"hh",fieldMinutesPlaceholder:()=>"mm",fieldSecondsPlaceholder:()=>"ss",fieldMeridiemPlaceholder:()=>"aa"},$S=Ap;qS(Ap);const An=()=>{const e=v.useContext(wl);if(e===null)throw new Error(["MUI: Can not find the date and time pickers localization context.","It looks like you forgot to wrap your component in LocalizationProvider.","This can also happen if you are bundling multiple versions of the `@mui/x-date-pickers` package"].join(`
`));if(e.utils===null)throw new Error(["MUI: Can not find the date and time pickers adapter from its localization context.","It looks like you forgot to pass a `dateAdapter` to your LocalizationProvider."].join(`
`));const t=v.useMemo(()=>$({},$S,e.localeText),[e.localeText]);return v.useMemo(()=>$({},e,{localeText:t}),[e,t])},ot=()=>An().utils,Ei=()=>An().defaultDates,ln=()=>An().localeText,Wa=e=>{const t=ot(),r=v.useRef();return r.current===void 0&&(r.current=t.dateWithTimezone(void 0,e)),r.current};function BS(e){return Ut("MuiPickersToolbar",e)}Qt("MuiPickersToolbar",["root","content"]);const VS=e=>{const{classes:t,isLandscape:r}=e;return Ft({root:["root"],content:["content"],penIconButton:["penIconButton",r&&"penIconButtonLandscape"]},BS,t)},zS=qe("div",{name:"MuiPickersToolbar",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e,ownerState:t})=>$({display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",padding:e.spacing(2,3)},t.isLandscape&&{height:"auto",maxWidth:160,padding:16,justifyContent:"flex-start",flexWrap:"wrap"})),US=qe("div",{name:"MuiPickersToolbar",slot:"Content",overridesResolver:(e,t)=>t.content})(({ownerState:e})=>{var t;return{display:"flex",flexWrap:"wrap",width:"100%",justifyContent:e.isLandscape?"flex-start":"space-between",flexDirection:e.isLandscape?(t=e.landscapeDirection)!=null?t:"column":"row",flex:1,alignItems:e.isLandscape?"flex-start":"center"}}),QS=v.forwardRef(function(t,r){const s=Ct({props:t,name:"MuiPickersToolbar"}),{children:i,className:a,toolbarTitle:o,hidden:l,titleId:c}=s,u=s,d=VS(u);return l?null:n.jsxs(zS,{ref:r,className:lt(d.root,a),ownerState:u,children:[n.jsx(S,{color:"text.secondary",variant:"overline",id:c,children:o}),n.jsx(US,{className:d.content,ownerState:u,children:i})]})});function HS(e){return Ut("MuiDatePickerToolbar",e)}Qt("MuiDatePickerToolbar",["root","title"]);const YS=["value","isLandscape","onChange","toolbarFormat","toolbarPlaceholder","views","className"],GS=e=>{const{classes:t}=e;return Ft({root:["root"],title:["title"]},HS,t)},KS=qe(QS,{name:"MuiDatePickerToolbar",slot:"Root",overridesResolver:(e,t)=>t.root})({}),JS=qe(S,{name:"MuiDatePickerToolbar",slot:"Title",overridesResolver:(e,t)=>t.title})(({ownerState:e})=>$({},e.isLandscape&&{margin:"auto 16px auto auto"})),XS=v.forwardRef(function(t,r){const s=Ct({props:t,name:"MuiDatePickerToolbar"}),{value:i,isLandscape:a,toolbarFormat:o,toolbarPlaceholder:l="––",views:c,className:u}=s,d=Ze(s,YS),h=ot(),f=ln(),p=GS(s),g=v.useMemo(()=>{if(!i)return l;const x=bc(h,{format:o,views:c},!0);return h.formatByString(i,x)},[i,o,l,h,c]),m=s;return n.jsx(KS,$({ref:r,toolbarTitle:f.datePickerToolbarTitle,isLandscape:a,className:lt(p.root,u)},d,{children:n.jsx(JS,{variant:"h4",align:a?"left":"center",ownerState:m,className:p.title,children:g})}))}),Fp=e=>{if(e!==void 0)return Object.keys(e).reduce((t,r)=>$({},t,{[`${r.slice(0,1).toLowerCase()}${r.slice(1)}`]:e[r]}),{})};function Lp(e,t){var r,s,i,a;const o=ot(),l=Ei(),c=Ct({props:e,name:t}),u=v.useMemo(()=>{var h;return((h=c.localeText)==null?void 0:h.toolbarTitle)==null?c.localeText:$({},c.localeText,{datePickerToolbarTitle:c.localeText.toolbarTitle})},[c.localeText]),d=(r=c.slots)!=null?r:Fp(c.components);return $({},c,{localeText:u},gS({views:c.views,openTo:c.openTo,defaultViews:["year","day"],defaultOpenTo:"day"}),{disableFuture:(s=c.disableFuture)!=null?s:!1,disablePast:(i=c.disablePast)!=null?i:!1,minDate:ar(o,c.minDate,l.minDate),maxDate:ar(o,c.maxDate,l.maxDate),slots:$({toolbar:XS},d),slotProps:(a=c.slotProps)!=null?a:c.componentsProps})}const ZS=fe(n.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),eC=fe(n.jsx("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"ArrowLeft"),tC=fe(n.jsx("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"ArrowRight"),rC=fe(n.jsx("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}),"Calendar");fe(n.jsxs(v.Fragment,{children:[n.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),n.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Clock");fe(n.jsx("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}),"DateRange");fe(n.jsxs(v.Fragment,{children:[n.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),n.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Time");const nC=fe(n.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");function sC(e){return Ut("MuiPickersArrowSwitcher",e)}Qt("MuiPickersArrowSwitcher",["root","spacer","button"]);const iC=["children","className","slots","slotProps","isNextDisabled","isNextHidden","onGoToNext","nextLabel","isPreviousDisabled","isPreviousHidden","onGoToPrevious","previousLabel"],aC=["ownerState"],oC=["ownerState"],lC=qe("div",{name:"MuiPickersArrowSwitcher",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex"}),cC=qe("div",{name:"MuiPickersArrowSwitcher",slot:"Spacer",overridesResolver:(e,t)=>t.spacer})(({theme:e})=>({width:e.spacing(3)})),kd=qe(ie,{name:"MuiPickersArrowSwitcher",slot:"Button",overridesResolver:(e,t)=>t.button})(({ownerState:e})=>$({},e.hidden&&{visibility:"hidden"})),uC=e=>{const{classes:t}=e;return Ft({root:["root"],spacer:["spacer"],button:["button"]},sC,t)},dC=v.forwardRef(function(t,r){var s,i,a,o;const c=Fr().direction==="rtl",u=Ct({props:t,name:"MuiPickersArrowSwitcher"}),{children:d,className:h,slots:f,slotProps:p,isNextDisabled:g,isNextHidden:m,onGoToNext:x,nextLabel:y,isPreviousDisabled:b,isPreviousHidden:j,onGoToPrevious:P,previousLabel:C}=u,D=Ze(u,iC),T=u,I=uC(T),M={isDisabled:g,isHidden:m,goTo:x,label:y},W={isDisabled:b,isHidden:j,goTo:P,label:C},z=(s=f==null?void 0:f.previousIconButton)!=null?s:kd,L=vt({elementType:z,externalSlotProps:p==null?void 0:p.previousIconButton,additionalProps:{size:"medium",title:W.label,"aria-label":W.label,disabled:W.isDisabled,edge:"end",onClick:W.goTo},ownerState:$({},T,{hidden:W.isHidden}),className:I.button}),U=(i=f==null?void 0:f.nextIconButton)!=null?i:kd,w=vt({elementType:U,externalSlotProps:p==null?void 0:p.nextIconButton,additionalProps:{size:"medium",title:M.label,"aria-label":M.label,disabled:M.isDisabled,edge:"start",onClick:M.goTo},ownerState:$({},T,{hidden:M.isHidden}),className:I.button}),_=(a=f==null?void 0:f.leftArrowIcon)!=null?a:eC,N=vt({elementType:_,externalSlotProps:p==null?void 0:p.leftArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),A=Ze(N,aC),O=(o=f==null?void 0:f.rightArrowIcon)!=null?o:tC,B=vt({elementType:O,externalSlotProps:p==null?void 0:p.rightArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),G=Ze(B,oC);return n.jsxs(lC,$({ref:r,className:lt(I.root,h),ownerState:T},D,{children:[n.jsx(z,$({},L,{children:c?n.jsx(O,$({},G)):n.jsx(_,$({},A))})),d?n.jsx(S,{variant:"subtitle1",component:"span",children:d}):n.jsx(cC,{className:I.spacer,ownerState:T}),n.jsx(U,$({},w,{children:c?n.jsx(_,$({},A)):n.jsx(O,$({},G))}))]}))}),gi=36,qa=2,$a=320,hC=280,wc=334,fC=qe($t)({[`& .${Ic.container}`]:{outline:0},[`& .${Ic.paper}`]:{outline:0,minWidth:$a}}),pC=qe(Bt)({"&:first-of-type":{padding:0}});function mC(e){var t,r;const{children:s,onDismiss:i,open:a,slots:o,slotProps:l}=e,c=(t=o==null?void 0:o.dialog)!=null?t:fC,u=(r=o==null?void 0:o.mobileTransition)!=null?r:be;return n.jsx(c,$({open:a,onClose:i},l==null?void 0:l.dialog,{TransitionComponent:u,TransitionProps:l==null?void 0:l.mobileTransition,PaperComponent:o==null?void 0:o.mobilePaper,PaperProps:l==null?void 0:l.mobilePaper,children:n.jsx(pC,{children:s})}))}function xC(e){return Ut("MuiPickersPopper",e)}Qt("MuiPickersPopper",["root","paper"]);function gC(e,t){return Array.isArray(t)?t.every(r=>e.indexOf(r)!==-1):e.indexOf(t)!==-1}const yC=(e,t)=>r=>{(r.key==="Enter"||r.key===" ")&&(e(r),r.preventDefault(),r.stopPropagation())},pa=(e=document)=>{const t=e.activeElement;return t?t.shadowRoot?pa(t.shadowRoot):t:null},bC="@media (pointer: fine)",vC="@media (prefers-reduced-motion: reduce)",rs=typeof navigator<"u"&&navigator.userAgent.match(/android\s(\d+)|OS\s(\d+)/i),Dd=rs&&rs[1]?parseInt(rs[1],10):null,Id=rs&&rs[2]?parseInt(rs[2],10):null,jC=Dd&&Dd<10||Id&&Id<13||!1,Wp=()=>Cl(vC,{defaultMatches:!1})||jC,wC=["PaperComponent","popperPlacement","ownerState","children","paperSlotProps","paperClasses","onPaperClick","onPaperTouchStart"],SC=e=>{const{classes:t}=e;return Ft({root:["root"],paper:["paper"]},xC,t)},CC=qe(jm,{name:"MuiPickersPopper",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({zIndex:e.zIndex.modal})),PC=qe(Me,{name:"MuiPickersPopper",slot:"Paper",overridesResolver:(e,t)=>t.paper})(({ownerState:e})=>$({outline:0,transformOrigin:"top center"},e.placement.includes("top")&&{transformOrigin:"bottom center"}));function kC(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}function DC(e,t){const r=v.useRef(!1),s=v.useRef(!1),i=v.useRef(null),a=v.useRef(!1);v.useEffect(()=>{if(!e)return;function c(){a.current=!0}return document.addEventListener("mousedown",c,!0),document.addEventListener("touchstart",c,!0),()=>{document.removeEventListener("mousedown",c,!0),document.removeEventListener("touchstart",c,!0),a.current=!1}},[e]);const o=ke(c=>{if(!a.current)return;const u=s.current;s.current=!1;const d=Ja(i.current);if(!i.current||"clientX"in c&&kC(c,d))return;if(r.current){r.current=!1;return}let h;c.composedPath?h=c.composedPath().indexOf(i.current)>-1:h=!d.documentElement.contains(c.target)||i.current.contains(c.target),!h&&!u&&t(c)}),l=()=>{s.current=!0};return v.useEffect(()=>{if(e){const c=Ja(i.current),u=()=>{r.current=!0};return c.addEventListener("touchstart",o),c.addEventListener("touchmove",u),()=>{c.removeEventListener("touchstart",o),c.removeEventListener("touchmove",u)}}},[e,o]),v.useEffect(()=>{if(e){const c=Ja(i.current);return c.addEventListener("click",o),()=>{c.removeEventListener("click",o),s.current=!1}}},[e,o]),[i,l,l]}const IC=v.forwardRef((e,t)=>{const{PaperComponent:r,popperPlacement:s,ownerState:i,children:a,paperSlotProps:o,paperClasses:l,onPaperClick:c,onPaperTouchStart:u}=e,d=Ze(e,wC),h=$({},i,{placement:s}),f=vt({elementType:r,externalSlotProps:o,additionalProps:{tabIndex:-1,elevation:8,ref:t},className:l,ownerState:h});return n.jsx(r,$({},d,f,{onClick:p=>{var g;c(p),(g=f.onClick)==null||g.call(f,p)},onTouchStart:p=>{var g;u(p),(g=f.onTouchStart)==null||g.call(f,p)},ownerState:h,children:a}))});function EC(e){var t,r,s,i;const a=Ct({props:e,name:"MuiPickersPopper"}),{anchorEl:o,children:l,containerRef:c=null,shouldRestoreFocus:u,onBlur:d,onDismiss:h,open:f,role:p,placement:g,slots:m,slotProps:x,reduceAnimations:y}=a;v.useEffect(()=>{function B(G){f&&(G.key==="Escape"||G.key==="Esc")&&h()}return document.addEventListener("keydown",B),()=>{document.removeEventListener("keydown",B)}},[h,f]);const b=v.useRef(null);v.useEffect(()=>{p==="tooltip"||u&&!u()||(f?b.current=pa(document):b.current&&b.current instanceof HTMLElement&&setTimeout(()=>{b.current instanceof HTMLElement&&b.current.focus()}))},[f,p,u]);const[j,P,C]=DC(f,d??h),D=v.useRef(null),T=kn(D,c),I=kn(T,j),M=a,W=SC(M),z=Wp(),L=y??z,U=B=>{B.key==="Escape"&&(B.stopPropagation(),h())},w=((t=m==null?void 0:m.desktopTransition)!=null?t:L)?be:He,_=(r=m==null?void 0:m.desktopTrapFocus)!=null?r:vm,N=(s=m==null?void 0:m.desktopPaper)!=null?s:PC,A=(i=m==null?void 0:m.popper)!=null?i:CC,O=vt({elementType:A,externalSlotProps:x==null?void 0:x.popper,additionalProps:{transition:!0,role:p,open:f,anchorEl:o,placement:g,onKeyDown:U},className:W.root,ownerState:a});return n.jsx(A,$({},O,{children:({TransitionProps:B,placement:G})=>n.jsx(_,$({open:f,disableAutoFocus:!0,disableRestoreFocus:!0,disableEnforceFocus:p==="tooltip",isEnabled:()=>!0},x==null?void 0:x.desktopTrapFocus,{children:n.jsx(w,$({},B,x==null?void 0:x.desktopTransition,{children:n.jsx(IC,{PaperComponent:N,ownerState:M,popperPlacement:G,ref:I,onPaperClick:P,onPaperTouchStart:C,paperClasses:W.paper,paperSlotProps:x==null?void 0:x.desktopPaper,children:l})}))}))}))}const Sc=({timezone:e,value:t,defaultValue:r,onChange:s,valueManager:i})=>{var a,o;const l=ot(),c=v.useRef(r),u=(a=t??c.current)!=null?a:i.emptyValue,d=v.useMemo(()=>i.getTimezone(l,u),[l,i,u]),h=ke(m=>d==null?m:i.setTimezone(l,d,m)),f=(o=e??d)!=null?o:"default",p=v.useMemo(()=>i.setTimezone(l,f,u),[i,l,f,u]),g=ke((m,...x)=>{const y=h(m);s==null||s(y,...x)});return{value:p,handleValueChange:g,timezone:f}},Cc=({name:e,timezone:t,value:r,defaultValue:s,onChange:i,valueManager:a})=>{const[o,l]=en({name:e,state:"value",controlled:r,default:s??a.emptyValue}),c=ke((u,...d)=>{l(u),i==null||i(u,...d)});return Sc({timezone:t,value:o,defaultValue:void 0,onChange:c,valueManager:a})};function qp(e,t,r,s){const{value:i,onError:a}=e,o=An(),l=v.useRef(s),c=t({adapter:o,value:i,props:e});return v.useEffect(()=>{a&&!r(c,l.current)&&a(c,i),l.current=c},[r,a,l,c,i]),c}const TC=e=>{const t=ot(),r=ln(),s=An(),a=Fr().direction==="rtl",{valueManager:o,fieldValueManager:l,validator:c,internalProps:u,internalProps:{value:d,defaultValue:h,referenceDate:f,onChange:p,format:g,formatDensity:m="dense",selectedSections:x,onSelectedSectionsChange:y,shouldRespectLeadingZeros:b=!1,timezone:j}}=e,{timezone:P,value:C,handleValueChange:D}=Sc({timezone:j,value:d,defaultValue:h,onChange:p,valueManager:o}),T=v.useMemo(()=>RS(t,P),[t,P]),I=v.useCallback((J,ne=null)=>l.getSectionsFromValue(t,J,ne,a,ee=>Sd(t,P,r,g,ee,m,b,a)),[l,g,r,a,b,t,m,P]),M=v.useMemo(()=>l.getValueStrFromSections(I(o.emptyValue),a),[l,I,o.emptyValue,a]),[W,z]=v.useState(()=>{const J=I(C),ne={sections:J,value:C,referenceValue:o.emptyValue,tempValueStrAndroid:null},ee=PS(J),Ie=o.getInitialReferenceValue({referenceDate:f,value:C,utils:t,props:u,granularity:ee,timezone:P});return $({},ne,{referenceValue:Ie})}),[L,U]=en({controlled:x,default:null,name:"useField",state:"selectedSectionIndexes"}),w=J=>{U(J),y==null||y(J),z(ne=>$({},ne,{selectedSectionQuery:null}))},_=v.useMemo(()=>{if(L==null)return null;if(L==="all")return{startIndex:0,endIndex:W.sections.length-1,shouldSelectBoundarySelectors:!0};if(typeof L=="number")return{startIndex:L,endIndex:L};if(typeof L=="string"){const J=W.sections.findIndex(ne=>ne.type===L);return{startIndex:J,endIndex:J}}return L},[L,W.sections]),N=({value:J,referenceValue:ne,sections:ee})=>{if(z(te=>$({},te,{sections:ee,value:J,referenceValue:ne,tempValueStrAndroid:null})),o.areValuesEqual(t,W.value,J))return;const Ie={validationError:c({adapter:s,value:J,props:$({},u,{value:J,timezone:P})})};D(J,Ie)},A=(J,ne)=>{const ee=[...W.sections];return ee[J]=$({},ee[J],{value:ne,modified:!0}),Rp(ee,a)},O=()=>{N({value:o.emptyValue,referenceValue:W.referenceValue,sections:I(o.emptyValue)})},B=()=>{if(_==null)return;const J=W.sections[_.startIndex],ne=l.getActiveDateManager(t,W,J),Ie=ne.getSections(W.sections).filter(Oe=>Oe.value!=="").length===(J.value===""?0:1),te=A(_.startIndex,""),Te=Ie?null:t.date(new Date("")),Z=ne.getNewValuesFromNewActiveDate(Te);(Te!=null&&!t.isValid(Te))!=(ne.date!=null&&!t.isValid(ne.date))?N($({},Z,{sections:te})):z(Oe=>$({},Oe,Z,{sections:te,tempValueStrAndroid:null}))},G=J=>{const ne=(te,Te)=>{const Z=t.parse(te,g);if(Z==null||!t.isValid(Z))return null;const Oe=Sd(t,P,r,g,Z,m,b,a);return Pd(t,P,Z,Oe,Te,!1)},ee=l.parseValueStr(J,W.referenceValue,ne),Ie=l.updateReferenceValue(t,ee,W.referenceValue);N({value:ee,referenceValue:Ie,sections:I(ee,W.sections)})},me=({activeSection:J,newSectionValue:ne,shouldGoToNextSection:ee})=>{ee&&_&&_.startIndex<W.sections.length-1?w(_.startIndex+1):_&&_.startIndex!==_.endIndex&&w(_.startIndex);const Ie=l.getActiveDateManager(t,W,J),te=A(_.startIndex,ne),Te=Ie.getSections(te),Z=MS(t,Te);let Oe,ce;if(Z!=null&&t.isValid(Z)){const Pe=Pd(t,P,Z,Te,Ie.referenceDate,!0);Oe=Ie.getNewValuesFromNewActiveDate(Pe),ce=!0}else Oe=Ie.getNewValuesFromNewActiveDate(Z),ce=(Z!=null&&!t.isValid(Z))!=(Ie.date!=null&&!t.isValid(Ie.date));return ce?N($({},Oe,{sections:te})):z(Pe=>$({},Pe,Oe,{sections:te,tempValueStrAndroid:null}))},he=J=>z(ne=>$({},ne,{tempValueStrAndroid:J}));return v.useEffect(()=>{const J=I(W.value);z(ne=>$({},ne,{sections:J}))},[g,t.locale]),v.useEffect(()=>{let J=!1;o.areValuesEqual(t,W.value,C)?J=o.getTimezone(t,W.value)!==o.getTimezone(t,C):J=!0,J&&z(ne=>$({},ne,{value:C,referenceValue:l.updateReferenceValue(t,C,ne.referenceValue),sections:I(C)}))},[C]),{state:W,selectedSectionIndexes:_,setSelectedSections:w,clearValue:O,clearActiveSection:B,updateSectionValue:me,updateValueFromValueStr:G,setTempAndroidValueStr:he,sectionsValueBoundaries:T,placeholder:M,timezone:P}},MC=5e3,qn=e=>e.saveQuery!=null,OC=({sections:e,updateSectionValue:t,sectionsValueBoundaries:r,setTempAndroidValueStr:s,timezone:i})=>{const a=ot(),[o,l]=v.useState(null),c=ke(()=>l(null));v.useEffect(()=>{var p;o!=null&&((p=e[o.sectionIndex])==null?void 0:p.type)!==o.sectionType&&c()},[e,o,c]),v.useEffect(()=>{if(o!=null){const p=setTimeout(()=>c(),MC);return()=>{window.clearTimeout(p)}}return()=>{}},[o,c]);const u=({keyPressed:p,sectionIndex:g},m,x)=>{const y=p.toLowerCase(),b=e[g];if(o!=null&&(!x||x(o.value))&&o.sectionIndex===g){const P=`${o.value}${y}`,C=m(P,b);if(!qn(C))return l({sectionIndex:g,value:P,sectionType:b.type}),C}const j=m(y,b);return qn(j)&&!j.saveQuery?(c(),null):(l({sectionIndex:g,value:y,sectionType:b.type}),qn(j)?null:j)},d=p=>{const g=(y,b,j)=>{const P=b.filter(C=>C.toLowerCase().startsWith(j));return P.length===0?{saveQuery:!1}:{sectionValue:P[0],shouldGoToNextSection:P.length===1}},m=(y,b,j,P)=>{const C=D=>Tp(a,i,b.type,D);if(b.contentType==="letter")return g(b.format,C(b.format),y);if(j&&P!=null&&Ep(a,j).contentType==="letter"){const D=C(j),T=g(j,D,y);return qn(T)?{saveQuery:!1}:$({},T,{sectionValue:P(T.sectionValue,D)})}return{saveQuery:!1}};return u(p,(y,b)=>{switch(b.type){case"month":{const j=P=>wd(a,P,a.formats.month,b.format);return m(y,b,a.formats.month,j)}case"weekDay":{const j=(P,C)=>C.indexOf(P).toString();return m(y,b,a.formats.weekday,j)}case"meridiem":return m(y,b);default:return{saveQuery:!1}}})},h=p=>{const g=(x,y)=>{const b=+`${x}`,j=r[y.type]({currentDate:null,format:y.format,contentType:y.contentType});if(b>j.maximum)return{saveQuery:!1};if(b<j.minimum)return{saveQuery:!0};const P=+`${x}0`>j.maximum||x.length===j.maximum.toString().length;return{sectionValue:Op(a,i,b,j,y),shouldGoToNextSection:P}};return u(p,(x,y)=>{if(y.contentType==="digit"||y.contentType==="digit-with-letter")return g(x,y);if(y.type==="month"){_p(a,i,"digit","month","MM");const b=g(x,{type:y.type,format:"MM",hasLeadingZerosInInput:!0,contentType:"digit",maxLength:2});if(qn(b))return b;const j=wd(a,b.sectionValue,"MM",y.format);return $({},b,{sectionValue:j})}if(y.type==="weekDay"){const b=g(x,y);if(qn(b))return b;const j=La(a,i,y.format)[Number(b.sectionValue)-1];return $({},b,{sectionValue:j})}return{saveQuery:!1}},x=>!Number.isNaN(Number(x)))};return{applyCharacterEditing:ke(p=>{const g=e[p.sectionIndex],x=p.keyPressed!==" "&&!Number.isNaN(Number(p.keyPressed))?h(p):d(p);x==null?s(null):t({activeSection:g,newSectionValue:x.sectionValue,shouldGoToNextSection:x.shouldGoToNextSection})}),resetCharacterQuery:c}},RC=["onClick","onKeyDown","onFocus","onBlur","onMouseUp","onPaste","error","clearable","onClear","disabled"],NC=e=>{const t=ot(),{state:r,selectedSectionIndexes:s,setSelectedSections:i,clearValue:a,clearActiveSection:o,updateSectionValue:l,updateValueFromValueStr:c,setTempAndroidValueStr:u,sectionsValueBoundaries:d,placeholder:h,timezone:f}=TC(e),{inputRef:p,internalProps:g,internalProps:{readOnly:m=!1,unstableFieldRef:x,minutesStep:y},forwardedProps:{onClick:b,onKeyDown:j,onFocus:P,onBlur:C,onMouseUp:D,onPaste:T,error:I,clearable:M,onClear:W,disabled:z},fieldValueManager:L,valueManager:U,validator:w}=e,_=Ze(e.forwardedProps,RC),{applyCharacterEditing:N,resetCharacterQuery:A}=OC({sections:r.sections,updateSectionValue:l,sectionsValueBoundaries:d,setTempAndroidValueStr:u,timezone:f}),O=v.useRef(null),B=kn(p,O),G=v.useRef(void 0),he=Fr().direction==="rtl",J=v.useMemo(()=>AS(r.sections,he),[r.sections,he]),ne=()=>{var X;if(m){i(null);return}const xe=(X=O.current.selectionStart)!=null?X:0;let $e;xe<=r.sections[0].startInInput||xe>=r.sections[r.sections.length-1].endInInput?$e=1:$e=r.sections.findIndex(Tt=>Tt.startInInput-Tt.startSeparator.length>xe);const ct=$e===-1?r.sections.length-1:$e-1;i(ct)},ee=ke((X,...xe)=>{X.isDefaultPrevented()||(b==null||b(X,...xe),ne())}),Ie=ke(X=>{D==null||D(X),X.preventDefault()}),te=ke((...X)=>{P==null||P(...X);const xe=O.current;window.clearTimeout(G.current),G.current=setTimeout(()=>{!xe||xe!==O.current||s!=null||m||(xe.value.length&&Number(xe.selectionEnd)-Number(xe.selectionStart)===xe.value.length?i("all"):ne())})}),Te=ke((...X)=>{C==null||C(...X),i(null)}),Z=ke(X=>{if(T==null||T(X),m){X.preventDefault();return}const xe=X.clipboardData.getData("text");if(s&&s.startIndex===s.endIndex){const $e=r.sections[s.startIndex],ct=/^[a-zA-Z]+$/.test(xe),Tt=/^[0-9]+$/.test(xe),Mt=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(xe);if($e.contentType==="letter"&&ct||$e.contentType==="digit"&&Tt||$e.contentType==="digit-with-letter"&&Mt){A(),l({activeSection:$e,newSectionValue:xe,shouldGoToNextSection:!0}),X.preventDefault();return}if(ct||Tt){X.preventDefault();return}}X.preventDefault(),A(),c(xe)}),Oe=ke(X=>{if(m)return;const xe=X.target.value;if(xe===""){A(),a();return}const $e=X.nativeEvent.data,ct=$e&&$e.length>1,Tt=ct?$e:xe,Mt=Gn(Tt);if(s==null||ct){c(ct?$e:Mt);return}let vr;if(s.startIndex===0&&s.endIndex===r.sections.length-1&&Mt.length===1)vr=Mt;else{const Yt=Gn(L.getValueStrFromSections(r.sections,he));let ks=-1,Ds=-1;for(let lr=0;lr<Yt.length;lr+=1)ks===-1&&Yt[lr]!==Mt[lr]&&(ks=lr),Ds===-1&&Yt[Yt.length-lr-1]!==Mt[Mt.length-lr-1]&&(Ds=lr);const $r=r.sections[s.startIndex];if(ks<$r.start||Yt.length-Ds-1>$r.end)return;const Is=Mt.length-Yt.length+$r.end-Gn($r.endSeparator||"").length;vr=Mt.slice($r.start+Gn($r.startSeparator||"").length,Is)}if(vr.length===0){_S()?u(Tt):(A(),o());return}N({keyPressed:vr,sectionIndex:s.startIndex})}),ce=ke(X=>{switch(j==null||j(X),!0){case(X.key==="a"&&(X.ctrlKey||X.metaKey)):{X.preventDefault(),i("all");break}case X.key==="ArrowRight":{if(X.preventDefault(),s==null)i(J.startIndex);else if(s.startIndex!==s.endIndex)i(s.endIndex);else{const xe=J.neighbors[s.startIndex].rightIndex;xe!==null&&i(xe)}break}case X.key==="ArrowLeft":{if(X.preventDefault(),s==null)i(J.endIndex);else if(s.startIndex!==s.endIndex)i(s.startIndex);else{const xe=J.neighbors[s.startIndex].leftIndex;xe!==null&&i(xe)}break}case X.key==="Delete":{if(X.preventDefault(),m)break;s==null||s.startIndex===0&&s.endIndex===r.sections.length-1?a():o(),A();break}case["ArrowUp","ArrowDown","Home","End","PageUp","PageDown"].includes(X.key):{if(X.preventDefault(),m||s==null)break;const xe=r.sections[s.startIndex],$e=L.getActiveDateManager(t,r,xe),ct=IS(t,f,xe,X.key,d,$e.date,{minutesStep:y});l({activeSection:xe,newSectionValue:ct,shouldGoToNextSection:!1});break}}});ss(()=>{if(!O.current)return;if(s==null){O.current.scrollLeft&&(O.current.scrollLeft=0);return}const X=r.sections[s.startIndex],xe=r.sections[s.endIndex];let $e=X.startInInput,ct=xe.endInInput;if(s.shouldSelectBoundarySelectors&&($e-=X.startSeparator.length,ct+=xe.endSeparator.length),$e!==O.current.selectionStart||ct!==O.current.selectionEnd){const Tt=O.current.scrollTop;O.current===pa(document)&&O.current.setSelectionRange($e,ct),O.current.scrollTop=Tt}});const Pe=qp($({},g,{value:r.value,timezone:f}),w,U.isSameError,U.defaultErrorState),se=v.useMemo(()=>I!==void 0?I:U.hasError(Pe),[U,Pe,I]);v.useEffect(()=>{!se&&!s&&A()},[r.referenceValue,s,se]),v.useEffect(()=>(O.current&&O.current===document.activeElement&&i("all"),()=>window.clearTimeout(G.current)),[]),v.useEffect(()=>{r.tempValueStrAndroid!=null&&s!=null&&(A(),o())},[r.tempValueStrAndroid]);const Re=v.useMemo(()=>{var X;return(X=r.tempValueStrAndroid)!=null?X:L.getValueStrFromSections(r.sections,he)},[r.sections,L,r.tempValueStrAndroid,he]),oe=v.useMemo(()=>s==null||r.sections[s.startIndex].contentType==="letter"?"text":"numeric",[s,r.sections]),Ae=O.current&&O.current===pa(document),St=U.areValuesEqual(t,r.value,U.emptyValue),we=!Ae&&St;v.useImperativeHandle(x,()=>({getSections:()=>r.sections,getActiveSectionIndex:()=>{var X,xe,$e;const ct=(X=O.current.selectionStart)!=null?X:0,Tt=(xe=O.current.selectionEnd)!=null?xe:0,Mt=!!(($e=O.current)!=null&&$e.readOnly);if(ct===0&&Tt===0||Mt)return null;const vr=ct<=r.sections[0].startInInput?1:r.sections.findIndex(Yt=>Yt.startInInput-Yt.startSeparator.length>ct);return vr===-1?r.sections.length-1:vr-1},setSelectedSections:X=>i(X)}));const Ne=ke((X,...xe)=>{var $e;X.preventDefault(),W==null||W(X,...xe),a(),O==null||($e=O.current)==null||$e.focus(),i(0)});return $({placeholder:h,autoComplete:"off",disabled:!!z},_,{value:we?"":Re,inputMode:oe,readOnly:m,onClick:ee,onFocus:te,onBlur:Te,onPaste:Z,onChange:Oe,onKeyDown:ce,onMouseUp:Ie,onClear:Ne,error:se,ref:B,clearable:!!(M&&!St&&!m&&!z)})},_C=({open:e,onOpen:t,onClose:r})=>{const s=v.useRef(typeof e=="boolean").current,[i,a]=v.useState(!1);v.useEffect(()=>{if(s){if(typeof e!="boolean")throw new Error("You must not mix controlling and uncontrolled mode for `open` prop");a(e)}},[s,e]);const o=v.useCallback(l=>{s||a(l),l&&t&&t(),!l&&r&&r()},[s,t,r]);return{isOpen:i,setIsOpen:o}},AC=e=>{const{action:t,hasChanged:r,dateState:s,isControlled:i}=e,a=!i&&!s.hasBeenModifiedSinceMount;return t.name==="setValueFromField"?!0:t.name==="setValueFromAction"?a&&["accept","today","clear"].includes(t.pickerAction)?!0:r(s.lastPublishedValue):t.name==="setValueFromView"&&t.selectionState!=="shallow"||t.name==="setValueFromShortcut"?a?!0:r(s.lastPublishedValue):!1},FC=e=>{const{action:t,hasChanged:r,dateState:s,isControlled:i,closeOnSelect:a}=e,o=!i&&!s.hasBeenModifiedSinceMount;return t.name==="setValueFromAction"?o&&["accept","today","clear"].includes(t.pickerAction)?!0:r(s.lastCommittedValue):t.name==="setValueFromView"&&t.selectionState==="finish"&&a?o?!0:r(s.lastCommittedValue):t.name==="setValueFromShortcut"?t.changeImportance==="accept"&&r(s.lastCommittedValue):!1},LC=e=>{const{action:t,closeOnSelect:r}=e;return t.name==="setValueFromAction"?!0:t.name==="setValueFromView"?t.selectionState==="finish"&&r:t.name==="setValueFromShortcut"?t.changeImportance==="accept":!1},WC=({props:e,valueManager:t,valueType:r,wrapperVariant:s,validator:i})=>{const{onAccept:a,onChange:o,value:l,defaultValue:c,closeOnSelect:u=s==="desktop",selectedSections:d,onSelectedSectionsChange:h,timezone:f}=e,{current:p}=v.useRef(c),{current:g}=v.useRef(l!==void 0),m=ot(),x=An(),[y,b]=en({controlled:d,default:null,name:"usePickerValue",state:"selectedSections"}),{isOpen:j,setIsOpen:P}=_C(e),[C,D]=v.useState(()=>{let te;return l!==void 0?te=l:p!==void 0?te=p:te=t.emptyValue,{draft:te,lastPublishedValue:te,lastCommittedValue:te,lastControlledValue:l,hasBeenModifiedSinceMount:!1}}),{timezone:T,handleValueChange:I}=Sc({timezone:f,value:l,defaultValue:p,onChange:o,valueManager:t});qp($({},e,{value:C.draft,timezone:T}),i,t.isSameError,t.defaultErrorState);const M=ke(te=>{const Te={action:te,dateState:C,hasChanged:Pe=>!t.areValuesEqual(m,te.value,Pe),isControlled:g,closeOnSelect:u},Z=AC(Te),Oe=FC(Te),ce=LC(Te);if(D(Pe=>$({},Pe,{draft:te.value,lastPublishedValue:Z?te.value:Pe.lastPublishedValue,lastCommittedValue:Oe?te.value:Pe.lastCommittedValue,hasBeenModifiedSinceMount:!0})),Z){const se={validationError:te.name==="setValueFromField"?te.context.validationError:i({adapter:x,value:te.value,props:$({},e,{value:te.value,timezone:T})})};te.name==="setValueFromShortcut"&&te.shortcut!=null&&(se.shortcut=te.shortcut),I(te.value,se)}Oe&&a&&a(te.value),ce&&P(!1)});if(l!==void 0&&(C.lastControlledValue===void 0||!t.areValuesEqual(m,C.lastControlledValue,l))){const te=t.areValuesEqual(m,C.draft,l);D(Te=>$({},Te,{lastControlledValue:l},te?{}:{lastCommittedValue:l,lastPublishedValue:l,draft:l,hasBeenModifiedSinceMount:!0}))}const W=ke(()=>{M({value:t.emptyValue,name:"setValueFromAction",pickerAction:"clear"})}),z=ke(()=>{M({value:C.lastPublishedValue,name:"setValueFromAction",pickerAction:"accept"})}),L=ke(()=>{M({value:C.lastPublishedValue,name:"setValueFromAction",pickerAction:"dismiss"})}),U=ke(()=>{M({value:C.lastCommittedValue,name:"setValueFromAction",pickerAction:"cancel"})}),w=ke(()=>{M({value:t.getTodayValue(m,T,r),name:"setValueFromAction",pickerAction:"today"})}),_=ke(()=>P(!0)),N=ke(()=>P(!1)),A=ke((te,Te="partial")=>M({name:"setValueFromView",value:te,selectionState:Te})),O=ke((te,Te,Z)=>M({name:"setValueFromShortcut",value:te,changeImportance:Te??"accept",shortcut:Z})),B=ke((te,Te)=>M({name:"setValueFromField",value:te,context:Te})),G=ke(te=>{b(te),h==null||h(te)}),me={onClear:W,onAccept:z,onDismiss:L,onCancel:U,onSetToday:w,onOpen:_,onClose:N},he={value:C.draft,onChange:B,selectedSections:y,onSelectedSectionsChange:G},J=v.useMemo(()=>t.cleanValue(m,C.draft),[m,t,C.draft]),ne={value:J,onChange:A,onClose:N,open:j,onSelectedSectionsChange:G},Ie=$({},me,{value:J,onChange:A,onSelectShortcut:O,isValid:te=>{const Te=i({adapter:x,value:te,props:$({},e,{value:te,timezone:T})});return!t.hasError(Te)}});return{open:j,fieldProps:he,viewProps:ne,layoutProps:Ie,actions:me}};function $p({onChange:e,onViewChange:t,openTo:r,view:s,views:i,autoFocus:a,focusedView:o,onFocusedViewChange:l}){var c,u;const d=v.useRef(r),h=v.useRef(i),f=v.useRef(i.includes(r)?r:i[0]),[p,g]=en({name:"useViews",state:"view",controlled:s,default:f.current}),m=v.useRef(a?p:null),[x,y]=en({name:"useViews",state:"focusedView",controlled:o,default:m.current});v.useEffect(()=>{(d.current&&d.current!==r||h.current&&h.current.some(M=>!i.includes(M)))&&(g(i.includes(r)?r:i[0]),h.current=i,d.current=r)},[r,g,p,i]);const b=i.indexOf(p),j=(c=i[b-1])!=null?c:null,P=(u=i[b+1])!=null?u:null,C=ke((M,W)=>{y(W?M:z=>M===z?null:z),l==null||l(M,W)}),D=ke(M=>{C(M,!0),M!==p&&(g(M),t&&t(M))}),T=ke(()=>{P&&D(P)}),I=ke((M,W,z)=>{const L=W==="finish",U=z?i.indexOf(z)<i.length-1:!!P;if(e(M,L&&U?"partial":W,z),z&&z!==p){const _=i[i.indexOf(z)+1];_&&D(_)}else L&&T()});return{view:p,setView:D,focusedView:x,setFocusedView:C,nextView:P,previousView:j,defaultView:i.includes(r)?r:i[0],goToNextView:T,setValueAndGoToNextView:I}}const qC=["className","sx"],$C=({props:e,propsFromPickerValue:t,additionalViewProps:r,inputRef:s,autoFocusView:i})=>{const{onChange:a,open:o,onSelectedSectionsChange:l,onClose:c}=t,{view:u,views:d,openTo:h,onViewChange:f,viewRenderers:p,timezone:g}=e,m=Ze(e,qC),{view:x,setView:y,defaultView:b,focusedView:j,setFocusedView:P,setValueAndGoToNextView:C}=$p({view:u,views:d,openTo:h,onChange:a,onViewChange:f,autoFocus:i}),{hasUIView:D,viewModeLookup:T}=v.useMemo(()=>d.reduce((w,_)=>{let N;return p[_]!=null?N="UI":N="field",w.viewModeLookup[_]=N,N==="UI"&&(w.hasUIView=!0),w},{hasUIView:!1,viewModeLookup:{}}),[p,d]),I=v.useMemo(()=>d.reduce((w,_)=>p[_]!=null&&SS(_)?w+1:w,0),[p,d]),M=T[x],W=ke(()=>M==="UI"),[z,L]=v.useState(M==="UI"?x:null);return z!==x&&T[x]==="UI"&&L(x),ss(()=>{M==="field"&&o&&(c(),setTimeout(()=>{s==null||s.current.focus(),l(x)}))},[x]),ss(()=>{if(!o)return;let w=x;M==="field"&&z!=null&&(w=z),w!==b&&T[w]==="UI"&&T[b]==="UI"&&(w=b),w!==x&&y(w),P(w,!0)},[o]),{hasUIView:D,shouldRestoreFocus:W,layoutProps:{views:d,view:z,onViewChange:y},renderCurrentView:()=>{if(z==null)return null;const w=p[z];return w==null?null:w($({},m,r,t,{views:d,timezone:g,onChange:C,view:z,onViewChange:y,focusedView:j,onFocusedViewChange:P,showViewSwitcher:I>1,timeViewsCount:I}))}}};function Ed(){return typeof window>"u"?"portrait":window.screen&&window.screen.orientation&&window.screen.orientation.angle?Math.abs(window.screen.orientation.angle)===90?"landscape":"portrait":window.orientation&&Math.abs(Number(window.orientation))===90?"landscape":"portrait"}const BC=(e,t)=>{const[r,s]=v.useState(Ed);return ss(()=>{const a=()=>{s(Ed())};return window.addEventListener("orientationchange",a),()=>{window.removeEventListener("orientationchange",a)}},[]),gC(e,["hours","minutes","seconds"])?!1:(t||r)==="landscape"},VC=({props:e,propsFromPickerValue:t,propsFromPickerViews:r,wrapperVariant:s})=>{const{orientation:i}=e,a=BC(r.views,i);return{layoutProps:$({},r,t,{isLandscape:a,wrapperVariant:s,disabled:e.disabled,readOnly:e.readOnly})}},Bp=({props:e,valueManager:t,valueType:r,wrapperVariant:s,inputRef:i,additionalViewProps:a,validator:o,autoFocusView:l})=>{const c=WC({props:e,valueManager:t,valueType:r,wrapperVariant:s,validator:o}),u=$C({props:e,inputRef:i,additionalViewProps:a,autoFocusView:l,propsFromPickerValue:c.viewProps}),d=VC({props:e,wrapperVariant:s,propsFromPickerValue:c.layoutProps,propsFromPickerViews:u.layoutProps});return{open:c.open,actions:c.actions,fieldProps:c.fieldProps,renderCurrentView:u.renderCurrentView,hasUIView:u.hasUIView,shouldRestoreFocus:u.shouldRestoreFocus,layoutProps:d.layoutProps}};function Vp(e){return Ut("MuiPickersLayout",e)}const Do=Qt("MuiPickersLayout",["root","landscape","contentWrapper","toolbar","actionBar","tabs","shortcuts"]),zC=["onAccept","onClear","onCancel","onSetToday","actions"];function UC(e){const{onAccept:t,onClear:r,onCancel:s,onSetToday:i,actions:a}=e,o=Ze(e,zC),l=ln();if(a==null||a.length===0)return null;const c=a==null?void 0:a.map(u=>{switch(u){case"clear":return n.jsx(K,{onClick:r,children:l.clearButtonLabel},u);case"cancel":return n.jsx(K,{onClick:s,children:l.cancelButtonLabel},u);case"accept":return n.jsx(K,{onClick:t,children:l.okButtonLabel},u);case"today":return n.jsx(K,{onClick:i,children:l.todayButtonLabel},u);default:return null}});return n.jsx(Vt,$({},o,{children:c}))}const QC=["items","changeImportance","isLandscape","onChange","isValid"],HC=["getValue"];function YC(e){const{items:t,changeImportance:r,onChange:s,isValid:i}=e,a=Ze(e,QC);if(t==null||t.length===0)return null;const o=t.map(l=>{let{getValue:c}=l,u=Ze(l,HC);const d=c({isValid:i});return{label:u.label,onClick:()=>{s(d,r,u)},disabled:!i(d)}});return n.jsx(Cn,$({dense:!0,sx:[{maxHeight:wc,maxWidth:200,overflow:"auto"},...Array.isArray(a.sx)?a.sx:[a.sx]]},a,{children:o.map(l=>n.jsx(Gr,{children:n.jsx(We,$({},l))},l.label))}))}function GC(e){return e.view!==null}const KC=e=>{const{classes:t,isLandscape:r}=e;return Ft({root:["root",r&&"landscape"],contentWrapper:["contentWrapper"],toolbar:["toolbar"],actionBar:["actionBar"],tabs:["tabs"],landscape:["landscape"],shortcuts:["shortcuts"]},Vp,t)},JC=e=>{var t,r;const{wrapperVariant:s,onAccept:i,onClear:a,onCancel:o,onSetToday:l,view:c,views:u,onViewChange:d,value:h,onChange:f,onSelectShortcut:p,isValid:g,isLandscape:m,disabled:x,readOnly:y,children:b,components:j,componentsProps:P,slots:C,slotProps:D}=e,T=C??Fp(j),I=D??P,M=KC(e),W=(t=T==null?void 0:T.actionBar)!=null?t:UC,z=vt({elementType:W,externalSlotProps:I==null?void 0:I.actionBar,additionalProps:{onAccept:i,onClear:a,onCancel:o,onSetToday:l,actions:s==="desktop"?[]:["cancel","accept"],className:M.actionBar},ownerState:$({},e,{wrapperVariant:s})}),L=n.jsx(W,$({},z)),U=T==null?void 0:T.toolbar,w=vt({elementType:U,externalSlotProps:I==null?void 0:I.toolbar,additionalProps:{isLandscape:m,onChange:f,value:h,view:c,onViewChange:d,views:u,disabled:x,readOnly:y,className:M.toolbar},ownerState:$({},e,{wrapperVariant:s})}),_=GC(w)&&U?n.jsx(U,$({},w)):null,N=b,A=T==null?void 0:T.tabs,O=c&&A?n.jsx(A,$({view:c,onViewChange:d,className:M.tabs},I==null?void 0:I.tabs)):null,B=(r=T==null?void 0:T.shortcuts)!=null?r:YC,G=vt({elementType:B,externalSlotProps:I==null?void 0:I.shortcuts,additionalProps:{isValid:g,isLandscape:m,onChange:p,className:M.shortcuts},ownerState:{isValid:g,isLandscape:m,onChange:p,className:M.shortcuts,wrapperVariant:s}}),me=c&&B?n.jsx(B,$({},G)):null;return{toolbar:_,content:N,tabs:O,actionBar:L,shortcuts:me}},XC=e=>{const{isLandscape:t,classes:r}=e;return Ft({root:["root",t&&"landscape"],contentWrapper:["contentWrapper"]},Vp,r)},zp=qe("div",{name:"MuiPickersLayout",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e,ownerState:t})=>({display:"grid",gridAutoColumns:"max-content auto max-content",gridAutoRows:"max-content auto max-content",[`& .${Do.toolbar}`]:t.isLandscape?{gridColumn:e.direction==="rtl"?3:1,gridRow:"2 / 3"}:{gridColumn:"2 / 4",gridRow:1},[`.${Do.shortcuts}`]:t.isLandscape?{gridColumn:"2 / 4",gridRow:1}:{gridColumn:e.direction==="rtl"?3:1,gridRow:"2 / 3"},[`& .${Do.actionBar}`]:{gridColumn:"1 / 4",gridRow:3}}));zp.propTypes={as:q.elementType,ownerState:q.shape({isLandscape:q.bool.isRequired}).isRequired,sx:q.oneOfType([q.arrayOf(q.oneOfType([q.func,q.object,q.bool])),q.func,q.object])};const ZC=qe("div",{name:"MuiPickersLayout",slot:"ContentWrapper",overridesResolver:(e,t)=>t.contentWrapper})({gridColumn:2,gridRow:2,display:"flex",flexDirection:"column"}),Up=function(t){const r=Ct({props:t,name:"MuiPickersLayout"}),{toolbar:s,content:i,tabs:a,actionBar:o,shortcuts:l}=JC(r),{sx:c,className:u,isLandscape:d,ref:h,wrapperVariant:f}=r,p=r,g=XC(p);return n.jsxs(zp,{ref:h,sx:c,className:lt(u,g.root),ownerState:p,children:[d?l:s,d?s:l,n.jsx(ZC,{className:g.contentWrapper,children:f==="desktop"?n.jsxs(v.Fragment,{children:[i,a]}):n.jsxs(v.Fragment,{children:[a,i]})}),o]})};function eP(e,{disableFuture:t,maxDate:r,timezone:s}){const i=ot();return v.useMemo(()=>{const a=i.dateWithTimezone(void 0,s),o=i.startOfMonth(t&&i.isBefore(a,r)?a:r);return!i.isAfter(o,e)},[t,r,e,i,s])}function tP(e,{disablePast:t,minDate:r,timezone:s}){const i=ot();return v.useMemo(()=>{const a=i.dateWithTimezone(void 0,s),o=i.startOfMonth(t&&i.isAfter(a,r)?a:r);return!i.isBefore(o,e)},[t,r,e,i,s])}const Qp=["disablePast","disableFuture","minDate","maxDate","shouldDisableDate","shouldDisableMonth","shouldDisableYear"],rP=["disablePast","disableFuture","minTime","maxTime","shouldDisableClock","shouldDisableTime","minutesStep","ampm","disableIgnoringDatePartForTimeValidation"],nP=["minDateTime","maxDateTime"],sP=[...Qp,...rP,...nP],Hp=e=>sP.reduce((t,r)=>(e.hasOwnProperty(r)&&(t[r]=e[r]),t),{}),iP=["value","defaultValue","referenceDate","format","formatDensity","onChange","timezone","readOnly","onError","shouldRespectLeadingZeros","selectedSections","onSelectedSectionsChange","unstableFieldRef"],aP=(e,t)=>{const r=$({},e),s={},i=a=>{r.hasOwnProperty(a)&&(s[a]=r[a],delete r[a])};return iP.forEach(i),Qp.forEach(i),{forwardedProps:r,internalProps:s}},Ba=({props:e,value:t,adapter:r})=>{if(t===null)return null;const{shouldDisableDate:s,shouldDisableMonth:i,shouldDisableYear:a,disablePast:o,disableFuture:l,timezone:c}=e,u=r.utils.dateWithTimezone(void 0,c),d=ar(r.utils,e.minDate,r.defaultDates.minDate),h=ar(r.utils,e.maxDate,r.defaultDates.maxDate);switch(!0){case!r.utils.isValid(t):return"invalidDate";case!!(s&&s(t)):return"shouldDisableDate";case!!(i&&i(t)):return"shouldDisableMonth";case!!(a&&a(t)):return"shouldDisableYear";case!!(l&&r.utils.isAfterDay(t,u)):return"disableFuture";case!!(o&&r.utils.isBeforeDay(t,u)):return"disablePast";case!!(d&&r.utils.isBeforeDay(t,d)):return"minDate";case!!(h&&r.utils.isAfterDay(t,h)):return"maxDate";default:return null}};function oP(e){return Ut("MuiPickersDay",e)}const dn=Qt("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]),lP=["autoFocus","className","day","disabled","disableHighlightToday","disableMargin","hidden","isAnimating","onClick","onDaySelect","onFocus","onBlur","onKeyDown","onMouseDown","onMouseEnter","outsideCurrentMonth","selected","showDaysOutsideCurrentMonth","children","today","isFirstVisibleCell","isLastVisibleCell"],cP=e=>{const{selected:t,disableMargin:r,disableHighlightToday:s,today:i,disabled:a,outsideCurrentMonth:o,showDaysOutsideCurrentMonth:l,classes:c}=e,u=o&&!l;return Ft({root:["root",t&&!u&&"selected",a&&"disabled",!r&&"dayWithMargin",!s&&i&&"today",o&&l&&"dayOutsideMonth",u&&"hiddenDaySpacingFiller"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]},oP,c)},Yp=({theme:e,ownerState:t})=>$({},e.typography.caption,{width:gi,height:gi,borderRadius:"50%",padding:0,backgroundColor:"transparent",transition:e.transitions.create("background-color",{duration:e.transitions.duration.short}),color:(e.vars||e).palette.text.primary,"@media (pointer: fine)":{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Dn(e.palette.primary.main,e.palette.action.hoverOpacity)}},"&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.focusOpacity})`:Dn(e.palette.primary.main,e.palette.action.focusOpacity),[`&.${dn.selected}`]:{willChange:"background-color",backgroundColor:(e.vars||e).palette.primary.dark}},[`&.${dn.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,fontWeight:e.typography.fontWeightMedium,"&:hover":{willChange:"background-color",backgroundColor:(e.vars||e).palette.primary.dark}},[`&.${dn.disabled}:not(.${dn.selected})`]:{color:(e.vars||e).palette.text.disabled},[`&.${dn.disabled}&.${dn.selected}`]:{opacity:.6}},!t.disableMargin&&{margin:`0 ${qa}px`},t.outsideCurrentMonth&&t.showDaysOutsideCurrentMonth&&{color:(e.vars||e).palette.text.secondary},!t.disableHighlightToday&&t.today&&{[`&:not(.${dn.selected})`]:{border:`1px solid ${(e.vars||e).palette.text.secondary}`}}),Gp=(e,t)=>{const{ownerState:r}=e;return[t.root,!r.disableMargin&&t.dayWithMargin,!r.disableHighlightToday&&r.today&&t.today,!r.outsideCurrentMonth&&r.showDaysOutsideCurrentMonth&&t.dayOutsideMonth,r.outsideCurrentMonth&&!r.showDaysOutsideCurrentMonth&&t.hiddenDaySpacingFiller]},uP=qe(wm,{name:"MuiPickersDay",slot:"Root",overridesResolver:Gp})(Yp),dP=qe("div",{name:"MuiPickersDay",slot:"Root",overridesResolver:Gp})(({theme:e,ownerState:t})=>$({},Yp({theme:e,ownerState:t}),{opacity:0,pointerEvents:"none"})),Bs=()=>{},hP=v.forwardRef(function(t,r){const s=Ct({props:t,name:"MuiPickersDay"}),{autoFocus:i=!1,className:a,day:o,disabled:l=!1,disableHighlightToday:c=!1,disableMargin:u=!1,isAnimating:d,onClick:h,onDaySelect:f,onFocus:p=Bs,onBlur:g=Bs,onKeyDown:m=Bs,onMouseDown:x=Bs,onMouseEnter:y=Bs,outsideCurrentMonth:b,selected:j=!1,showDaysOutsideCurrentMonth:P=!1,children:C,today:D=!1}=s,T=Ze(s,lP),I=$({},s,{autoFocus:i,disabled:l,disableHighlightToday:c,disableMargin:u,selected:j,showDaysOutsideCurrentMonth:P,today:D}),M=cP(I),W=ot(),z=v.useRef(null),L=kn(z,r);ss(()=>{i&&!l&&!d&&!b&&z.current.focus()},[i,l,d,b]);const U=_=>{x(_),b&&_.preventDefault()},w=_=>{l||f(o),b&&_.currentTarget.focus(),h&&h(_)};return b&&!P?n.jsx(dP,{className:lt(M.root,M.hiddenDaySpacingFiller,a),ownerState:I,role:T.role}):n.jsx(uP,$({className:lt(M.root,a),ref:L,centerRipple:!0,disabled:l,tabIndex:j?0:-1,onKeyDown:_=>m(_,o),onFocus:_=>p(_,o),onBlur:_=>g(_,o),onMouseEnter:_=>y(_,o),onClick:w,onMouseDown:U},T,{ownerState:I,children:C||W.format(o,"dayOfMonth")}))}),fP=v.memo(hP),pP=e=>Ut("MuiPickersSlideTransition",e),rr=Qt("MuiPickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),mP=["children","className","reduceAnimations","slideDirection","transKey","classes"],xP=e=>{const{classes:t,slideDirection:r}=e,s={root:["root"],exit:["slideExit"],enterActive:["slideEnterActive"],enter:[`slideEnter-${r}`],exitActive:[`slideExitActiveLeft-${r}`]};return Ft(s,pP,t)},gP=qe(Fd,{name:"MuiPickersSlideTransition",slot:"Root",overridesResolver:(e,t)=>[t.root,{[`.${rr["slideEnter-left"]}`]:t["slideEnter-left"]},{[`.${rr["slideEnter-right"]}`]:t["slideEnter-right"]},{[`.${rr.slideEnterActive}`]:t.slideEnterActive},{[`.${rr.slideExit}`]:t.slideExit},{[`.${rr["slideExitActiveLeft-left"]}`]:t["slideExitActiveLeft-left"]},{[`.${rr["slideExitActiveLeft-right"]}`]:t["slideExitActiveLeft-right"]}]})(({theme:e})=>{const t=e.transitions.create("transform",{duration:e.transitions.duration.complex,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0},[`& .${rr["slideEnter-left"]}`]:{willChange:"transform",transform:"translate(100%)",zIndex:1},[`& .${rr["slideEnter-right"]}`]:{willChange:"transform",transform:"translate(-100%)",zIndex:1},[`& .${rr.slideEnterActive}`]:{transform:"translate(0%)",transition:t},[`& .${rr.slideExit}`]:{transform:"translate(0%)"},[`& .${rr["slideExitActiveLeft-left"]}`]:{willChange:"transform",transform:"translate(-100%)",transition:t,zIndex:0},[`& .${rr["slideExitActiveLeft-right"]}`]:{willChange:"transform",transform:"translate(100%)",transition:t,zIndex:0}}});function yP(e){const t=Ct({props:e,name:"MuiPickersSlideTransition"}),{children:r,className:s,reduceAnimations:i,transKey:a}=t,o=Ze(t,mP),l=xP(t),c=Fr();if(i)return n.jsx("div",{className:lt(l.root,s),children:r});const u={exit:l.exit,enterActive:l.enterActive,enter:l.enter,exitActive:l.exitActive};return n.jsx(gP,{className:lt(l.root,s),childFactory:d=>v.cloneElement(d,{classNames:u}),role:"presentation",children:n.jsx(Sm,$({mountOnEnter:!0,unmountOnExit:!0,timeout:c.transitions.duration.complex,classNames:u},o,{children:r}),a)})}const Kp=({shouldDisableDate:e,shouldDisableMonth:t,shouldDisableYear:r,minDate:s,maxDate:i,disableFuture:a,disablePast:o,timezone:l})=>{const c=An();return v.useCallback(u=>Ba({adapter:c,value:u,props:{shouldDisableDate:e,shouldDisableMonth:t,shouldDisableYear:r,minDate:s,maxDate:i,disableFuture:a,disablePast:o,timezone:l}})!==null,[c,e,t,r,s,i,a,o,l])},bP=e=>Ut("MuiDayCalendar",e);Qt("MuiDayCalendar",["root","header","weekDayLabel","loadingContainer","slideTransition","monthContainer","weekContainer","weekNumberLabel","weekNumber"]);const vP=["parentProps","day","focusableDay","selectedDays","isDateDisabled","currentMonthNumber","isViewFocused"],jP=["ownerState"],wP=e=>{const{classes:t}=e;return Ft({root:["root"],header:["header"],weekDayLabel:["weekDayLabel"],loadingContainer:["loadingContainer"],slideTransition:["slideTransition"],monthContainer:["monthContainer"],weekContainer:["weekContainer"],weekNumberLabel:["weekNumberLabel"],weekNumber:["weekNumber"]},bP,t)},Jp=(gi+qa*2)*6,SP=qe("div",{name:"MuiDayCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({}),CP=qe("div",{name:"MuiDayCalendar",slot:"Header",overridesResolver:(e,t)=>t.header})({display:"flex",justifyContent:"center",alignItems:"center"}),PP=qe(S,{name:"MuiDayCalendar",slot:"WeekDayLabel",overridesResolver:(e,t)=>t.weekDayLabel})(({theme:e})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(e.vars||e).palette.text.secondary})),kP=qe(S,{name:"MuiDayCalendar",slot:"WeekNumberLabel",overridesResolver:(e,t)=>t.weekNumberLabel})(({theme:e})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:e.palette.text.disabled})),DP=qe(S,{name:"MuiDayCalendar",slot:"WeekNumber",overridesResolver:(e,t)=>t.weekNumber})(({theme:e})=>$({},e.typography.caption,{width:gi,height:gi,padding:0,margin:`0 ${qa}px`,color:e.palette.text.disabled,fontSize:"0.75rem",alignItems:"center",justifyContent:"center",display:"inline-flex"})),IP=qe("div",{name:"MuiDayCalendar",slot:"LoadingContainer",overridesResolver:(e,t)=>t.loadingContainer})({display:"flex",justifyContent:"center",alignItems:"center",minHeight:Jp}),EP=qe(yP,{name:"MuiDayCalendar",slot:"SlideTransition",overridesResolver:(e,t)=>t.slideTransition})({minHeight:Jp}),TP=qe("div",{name:"MuiDayCalendar",slot:"MonthContainer",overridesResolver:(e,t)=>t.monthContainer})({overflow:"hidden"}),MP=qe("div",{name:"MuiDayCalendar",slot:"WeekContainer",overridesResolver:(e,t)=>t.weekContainer})({margin:`${qa}px 0`,display:"flex",justifyContent:"center"});function OP(e){var t,r,s;let{parentProps:i,day:a,focusableDay:o,selectedDays:l,isDateDisabled:c,currentMonthNumber:u,isViewFocused:d}=e,h=Ze(e,vP);const{disabled:f,disableHighlightToday:p,isMonthSwitchingAnimating:g,showDaysOutsideCurrentMonth:m,components:x,componentsProps:y,slots:b,slotProps:j,timezone:P}=i,C=ot(),D=Wa(P),T=o!==null&&C.isSameDay(a,o),I=l.some(A=>C.isSameDay(A,a)),M=C.isSameDay(a,D),W=(t=(r=b==null?void 0:b.day)!=null?r:x==null?void 0:x.Day)!=null?t:fP,z=vt({elementType:W,externalSlotProps:(s=j==null?void 0:j.day)!=null?s:y==null?void 0:y.day,additionalProps:$({disableHighlightToday:p,showDaysOutsideCurrentMonth:m,role:"gridcell",isAnimating:g,"data-timestamp":C.toJsDate(a).valueOf()},h),ownerState:$({},i,{day:a,selected:I})}),L=Ze(z,jP),U=v.useMemo(()=>f||c(a),[f,c,a]),w=v.useMemo(()=>C.getMonth(a)!==u,[C,a,u]),_=v.useMemo(()=>{const A=C.startOfMonth(C.setMonth(a,u));return m?C.isSameDay(a,C.startOfWeek(A)):C.isSameDay(a,A)},[u,a,m,C]),N=v.useMemo(()=>{const A=C.endOfMonth(C.setMonth(a,u));return m?C.isSameDay(a,C.endOfWeek(A)):C.isSameDay(a,A)},[u,a,m,C]);return n.jsx(W,$({},L,{day:a,disabled:U,autoFocus:d&&T,today:M,outsideCurrentMonth:w,isFirstVisibleCell:_,isLastVisibleCell:N,selected:I,tabIndex:T?0:-1,"aria-selected":I,"aria-current":M?"date":void 0}))}function RP(e){const t=Ct({props:e,name:"MuiDayCalendar"}),{onFocusedDayChange:r,className:s,currentMonth:i,selectedDays:a,focusedDay:o,loading:l,onSelectedDaysChange:c,onMonthSwitchingAnimationEnd:u,readOnly:d,reduceAnimations:h,renderLoading:f=()=>n.jsx("span",{children:"..."}),slideDirection:p,TransitionProps:g,disablePast:m,disableFuture:x,minDate:y,maxDate:b,shouldDisableDate:j,shouldDisableMonth:P,shouldDisableYear:C,dayOfWeekFormatter:D,hasFocus:T,onFocusedViewChange:I,gridLabelId:M,displayWeekNumber:W,fixedWeekNumber:z,autoFocus:L,timezone:U}=t,w=Wa(U),_=ot(),N=wP(t),O=Fr().direction==="rtl",B=D||((we,Ne)=>_.format(Ne,"weekdayShort").charAt(0).toUpperCase()),G=Kp({shouldDisableDate:j,shouldDisableMonth:P,shouldDisableYear:C,minDate:y,maxDate:b,disablePast:m,disableFuture:x,timezone:U}),me=ln(),[he,J]=en({name:"DayCalendar",state:"hasFocus",controlled:T,default:L??!1}),[ne,ee]=v.useState(()=>o||w),Ie=ke(we=>{d||c(we)}),te=we=>{G(we)||(r(we),ee(we),I==null||I(!0),J(!0))},Te=ke((we,Ne)=>{switch(we.key){case"ArrowUp":te(_.addDays(Ne,-7)),we.preventDefault();break;case"ArrowDown":te(_.addDays(Ne,7)),we.preventDefault();break;case"ArrowLeft":{const X=_.addDays(Ne,O?1:-1),xe=_.addMonths(Ne,O?1:-1),$e=ti({utils:_,date:X,minDate:O?X:_.startOfMonth(xe),maxDate:O?_.endOfMonth(xe):X,isDateDisabled:G,timezone:U});te($e||X),we.preventDefault();break}case"ArrowRight":{const X=_.addDays(Ne,O?-1:1),xe=_.addMonths(Ne,O?-1:1),$e=ti({utils:_,date:X,minDate:O?_.startOfMonth(xe):X,maxDate:O?X:_.endOfMonth(xe),isDateDisabled:G,timezone:U});te($e||X),we.preventDefault();break}case"Home":te(_.startOfWeek(Ne)),we.preventDefault();break;case"End":te(_.endOfWeek(Ne)),we.preventDefault();break;case"PageUp":te(_.addMonths(Ne,1)),we.preventDefault();break;case"PageDown":te(_.addMonths(Ne,-1)),we.preventDefault();break}}),Z=ke((we,Ne)=>te(Ne)),Oe=ke((we,Ne)=>{he&&_.isSameDay(ne,Ne)&&(I==null||I(!1))}),ce=_.getMonth(i),Pe=v.useMemo(()=>a.filter(we=>!!we).map(we=>_.startOfDay(we)),[_,a]),se=ce,Re=v.useMemo(()=>v.createRef(),[se]),oe=_.startOfWeek(w),Ae=v.useMemo(()=>{const we=_.startOfMonth(i),Ne=_.endOfMonth(i);return G(ne)||_.isAfterDay(ne,Ne)||_.isBeforeDay(ne,we)?ti({utils:_,date:ne,minDate:we,maxDate:Ne,disablePast:m,disableFuture:x,isDateDisabled:G,timezone:U}):ne},[i,x,m,ne,G,_,U]),St=v.useMemo(()=>{const we=_.setTimezone(i,U),Ne=_.getWeekArray(we);let X=_.addMonths(we,1);for(;z&&Ne.length<z;){const xe=_.getWeekArray(X),$e=_.isSameDay(Ne[Ne.length-1][0],xe[0][0]);xe.slice($e?1:0).forEach(ct=>{Ne.length<z&&Ne.push(ct)}),X=_.addMonths(X,1)}return Ne},[i,z,_,U]);return n.jsxs(SP,{role:"grid","aria-labelledby":M,className:N.root,children:[n.jsxs(CP,{role:"row",className:N.header,children:[W&&n.jsx(kP,{variant:"caption",role:"columnheader","aria-label":me.calendarWeekNumberHeaderLabel,className:N.weekNumberLabel,children:me.calendarWeekNumberHeaderText}),jS(_,w).map((we,Ne)=>{var X;const xe=_.format(we,"weekdayShort");return n.jsx(PP,{variant:"caption",role:"columnheader","aria-label":_.format(_.addDays(oe,Ne),"weekday"),className:N.weekDayLabel,children:(X=B==null?void 0:B(xe,we))!=null?X:xe},xe+Ne.toString())})]}),l?n.jsx(IP,{className:N.loadingContainer,children:f()}):n.jsx(EP,$({transKey:se,onExited:u,reduceAnimations:h,slideDirection:p,className:lt(s,N.slideTransition)},g,{nodeRef:Re,children:n.jsx(TP,{ref:Re,role:"rowgroup",className:N.monthContainer,children:St.map((we,Ne)=>n.jsxs(MP,{role:"row",className:N.weekContainer,"aria-rowindex":Ne+1,children:[W&&n.jsx(DP,{className:N.weekNumber,role:"rowheader","aria-label":me.calendarWeekNumberAriaLabelText(_.getWeekNumber(we[0])),children:me.calendarWeekNumberText(_.getWeekNumber(we[0]))}),we.map((X,xe)=>n.jsx(OP,{parentProps:t,day:X,selectedDays:Pe,focusableDay:Ae,onKeyDown:Te,onFocus:Z,onBlur:Oe,onDaySelect:Ie,isDateDisabled:G,currentMonthNumber:ce,isViewFocused:he,"aria-colindex":xe+1},X.toString()))]},`week-${we[0]}`))})}))]})}const NP=(e,t,r)=>(s,i)=>{switch(i.type){case"changeMonth":return $({},s,{slideDirection:i.direction,currentMonth:i.newMonth,isMonthSwitchingAnimating:!e});case"finishMonthSwitchingAnimation":return $({},s,{isMonthSwitchingAnimating:!1});case"changeFocusedDay":{if(s.focusedDay!=null&&i.focusedDay!=null&&r.isSameDay(i.focusedDay,s.focusedDay))return s;const a=i.focusedDay!=null&&!t&&!r.isSameMonth(s.currentMonth,i.focusedDay);return $({},s,{focusedDay:i.focusedDay,isMonthSwitchingAnimating:a&&!e&&!i.withoutMonthSwitchingAnimation,currentMonth:a?r.startOfMonth(i.focusedDay):s.currentMonth,slideDirection:i.focusedDay!=null&&r.isAfterDay(i.focusedDay,s.currentMonth)?"left":"right"})}default:throw new Error("missing support")}},_P=e=>{const{value:t,referenceDate:r,defaultCalendarMonth:s,disableFuture:i,disablePast:a,disableSwitchToMonthOnDayFocus:o=!1,maxDate:l,minDate:c,onMonthChange:u,reduceAnimations:d,shouldDisableDate:h,timezone:f}=e,p=ot(),g=v.useRef(NP(!!d,o,p)).current,m=v.useMemo(()=>{let T=null;return r?T=r:s&&(T=p.startOfMonth(s)),Ar.getInitialReferenceValue({value:t,utils:p,timezone:f,props:e,referenceDate:T,granularity:Cr.day})},[]),[x,y]=v.useReducer(g,{isMonthSwitchingAnimating:!1,focusedDay:m,currentMonth:p.startOfMonth(m),slideDirection:"left"}),b=v.useCallback(T=>{y($({type:"changeMonth"},T)),u&&u(T.newMonth)},[u]),j=v.useCallback(T=>{const I=T;p.isSameMonth(I,x.currentMonth)||b({newMonth:p.startOfMonth(I),direction:p.isAfterDay(I,x.currentMonth)?"left":"right"})},[x.currentMonth,b,p]),P=Kp({shouldDisableDate:h,minDate:c,maxDate:l,disableFuture:i,disablePast:a,timezone:f}),C=v.useCallback(()=>{y({type:"finishMonthSwitchingAnimation"})},[]),D=ke((T,I)=>{P(T)||y({type:"changeFocusedDay",focusedDay:T,withoutMonthSwitchingAnimation:I})});return{referenceDate:m,calendarState:x,changeMonth:j,changeFocusedDay:D,isDateDisabled:P,onMonthSwitchingAnimationEnd:C,handleChangeMonth:b}},AP=["props","getOpenDialogAriaText"],FP=["ownerState"],LP=["ownerState"],WP=e=>{var t,r,s,i,a;let{props:o,getOpenDialogAriaText:l}=e,c=Ze(e,AP);const{slots:u,slotProps:d,className:h,sx:f,format:p,formatDensity:g,timezone:m,name:x,label:y,inputRef:b,readOnly:j,disabled:P,autoFocus:C,localeText:D,reduceAnimations:T}=o,I=ot(),M=v.useRef(null),W=v.useRef(null),z=kl(),L=(t=d==null||(r=d.toolbar)==null?void 0:r.hidden)!=null?t:!1,{open:U,actions:w,hasUIView:_,layoutProps:N,renderCurrentView:A,shouldRestoreFocus:O,fieldProps:B}=Bp($({},c,{props:o,inputRef:M,autoFocusView:!0,additionalViewProps:{},wrapperVariant:"desktop"})),G=(s=u.inputAdornment)!=null?s:Fe,me=vt({elementType:G,externalSlotProps:d==null?void 0:d.inputAdornment,additionalProps:{position:"end"},ownerState:o}),he=Ze(me,FP),J=(i=u.openPickerButton)!=null?i:ie,ne=vt({elementType:J,externalSlotProps:d==null?void 0:d.openPickerButton,additionalProps:{disabled:P||j,onClick:U?w.onClose:w.onOpen,"aria-label":l(B.value,I),edge:he.position},ownerState:o}),ee=Ze(ne,LP),Ie=u.openPickerIcon,te=u.field,Te=vt({elementType:te,externalSlotProps:d==null?void 0:d.field,additionalProps:$({},B,L&&{id:z},{readOnly:j,disabled:P,className:h,sx:f,format:p,formatDensity:g,timezone:m,label:y,name:x,autoFocus:C&&!o.open,focused:U?!0:void 0}),ownerState:o});_&&(Te.InputProps=$({},Te.InputProps,{ref:W},!o.disableOpenPicker&&{[`${he.position}Adornment`]:n.jsx(G,$({},he,{children:n.jsx(J,$({},ee,{children:n.jsx(Ie,$({},d==null?void 0:d.openPickerIcon))}))}))}));const Z=$({textField:u.textField,clearIcon:u.clearIcon,clearButton:u.clearButton},Te.slots),Oe=(a=u.layout)!=null?a:Up,ce=kn(M,Te.inputRef,b);let Pe=z;L&&(y?Pe=`${z}-label`:Pe=void 0);const se=$({},d,{toolbar:$({},d==null?void 0:d.toolbar,{titleId:z}),popper:$({"aria-labelledby":Pe},d==null?void 0:d.popper)});return{renderPicker:()=>n.jsxs(jc,{localeText:D,children:[n.jsx(te,$({},Te,{slots:Z,slotProps:se,inputRef:ce})),n.jsx(EC,$({role:"dialog",placement:"bottom-start",anchorEl:W.current},w,{open:U,slots:u,slotProps:se,shouldRestoreFocus:O,reduceAnimations:T,children:n.jsx(Oe,$({},N,se==null?void 0:se.layout,{slots:u,slotProps:se,children:A()}))}))]})}},qP=e=>{var t,r,s;const i=ot(),a=Ei();return $({},e,{disablePast:(t=e.disablePast)!=null?t:!1,disableFuture:(r=e.disableFuture)!=null?r:!1,format:(s=e.format)!=null?s:i.formats.keyboardDate,minDate:ar(i,e.minDate,a.minDate),maxDate:ar(i,e.maxDate,a.maxDate)})},$P=({props:e,inputRef:t})=>{const r=qP(e),{forwardedProps:s,internalProps:i}=aP(r);return NC({inputRef:t,forwardedProps:s,internalProps:i,valueManager:Ar,fieldValueManager:LS,validator:Ba})},BP=["ownerState"],VP=({clearable:e,fieldProps:t,InputProps:r,onClear:s,slots:i,slotProps:a,components:o,componentsProps:l})=>{var c,u,d,h,f,p;const g=ln(),m=(c=(u=i==null?void 0:i.clearButton)!=null?u:o==null?void 0:o.ClearButton)!=null?c:ie,x=vt({elementType:m,externalSlotProps:(d=a==null?void 0:a.clearButton)!=null?d:l==null?void 0:l.clearButton,ownerState:{},className:"clearButton",additionalProps:{title:g.fieldClearLabel}}),y=Ze(x,BP),b=(h=(f=i==null?void 0:i.clearIcon)!=null?f:o==null?void 0:o.ClearIcon)!=null?h:nC,j=vt({elementType:b,externalSlotProps:(p=a==null?void 0:a.clearIcon)!=null?p:l==null?void 0:l.clearIcon,ownerState:{}}),P=$({},r,{endAdornment:n.jsxs(v.Fragment,{children:[e&&n.jsx(Fe,{position:"end",sx:{marginRight:r!=null&&r.endAdornment?-1:-1.5},children:n.jsx(m,$({},y,{onClick:s,children:n.jsx(b,$({fontSize:"small"},j))}))}),r==null?void 0:r.endAdornment]})}),C=$({},t,{sx:[{"& .clearButton":{opacity:1},"@media (pointer: fine)":{"& .clearButton":{opacity:0},"&:hover, &:focus-within":{".clearButton":{opacity:1}}}},...Array.isArray(t.sx)?t.sx:[t.sx]]});return{InputProps:P,fieldProps:C}},zP=["components","componentsProps","slots","slotProps","InputProps","inputProps"],UP=["inputRef"],QP=["ref","onPaste","onKeyDown","inputMode","readOnly","clearable","onClear"],Xp=v.forwardRef(function(t,r){var s,i,a;const o=Ct({props:t,name:"MuiDateField"}),{components:l,componentsProps:c,slots:u,slotProps:d,InputProps:h,inputProps:f}=o,p=Ze(o,zP),g=o,m=(s=(i=u==null?void 0:u.textField)!=null?i:l==null?void 0:l.TextField)!=null?s:H,x=vt({elementType:m,externalSlotProps:(a=d==null?void 0:d.textField)!=null?a:c==null?void 0:c.textField,externalForwardedProps:p,ownerState:g}),{inputRef:y}=x,b=Ze(x,UP);b.inputProps=$({},f,b.inputProps),b.InputProps=$({},h,b.InputProps);const j=$P({props:b,inputRef:y}),{ref:P,onPaste:C,onKeyDown:D,inputMode:T,readOnly:I,clearable:M,onClear:W}=j,z=Ze(j,QP),{InputProps:L,fieldProps:U}=VP({onClear:W,clearable:M,fieldProps:z,InputProps:z.InputProps,slots:u,slotProps:d,components:l,componentsProps:c});return n.jsx(m,$({ref:r},U,{InputProps:$({},L,{readOnly:I}),inputProps:$({},z.inputProps,{inputMode:T,onPaste:C,onKeyDown:D,ref:P})}))}),HP=e=>Ut("MuiPickersFadeTransitionGroup",e);Qt("MuiPickersFadeTransitionGroup",["root"]);const YP=e=>{const{classes:t}=e;return Ft({root:["root"]},HP,t)},GP=qe(Fd,{name:"MuiPickersFadeTransitionGroup",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"block",position:"relative"});function Zp(e){const t=Ct({props:e,name:"MuiPickersFadeTransitionGroup"}),{children:r,className:s,reduceAnimations:i,transKey:a}=t,o=YP(t),l=Fr();return i?r:n.jsx(GP,{className:lt(o.root,s),children:n.jsx(be,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:l.transitions.duration.enteringScreen,enter:l.transitions.duration.enteringScreen,exit:0},children:r},a)})}function KP(e){return Ut("MuiPickersMonth",e)}const Wi=Qt("MuiPickersMonth",["root","monthButton","disabled","selected"]),JP=["autoFocus","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","aria-label","monthsPerRow"],XP=e=>{const{disabled:t,selected:r,classes:s}=e;return Ft({root:["root"],monthButton:["monthButton",t&&"disabled",r&&"selected"]},KP,s)},ZP=qe("div",{name:"MuiPickersMonth",slot:"Root",overridesResolver:(e,t)=>[t.root]})(({ownerState:e})=>({flexBasis:e.monthsPerRow===3?"33.3%":"25%",display:"flex",alignItems:"center",justifyContent:"center"})),ek=qe("button",{name:"MuiPickersMonth",slot:"MonthButton",overridesResolver:(e,t)=>[t.monthButton,{[`&.${Wi.disabled}`]:t.disabled},{[`&.${Wi.selected}`]:t.selected}]})(({theme:e})=>$({color:"unset",backgroundColor:"transparent",border:0,outline:0},e.typography.subtitle1,{margin:"8px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Dn(e.palette.action.active,e.palette.action.hoverOpacity)},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Dn(e.palette.action.active,e.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${Wi.disabled}`]:{color:(e.vars||e).palette.text.secondary},[`&.${Wi.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,"&:focus, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}}})),tk=v.memo(function(t){const r=Ct({props:t,name:"MuiPickersMonth"}),{autoFocus:s,children:i,disabled:a,selected:o,value:l,tabIndex:c,onClick:u,onKeyDown:d,onFocus:h,onBlur:f,"aria-current":p,"aria-label":g}=r,m=Ze(r,JP),x=v.useRef(null),y=XP(r);return ss(()=>{if(s){var b;(b=x.current)==null||b.focus()}},[s]),n.jsx(ZP,$({className:y.root,ownerState:r},m,{children:n.jsx(ek,{ref:x,disabled:a,type:"button",role:"radio",tabIndex:a?-1:c,"aria-current":p,"aria-checked":o,"aria-label":g,onClick:b=>u(b,l),onKeyDown:b=>d(b,l),onFocus:b=>h(b,l),onBlur:b=>f(b,l),className:y.monthButton,ownerState:r,children:i})}))});function rk(e){return Ut("MuiMonthCalendar",e)}Qt("MuiMonthCalendar",["root"]);const nk=["className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","shouldDisableMonth","readOnly","disableHighlightToday","autoFocus","onMonthFocus","hasFocus","onFocusedViewChange","monthsPerRow","timezone","gridLabelId"],sk=e=>{const{classes:t}=e;return Ft({root:["root"]},rk,t)};function ik(e,t){const r=ot(),s=Ei(),i=Ct({props:e,name:t});return $({disableFuture:!1,disablePast:!1},i,{minDate:ar(r,i.minDate,s.minDate),maxDate:ar(r,i.maxDate,s.maxDate)})}const ak=qe("div",{name:"MuiMonthCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexWrap:"wrap",alignContent:"stretch",padding:"0 4px",width:$a,boxSizing:"border-box"}),ok=v.forwardRef(function(t,r){const s=ik(t,"MuiMonthCalendar"),{className:i,value:a,defaultValue:o,referenceDate:l,disabled:c,disableFuture:u,disablePast:d,maxDate:h,minDate:f,onChange:p,shouldDisableMonth:g,readOnly:m,disableHighlightToday:x,autoFocus:y=!1,onMonthFocus:b,hasFocus:j,onFocusedViewChange:P,monthsPerRow:C=3,timezone:D,gridLabelId:T}=s,I=Ze(s,nk),{value:M,handleValueChange:W,timezone:z}=Cc({name:"MonthCalendar",timezone:D,value:a,defaultValue:o,onChange:p,valueManager:Ar}),L=Wa(z),U=Ld(),w=ot(),_=v.useMemo(()=>Ar.getInitialReferenceValue({value:M,utils:w,props:s,timezone:z,referenceDate:l,granularity:Cr.month}),[]),N=s,A=sk(N),O=v.useMemo(()=>w.getMonth(L),[w,L]),B=v.useMemo(()=>M!=null?w.getMonth(M):x?null:w.getMonth(_),[M,w,x,_]),[G,me]=v.useState(()=>B||O),[he,J]=en({name:"MonthCalendar",state:"hasFocus",controlled:j,default:y??!1}),ne=ke(ce=>{J(ce),P&&P(ce)}),ee=v.useCallback(ce=>{const Pe=w.startOfMonth(d&&w.isAfter(L,f)?L:f),se=w.startOfMonth(u&&w.isBefore(L,h)?L:h),Re=w.startOfMonth(ce);return w.isBefore(Re,Pe)||w.isAfter(Re,se)?!0:g?g(Re):!1},[u,d,h,f,L,g,w]),Ie=ke((ce,Pe)=>{if(m)return;const se=w.setMonth(M??_,Pe);W(se)}),te=ke(ce=>{ee(w.setMonth(M??_,ce))||(me(ce),ne(!0),b&&b(ce))});v.useEffect(()=>{me(ce=>B!==null&&ce!==B?B:ce)},[B]);const Te=ke((ce,Pe)=>{switch(ce.key){case"ArrowUp":te((12+Pe-3)%12),ce.preventDefault();break;case"ArrowDown":te((12+Pe+3)%12),ce.preventDefault();break;case"ArrowLeft":te((12+Pe+(U.direction==="ltr"?-1:1))%12),ce.preventDefault();break;case"ArrowRight":te((12+Pe+(U.direction==="ltr"?1:-1))%12),ce.preventDefault();break}}),Z=ke((ce,Pe)=>{te(Pe)}),Oe=ke((ce,Pe)=>{G===Pe&&ne(!1)});return n.jsx(ak,$({ref:r,className:lt(A.root,i),ownerState:N,role:"radiogroup","aria-labelledby":T},I,{children:yc(w,M??_).map(ce=>{const Pe=w.getMonth(ce),se=w.format(ce,"monthShort"),Re=w.format(ce,"month"),oe=Pe===B,Ae=c||ee(ce);return n.jsx(tk,{selected:oe,value:Pe,onClick:Ie,onKeyDown:Te,autoFocus:he&&Pe===G,disabled:Ae,tabIndex:Pe===G?0:-1,onFocus:Z,onBlur:Oe,"aria-current":O===Pe?"date":void 0,"aria-label":Re,monthsPerRow:C,children:se},se)})}))});function lk(e){return Ut("MuiPickersYear",e)}const qi=Qt("MuiPickersYear",["root","yearButton","selected","disabled"]),ck=["autoFocus","className","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","yearsPerRow"],uk=e=>{const{disabled:t,selected:r,classes:s}=e;return Ft({root:["root"],yearButton:["yearButton",t&&"disabled",r&&"selected"]},lk,s)},dk=qe("div",{name:"MuiPickersYear",slot:"Root",overridesResolver:(e,t)=>[t.root]})(({ownerState:e})=>({flexBasis:e.yearsPerRow===3?"33.3%":"25%",display:"flex",alignItems:"center",justifyContent:"center"})),hk=qe("button",{name:"MuiPickersYear",slot:"YearButton",overridesResolver:(e,t)=>[t.yearButton,{[`&.${qi.disabled}`]:t.disabled},{[`&.${qi.selected}`]:t.selected}]})(({theme:e})=>$({color:"unset",backgroundColor:"transparent",border:0,outline:0},e.typography.subtitle1,{margin:"6px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.focusOpacity})`:Dn(e.palette.action.active,e.palette.action.focusOpacity)},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Dn(e.palette.action.active,e.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${qi.disabled}`]:{color:(e.vars||e).palette.text.secondary},[`&.${qi.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,"&:focus, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}}})),fk=v.memo(function(t){const r=Ct({props:t,name:"MuiPickersYear"}),{autoFocus:s,className:i,children:a,disabled:o,selected:l,value:c,tabIndex:u,onClick:d,onKeyDown:h,onFocus:f,onBlur:p,"aria-current":g}=r,m=Ze(r,ck),x=v.useRef(null),y=uk(r);return v.useEffect(()=>{s&&x.current.focus()},[s]),n.jsx(dk,$({className:lt(y.root,i),ownerState:r},m,{children:n.jsx(hk,{ref:x,disabled:o,type:"button",role:"radio",tabIndex:o?-1:u,"aria-current":g,"aria-checked":l,onClick:b=>d(b,c),onKeyDown:b=>h(b,c),onFocus:b=>f(b,c),onBlur:b=>p(b,c),className:y.yearButton,ownerState:r,children:a})}))});function pk(e){return Ut("MuiYearCalendar",e)}Qt("MuiYearCalendar",["root"]);const mk=["autoFocus","className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","readOnly","shouldDisableYear","disableHighlightToday","onYearFocus","hasFocus","onFocusedViewChange","yearsPerRow","timezone","gridLabelId"],xk=e=>{const{classes:t}=e;return Ft({root:["root"]},pk,t)};function gk(e,t){var r;const s=ot(),i=Ei(),a=Ct({props:e,name:t});return $({disablePast:!1,disableFuture:!1},a,{yearsPerRow:(r=a.yearsPerRow)!=null?r:3,minDate:ar(s,a.minDate,i.minDate),maxDate:ar(s,a.maxDate,i.maxDate)})}const yk=qe("div",{name:"MuiYearCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexDirection:"row",flexWrap:"wrap",overflowY:"auto",height:"100%",padding:"0 4px",width:$a,maxHeight:hC,boxSizing:"border-box",position:"relative"}),bk=v.forwardRef(function(t,r){const s=gk(t,"MuiYearCalendar"),{autoFocus:i,className:a,value:o,defaultValue:l,referenceDate:c,disabled:u,disableFuture:d,disablePast:h,maxDate:f,minDate:p,onChange:g,readOnly:m,shouldDisableYear:x,disableHighlightToday:y,onYearFocus:b,hasFocus:j,onFocusedViewChange:P,yearsPerRow:C,timezone:D,gridLabelId:T}=s,I=Ze(s,mk),{value:M,handleValueChange:W,timezone:z}=Cc({name:"YearCalendar",timezone:D,value:o,defaultValue:l,onChange:g,valueManager:Ar}),L=Wa(z),U=Ld(),w=ot(),_=v.useMemo(()=>Ar.getInitialReferenceValue({value:M,utils:w,props:s,timezone:z,referenceDate:c,granularity:Cr.year}),[]),N=s,A=xk(N),O=v.useMemo(()=>w.getYear(L),[w,L]),B=v.useMemo(()=>M!=null?w.getYear(M):y?null:w.getYear(_),[M,w,y,_]),[G,me]=v.useState(()=>B||O),[he,J]=en({name:"YearCalendar",state:"hasFocus",controlled:j,default:i??!1}),ne=ke(se=>{J(se),P&&P(se)}),ee=v.useCallback(se=>{if(h&&w.isBeforeYear(se,L)||d&&w.isAfterYear(se,L)||p&&w.isBeforeYear(se,p)||f&&w.isAfterYear(se,f))return!0;if(!x)return!1;const Re=w.startOfYear(se);return x(Re)},[d,h,f,p,L,x,w]),Ie=ke((se,Re)=>{if(m)return;const oe=w.setYear(M??_,Re);W(oe)}),te=ke(se=>{ee(w.setYear(M??_,se))||(me(se),ne(!0),b==null||b(se))});v.useEffect(()=>{me(se=>B!==null&&se!==B?B:se)},[B]);const Te=ke((se,Re)=>{switch(se.key){case"ArrowUp":te(Re-C),se.preventDefault();break;case"ArrowDown":te(Re+C),se.preventDefault();break;case"ArrowLeft":te(Re+(U.direction==="ltr"?-1:1)),se.preventDefault();break;case"ArrowRight":te(Re+(U.direction==="ltr"?1:-1)),se.preventDefault();break}}),Z=ke((se,Re)=>{te(Re)}),Oe=ke((se,Re)=>{G===Re&&ne(!1)}),ce=v.useRef(null),Pe=kn(r,ce);return v.useEffect(()=>{if(i||ce.current===null)return;const se=ce.current.querySelector('[tabindex="0"]');if(!se)return;const Re=se.offsetHeight,oe=se.offsetTop,Ae=ce.current.clientHeight,St=ce.current.scrollTop,we=oe+Re;Re>Ae||oe<St||(ce.current.scrollTop=we-Ae/2-Re/2)},[i]),n.jsx(yk,$({ref:Pe,className:lt(A.root,a),ownerState:N,role:"radiogroup","aria-labelledby":T},I,{children:w.getYearRange(p,f).map(se=>{const Re=w.getYear(se),oe=Re===B,Ae=u||ee(se);return n.jsx(fk,{selected:oe,value:Re,onClick:Ie,onKeyDown:Te,autoFocus:he&&Re===G,disabled:Ae,tabIndex:Re===G?0:-1,onFocus:Z,onBlur:Oe,"aria-current":O===Re?"date":void 0,yearsPerRow:C,children:w.format(se,"year")},w.format(se,"year"))})}))}),vk=e=>Ut("MuiPickersCalendarHeader",e),jk=Qt("MuiPickersCalendarHeader",["root","labelContainer","label","switchViewButton","switchViewIcon"]),wk=["slots","slotProps","components","componentsProps","currentMonth","disabled","disableFuture","disablePast","maxDate","minDate","onMonthChange","onViewChange","view","reduceAnimations","views","labelId","className","timezone"],Sk=["ownerState"],Ck=e=>{const{classes:t}=e;return Ft({root:["root"],labelContainer:["labelContainer"],label:["label"],switchViewButton:["switchViewButton"],switchViewIcon:["switchViewIcon"]},vk,t)},Pk=qe("div",{name:"MuiPickersCalendarHeader",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",alignItems:"center",marginTop:16,marginBottom:8,paddingLeft:24,paddingRight:12,maxHeight:30,minHeight:30}),kk=qe("div",{name:"MuiPickersCalendarHeader",slot:"LabelContainer",overridesResolver:(e,t)=>t.labelContainer})(({theme:e})=>$({display:"flex",overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},e.typography.body1,{fontWeight:e.typography.fontWeightMedium})),Dk=qe("div",{name:"MuiPickersCalendarHeader",slot:"Label",overridesResolver:(e,t)=>t.label})({marginRight:6}),Ik=qe(ie,{name:"MuiPickersCalendarHeader",slot:"SwitchViewButton",overridesResolver:(e,t)=>t.switchViewButton})(({ownerState:e})=>$({marginRight:"auto"},e.view==="year"&&{[`.${jk.switchViewIcon}`]:{transform:"rotate(180deg)"}})),Ek=qe(ZS,{name:"MuiPickersCalendarHeader",slot:"SwitchViewIcon",overridesResolver:(e,t)=>t.switchViewIcon})(({theme:e})=>({willChange:"transform",transition:e.transitions.create("transform"),transform:"rotate(0deg)"})),Tk=v.forwardRef(function(t,r){var s,i,a,o;const l=ln(),c=ot(),u=Ct({props:t,name:"MuiPickersCalendarHeader"}),{slots:d,slotProps:h,components:f,currentMonth:p,disabled:g,disableFuture:m,disablePast:x,maxDate:y,minDate:b,onMonthChange:j,onViewChange:P,view:C,reduceAnimations:D,views:T,labelId:I,className:M,timezone:W}=u,z=Ze(u,wk),L=u,U=Ck(u),w=(s=(i=d==null?void 0:d.switchViewButton)!=null?i:f==null?void 0:f.SwitchViewButton)!=null?s:Ik,_=vt({elementType:w,externalSlotProps:h==null?void 0:h.switchViewButton,additionalProps:{size:"small","aria-label":l.calendarViewSwitchingButtonAriaLabel(C)},ownerState:L,className:U.switchViewButton}),N=(a=(o=d==null?void 0:d.switchViewIcon)!=null?o:f==null?void 0:f.SwitchViewIcon)!=null?a:Ek,A=vt({elementType:N,externalSlotProps:h==null?void 0:h.switchViewIcon,ownerState:void 0,className:U.switchViewIcon}),O=Ze(A,Sk),B=()=>j(c.addMonths(p,1),"left"),G=()=>j(c.addMonths(p,-1),"right"),me=eP(p,{disableFuture:m,maxDate:y,timezone:W}),he=tP(p,{disablePast:x,minDate:b,timezone:W}),J=()=>{if(!(T.length===1||!P||g))if(T.length===2)P(T.find(ne=>ne!==C)||T[0]);else{const ne=T.indexOf(C)!==0?0:1;P(T[ne])}};return T.length===1&&T[0]==="year"?null:n.jsxs(Pk,$({},z,{ownerState:L,className:lt(M,U.root),ref:r,children:[n.jsxs(kk,{role:"presentation",onClick:J,ownerState:L,"aria-live":"polite",className:U.labelContainer,children:[n.jsx(Zp,{reduceAnimations:D,transKey:c.format(p,"monthAndYear"),children:n.jsx(Dk,{id:I,ownerState:L,className:U.label,children:c.format(p,"monthAndYear")})}),T.length>1&&!g&&n.jsx(w,$({},_,{children:n.jsx(N,$({},O))}))]}),n.jsx(be,{in:C==="day",children:n.jsx(dC,{slots:d,slotProps:h,onGoToPrevious:G,isPreviousDisabled:he,previousLabel:l.previousMonth,onGoToNext:B,isNextDisabled:me,nextLabel:l.nextMonth})})]}))}),Mk=qe("div")({overflow:"hidden",width:$a,maxHeight:wc,display:"flex",flexDirection:"column",margin:"0 auto"}),Ok=e=>Ut("MuiDateCalendar",e);Qt("MuiDateCalendar",["root","viewTransitionContainer"]);const Rk=["autoFocus","onViewChange","value","defaultValue","referenceDate","disableFuture","disablePast","defaultCalendarMonth","onChange","onYearChange","onMonthChange","reduceAnimations","shouldDisableDate","shouldDisableMonth","shouldDisableYear","view","views","openTo","className","disabled","readOnly","minDate","maxDate","disableHighlightToday","focusedView","onFocusedViewChange","showDaysOutsideCurrentMonth","fixedWeekNumber","dayOfWeekFormatter","components","componentsProps","slots","slotProps","loading","renderLoading","displayWeekNumber","yearsPerRow","monthsPerRow","timezone"],Nk=e=>{const{classes:t}=e;return Ft({root:["root"],viewTransitionContainer:["viewTransitionContainer"]},Ok,t)};function _k(e,t){var r,s,i,a,o,l,c;const u=ot(),d=Ei(),h=Wp(),f=Ct({props:e,name:t});return $({},f,{loading:(r=f.loading)!=null?r:!1,disablePast:(s=f.disablePast)!=null?s:!1,disableFuture:(i=f.disableFuture)!=null?i:!1,openTo:(a=f.openTo)!=null?a:"day",views:(o=f.views)!=null?o:["year","day"],reduceAnimations:(l=f.reduceAnimations)!=null?l:h,renderLoading:(c=f.renderLoading)!=null?c:()=>n.jsx("span",{children:"..."}),minDate:ar(u,f.minDate,d.minDate),maxDate:ar(u,f.maxDate,d.maxDate)})}const Ak=qe(Mk,{name:"MuiDateCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexDirection:"column",height:wc}),Fk=qe(Zp,{name:"MuiDateCalendar",slot:"ViewTransitionContainer",overridesResolver:(e,t)=>t.viewTransitionContainer})({}),Lk=v.forwardRef(function(t,r){var s,i,a;const o=ot(),l=kl(),c=_k(t,"MuiDateCalendar"),{autoFocus:u,onViewChange:d,value:h,defaultValue:f,referenceDate:p,disableFuture:g,disablePast:m,defaultCalendarMonth:x,onChange:y,onYearChange:b,onMonthChange:j,reduceAnimations:P,shouldDisableDate:C,shouldDisableMonth:D,shouldDisableYear:T,view:I,views:M,openTo:W,className:z,disabled:L,readOnly:U,minDate:w,maxDate:_,disableHighlightToday:N,focusedView:A,onFocusedViewChange:O,showDaysOutsideCurrentMonth:B,fixedWeekNumber:G,dayOfWeekFormatter:me,components:he,componentsProps:J,slots:ne,slotProps:ee,loading:Ie,renderLoading:te,displayWeekNumber:Te,yearsPerRow:Z,monthsPerRow:Oe,timezone:ce}=c,Pe=Ze(c,Rk),{value:se,handleValueChange:Re,timezone:oe}=Cc({name:"DateCalendar",timezone:ce,value:h,defaultValue:f,onChange:y,valueManager:Ar}),{view:Ae,setView:St,focusedView:we,setFocusedView:Ne,goToNextView:X,setValueAndGoToNextView:xe}=$p({view:I,views:M,openTo:W,onChange:Re,onViewChange:d,autoFocus:u,focusedView:A,onFocusedViewChange:O}),{referenceDate:$e,calendarState:ct,changeFocusedDay:Tt,changeMonth:Mt,handleChangeMonth:vr,isDateDisabled:Yt,onMonthSwitchingAnimationEnd:ks}=_P({value:se,defaultCalendarMonth:x,referenceDate:p,reduceAnimations:P,onMonthChange:j,minDate:w,maxDate:_,shouldDisableDate:C,disablePast:m,disableFuture:g,timezone:oe}),Ds=L&&se||w,$r=L&&se||_,Ua=`${l}-grid-label`,Is=we!==null,lr=(s=(i=ne==null?void 0:ne.calendarHeader)!=null?i:he==null?void 0:he.CalendarHeader)!=null?s:Tk,um=vt({elementType:lr,externalSlotProps:(a=ee==null?void 0:ee.calendarHeader)!=null?a:J==null?void 0:J.calendarHeader,additionalProps:{views:M,view:Ae,currentMonth:ct.currentMonth,onViewChange:St,onMonthChange:(ut,jr)=>vr({newMonth:ut,direction:jr}),minDate:Ds,maxDate:$r,disabled:L,disablePast:m,disableFuture:g,reduceAnimations:P,timezone:oe,labelId:Ua,slots:ne,slotProps:ee},ownerState:c}),dm=ke(ut=>{const jr=o.startOfMonth(ut),Es=o.endOfMonth(ut),Br=Yt(ut)?ti({utils:o,date:ut,minDate:o.isBefore(w,jr)?jr:w,maxDate:o.isAfter(_,Es)?Es:_,disablePast:m,disableFuture:g,isDateDisabled:Yt,timezone:oe}):ut;Br?(xe(Br,"finish"),j==null||j(jr)):(X(),Mt(jr)),Tt(Br,!0)}),hm=ke(ut=>{const jr=o.startOfYear(ut),Es=o.endOfYear(ut),Br=Yt(ut)?ti({utils:o,date:ut,minDate:o.isBefore(w,jr)?jr:w,maxDate:o.isAfter(_,Es)?Es:_,disablePast:m,disableFuture:g,isDateDisabled:Yt,timezone:oe}):ut;Br?(xe(Br,"finish"),b==null||b(Br)):(X(),Mt(jr)),Tt(Br,!0)}),fm=ke(ut=>Re(ut&&fa(o,ut,se??$e),"finish",Ae));v.useEffect(()=>{se!=null&&o.isValid(se)&&Mt(se)},[se]);const Qa=c,kc=Nk(Qa),Ha={disablePast:m,disableFuture:g,maxDate:_,minDate:w},Ya={disableHighlightToday:N,readOnly:U,disabled:L,timezone:oe,gridLabelId:Ua},Ga=v.useRef(Ae);v.useEffect(()=>{Ga.current!==Ae&&(we===Ga.current&&Ne(Ae,!0),Ga.current=Ae)},[we,Ne,Ae]);const pm=v.useMemo(()=>[se],[se]);return n.jsxs(Ak,$({ref:r,className:lt(kc.root,z),ownerState:Qa},Pe,{children:[n.jsx(lr,$({},um)),n.jsx(Fk,{reduceAnimations:P,className:kc.viewTransitionContainer,transKey:Ae,ownerState:Qa,children:n.jsxs("div",{children:[Ae==="year"&&n.jsx(bk,$({},Ha,Ya,{value:se,onChange:hm,shouldDisableYear:T,hasFocus:Is,onFocusedViewChange:ut=>Ne("year",ut),yearsPerRow:Z,referenceDate:$e})),Ae==="month"&&n.jsx(ok,$({},Ha,Ya,{hasFocus:Is,className:z,value:se,onChange:dm,shouldDisableMonth:D,onFocusedViewChange:ut=>Ne("month",ut),monthsPerRow:Oe,referenceDate:$e})),Ae==="day"&&n.jsx(RP,$({},ct,Ha,Ya,{onMonthSwitchingAnimationEnd:ks,onFocusedDayChange:Tt,reduceAnimations:P,selectedDays:pm,onSelectedDaysChange:fm,shouldDisableDate:C,shouldDisableMonth:D,shouldDisableYear:T,hasFocus:Is,onFocusedViewChange:ut=>Ne("day",ut),showDaysOutsideCurrentMonth:B,fixedWeekNumber:G,dayOfWeekFormatter:me,displayWeekNumber:Te,components:he,componentsProps:J,slots:ne,slotProps:ee,loading:Ie,renderLoading:te}))]})})]}))}),ns=({view:e,onViewChange:t,views:r,focusedView:s,onFocusedViewChange:i,value:a,defaultValue:o,referenceDate:l,onChange:c,className:u,classes:d,disableFuture:h,disablePast:f,minDate:p,maxDate:g,shouldDisableDate:m,shouldDisableMonth:x,shouldDisableYear:y,reduceAnimations:b,onMonthChange:j,monthsPerRow:P,onYearChange:C,yearsPerRow:D,defaultCalendarMonth:T,components:I,componentsProps:M,slots:W,slotProps:z,loading:L,renderLoading:U,disableHighlightToday:w,readOnly:_,disabled:N,showDaysOutsideCurrentMonth:A,dayOfWeekFormatter:O,sx:B,autoFocus:G,fixedWeekNumber:me,displayWeekNumber:he,timezone:J})=>n.jsx(Lk,{view:e,onViewChange:t,views:r.filter(vd),focusedView:s&&vd(s)?s:null,onFocusedViewChange:i,value:a,defaultValue:o,referenceDate:l,onChange:c,className:u,classes:d,disableFuture:h,disablePast:f,minDate:p,maxDate:g,shouldDisableDate:m,shouldDisableMonth:x,shouldDisableYear:y,reduceAnimations:b,onMonthChange:j,monthsPerRow:P,onYearChange:C,yearsPerRow:D,defaultCalendarMonth:T,components:I,componentsProps:M,slots:W,slotProps:z,loading:L,renderLoading:U,disableHighlightToday:w,readOnly:_,disabled:N,showDaysOutsideCurrentMonth:A,dayOfWeekFormatter:O,sx:B,autoFocus:G,fixedWeekNumber:me,displayWeekNumber:he,timezone:J}),em=v.forwardRef(function(t,r){var s,i,a,o;const l=ln(),c=ot(),u=Lp(t,"MuiDesktopDatePicker"),d=$({day:ns,month:ns,year:ns},u.viewRenderers),h=$({},u,{viewRenderers:d,format:bc(c,u,!1),yearsPerRow:(s=u.yearsPerRow)!=null?s:4,slots:$({openPickerIcon:rC,field:Xp},u.slots),slotProps:$({},u.slotProps,{field:p=>{var g;return $({},gc((g=u.slotProps)==null?void 0:g.field,p),Hp(u),{ref:r})},toolbar:$({hidden:!0},(i=u.slotProps)==null?void 0:i.toolbar)})}),{renderPicker:f}=WP({props:h,valueManager:Ar,valueType:"date",getOpenDialogAriaText:(a=(o=h.localeText)==null?void 0:o.openDatePickerDialogue)!=null?a:l.openDatePickerDialogue,validator:Ba});return f()});em.propTypes={autoFocus:q.bool,className:q.string,closeOnSelect:q.bool,components:q.object,componentsProps:q.object,dayOfWeekFormatter:q.func,defaultCalendarMonth:q.any,defaultValue:q.any,disabled:q.bool,disableFuture:q.bool,disableHighlightToday:q.bool,disableOpenPicker:q.bool,disablePast:q.bool,displayWeekNumber:q.bool,fixedWeekNumber:q.number,format:q.string,formatDensity:q.oneOf(["dense","spacious"]),inputRef:Wd,label:q.node,loading:q.bool,localeText:q.object,maxDate:q.any,minDate:q.any,monthsPerRow:q.oneOf([3,4]),name:q.string,onAccept:q.func,onChange:q.func,onClose:q.func,onError:q.func,onMonthChange:q.func,onOpen:q.func,onSelectedSectionsChange:q.func,onViewChange:q.func,onYearChange:q.func,open:q.bool,openTo:q.oneOf(["day","month","year"]),orientation:q.oneOf(["landscape","portrait"]),readOnly:q.bool,reduceAnimations:q.bool,referenceDate:q.any,renderLoading:q.func,selectedSections:q.oneOfType([q.oneOf(["all","day","hours","meridiem","minutes","month","seconds","weekDay","year"]),q.number,q.shape({endIndex:q.number.isRequired,startIndex:q.number.isRequired})]),shouldDisableDate:q.func,shouldDisableMonth:q.func,shouldDisableYear:q.func,showDaysOutsideCurrentMonth:q.bool,slotProps:q.object,slots:q.object,sx:q.oneOfType([q.arrayOf(q.oneOfType([q.func,q.object,q.bool])),q.func,q.object]),timezone:q.string,value:q.any,view:q.oneOf(["day","month","year"]),viewRenderers:q.shape({day:q.func,month:q.func,year:q.func}),views:q.arrayOf(q.oneOf(["day","month","year"]).isRequired),yearsPerRow:q.oneOf([3,4])};const Wk=["props","getOpenDialogAriaText"],qk=e=>{var t,r,s;let{props:i,getOpenDialogAriaText:a}=e,o=Ze(e,Wk);const{slots:l,slotProps:c,className:u,sx:d,format:h,formatDensity:f,timezone:p,name:g,label:m,inputRef:x,readOnly:y,disabled:b,localeText:j}=i,P=ot(),C=v.useRef(null),D=kl(),T=(t=c==null||(r=c.toolbar)==null?void 0:r.hidden)!=null?t:!1,{open:I,actions:M,layoutProps:W,renderCurrentView:z,fieldProps:L}=Bp($({},o,{props:i,inputRef:C,autoFocusView:!0,additionalViewProps:{},wrapperVariant:"mobile"})),U=l.field,w=vt({elementType:U,externalSlotProps:c==null?void 0:c.field,additionalProps:$({},L,T&&{id:D},!(b||y)&&{onClick:M.onOpen,onKeyDown:yC(M.onOpen)},{readOnly:y??!0,disabled:b,className:u,sx:d,format:h,formatDensity:f,timezone:p,label:m,name:g}),ownerState:i});w.inputProps=$({},w.inputProps,{"aria-label":a(L.value,P)});const _=$({textField:l.textField},w.slots),N=(s=l.layout)!=null?s:Up,A=kn(C,w.inputRef,x);let O=D;T&&(m?O=`${D}-label`:O=void 0);const B=$({},c,{toolbar:$({},c==null?void 0:c.toolbar,{titleId:D}),mobilePaper:$({"aria-labelledby":O},c==null?void 0:c.mobilePaper)});return{renderPicker:()=>n.jsxs(jc,{localeText:j,children:[n.jsx(U,$({},w,{slots:_,slotProps:B,inputRef:A})),n.jsx(mC,$({},M,{open:I,slots:l,slotProps:B,children:n.jsx(N,$({},W,B==null?void 0:B.layout,{slots:l,slotProps:B,children:z()}))}))]})}},tm=v.forwardRef(function(t,r){var s,i,a;const o=ln(),l=ot(),c=Lp(t,"MuiMobileDatePicker"),u=$({day:ns,month:ns,year:ns},c.viewRenderers),d=$({},c,{viewRenderers:u,format:bc(l,c,!1),slots:$({field:Xp},c.slots),slotProps:$({},c.slotProps,{field:f=>{var p;return $({},gc((p=c.slotProps)==null?void 0:p.field,f),Hp(c),{ref:r})},toolbar:$({hidden:!1},(s=c.slotProps)==null?void 0:s.toolbar)})}),{renderPicker:h}=qk({props:d,valueManager:Ar,valueType:"date",getOpenDialogAriaText:(i=(a=d.localeText)==null?void 0:a.openDatePickerDialogue)!=null?i:o.openDatePickerDialogue,validator:Ba});return h()});tm.propTypes={autoFocus:q.bool,className:q.string,closeOnSelect:q.bool,components:q.object,componentsProps:q.object,dayOfWeekFormatter:q.func,defaultCalendarMonth:q.any,defaultValue:q.any,disabled:q.bool,disableFuture:q.bool,disableHighlightToday:q.bool,disableOpenPicker:q.bool,disablePast:q.bool,displayWeekNumber:q.bool,fixedWeekNumber:q.number,format:q.string,formatDensity:q.oneOf(["dense","spacious"]),inputRef:Wd,label:q.node,loading:q.bool,localeText:q.object,maxDate:q.any,minDate:q.any,monthsPerRow:q.oneOf([3,4]),name:q.string,onAccept:q.func,onChange:q.func,onClose:q.func,onError:q.func,onMonthChange:q.func,onOpen:q.func,onSelectedSectionsChange:q.func,onViewChange:q.func,onYearChange:q.func,open:q.bool,openTo:q.oneOf(["day","month","year"]),orientation:q.oneOf(["landscape","portrait"]),readOnly:q.bool,reduceAnimations:q.bool,referenceDate:q.any,renderLoading:q.func,selectedSections:q.oneOfType([q.oneOf(["all","day","hours","meridiem","minutes","month","seconds","weekDay","year"]),q.number,q.shape({endIndex:q.number.isRequired,startIndex:q.number.isRequired})]),shouldDisableDate:q.func,shouldDisableMonth:q.func,shouldDisableYear:q.func,showDaysOutsideCurrentMonth:q.bool,slotProps:q.object,slots:q.object,sx:q.oneOfType([q.arrayOf(q.oneOfType([q.func,q.object,q.bool])),q.func,q.object]),timezone:q.string,value:q.any,view:q.oneOf(["day","month","year"]),viewRenderers:q.shape({day:q.func,month:q.func,year:q.func}),views:q.arrayOf(q.oneOf(["day","month","year"]).isRequired),yearsPerRow:q.oneOf([3,4])};const $k=["desktopModeMediaQuery"],Td=v.forwardRef(function(t,r){const s=Ct({props:t,name:"MuiDatePicker"}),{desktopModeMediaQuery:i=bC}=s,a=Ze(s,$k);return Cl(i,{defaultMatches:!0})?n.jsx(em,$({ref:r},a)):n.jsx(tm,$({ref:r},a))}),Bk={y:{sectionType:"year",contentType:"digit",maxLength:4},yy:"year",yyy:{sectionType:"year",contentType:"digit",maxLength:4},yyyy:"year",M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMMM:{sectionType:"month",contentType:"letter"},MMM:{sectionType:"month",contentType:"letter"},L:{sectionType:"month",contentType:"digit",maxLength:2},LL:"month",LLL:{sectionType:"month",contentType:"letter"},LLLL:{sectionType:"month",contentType:"letter"},d:{sectionType:"day",contentType:"digit",maxLength:2},dd:"day",do:{sectionType:"day",contentType:"digit-with-letter"},E:{sectionType:"weekDay",contentType:"letter"},EE:{sectionType:"weekDay",contentType:"letter"},EEE:{sectionType:"weekDay",contentType:"letter"},EEEE:{sectionType:"weekDay",contentType:"letter"},EEEEE:{sectionType:"weekDay",contentType:"letter"},i:{sectionType:"weekDay",contentType:"digit",maxLength:1},ii:"weekDay",iii:{sectionType:"weekDay",contentType:"letter"},iiii:{sectionType:"weekDay",contentType:"letter"},e:{sectionType:"weekDay",contentType:"digit",maxLength:1},ee:"weekDay",eee:{sectionType:"weekDay",contentType:"letter"},eeee:{sectionType:"weekDay",contentType:"letter"},eeeee:{sectionType:"weekDay",contentType:"letter"},eeeeee:{sectionType:"weekDay",contentType:"letter"},c:{sectionType:"weekDay",contentType:"digit",maxLength:1},cc:"weekDay",ccc:{sectionType:"weekDay",contentType:"letter"},cccc:{sectionType:"weekDay",contentType:"letter"},ccccc:{sectionType:"weekDay",contentType:"letter"},cccccc:{sectionType:"weekDay",contentType:"letter"},a:"meridiem",aa:"meridiem",aaa:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},Vk={year:"yyyy",month:"LLLL",monthShort:"MMM",dayOfMonth:"d",weekday:"EEEE",weekdayShort:"EEEEEE",hours24h:"HH",hours12h:"hh",meridiem:"aa",minutes:"mm",seconds:"ss",fullDate:"PP",fullDateWithWeekday:"PPPP",keyboardDate:"P",shortDate:"MMM d",normalDate:"d MMMM",normalDateWithWeekday:"EEE, MMM d",monthAndYear:"LLLL yyyy",monthAndDate:"MMMM d",fullTime:"p",fullTime12h:"hh:mm aa",fullTime24h:"HH:mm",fullDateTime:"PP p",fullDateTime12h:"PP hh:mm aa",fullDateTime24h:"PP HH:mm",keyboardDateTime:"P p",keyboardDateTime12h:"P hh:mm aa",keyboardDateTime24h:"P HH:mm"};class zk{constructor(t){this.isMUIAdapter=!0,this.isTimezoneCompatible=!1,this.lib="date-fns",this.locale=void 0,this.formats=void 0,this.formatTokenMap=Bk,this.escapedCharacters={start:"'",end:"'"},this.longFormatters=void 0,this.date=a=>typeof a>"u"?new Date:a===null?null:new Date(a),this.dateWithTimezone=a=>this.date(a),this.getTimezone=()=>"default",this.setTimezone=a=>a,this.toJsDate=a=>a,this.getCurrentLocaleCode=()=>{var a;return((a=this.locale)==null?void 0:a.code)||"en-US"},this.is12HourCycleInCurrentLocale=()=>this.locale?/a/.test(this.locale.formatLong.time({width:"short"})):!0,this.expandFormat=a=>{const o=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;return a.match(o).map(l=>{const c=l[0];if(c==="p"||c==="P"){const u=this.longFormatters[c];return u(l,this.locale.formatLong)}return l}).join("")},this.getFormatHelperText=a=>this.expandFormat(a).replace(/(aaa|aa|a)/g,"(a|p)m").toLocaleLowerCase(),this.isNull=a=>a===null,this.formatNumber=a=>a,this.getMeridiemText=a=>a==="am"?"AM":"PM";const{locale:r,formats:s,longFormatters:i}=t;this.locale=r,this.formats=$({},Vk,s),this.longFormatters=i}}class Uk extends zk{constructor({locale:t,formats:r}={}){if(typeof ts!="function")throw new Error(["MUI: The `date-fns` package v2.x is not compatible with this adapter.","Please, install v3.x of the package or use the `AdapterDateFns` instead."].join(`
`));if(!xi)throw new Error("MUI: The minimum supported `date-fns` package version compatible with this adapter is `3.2.x`.");super({locale:t??hc,formats:r,longFormatters:xi}),this.parseISO=s=>bn(s),this.toISO=s=>Dw(s,{}),this.parse=(s,i)=>s===""?null:M2(s,i,new Date,{locale:this.locale}),this.isValid=s=>fp(this.date(s)),this.format=(s,i)=>this.formatByString(s,this.formats[i]),this.formatByString=(s,i)=>yn(s,i,{locale:this.locale}),this.getDiff=(s,i,a)=>{switch(a){case"years":return N1(s,this.date(i));case"quarters":return M1(s,this.date(i));case"months":return mp(s,this.date(i));case"weeks":return R1(s,this.date(i));case"days":return pp(s,this.date(i));case"hours":return I1(s,this.date(i));case"minutes":return E1(s,this.date(i));case"seconds":return O1(s,this.date(i));default:return Fa(s,this.date(i))}},this.isEqual=(s,i)=>s===null&&i===null?!0:Fw(s,i),this.isSameYear=(s,i)=>_2(s,i),this.isSameMonth=(s,i)=>N2(s,i),this.isSameDay=(s,i)=>C1(s,i),this.isSameHour=(s,i)=>R2(s,i),this.isAfter=(s,i)=>Po(s,i),this.isAfterYear=(s,i)=>Po(s,wo(i)),this.isAfterDay=(s,i)=>Po(s,yl(i)),this.isBefore=(s,i)=>Ls(s,i),this.isBeforeYear=(s,i)=>Ls(s,this.startOfYear(i)),this.isBeforeDay=(s,i)=>Ls(s,this.startOfDay(i)),this.isWithinRange=(s,[i,a])=>A2(s,{start:i,end:a}),this.startOfYear=s=>ea(s),this.startOfMonth=s=>fd(s),this.startOfWeek=s=>fr(s,{locale:this.locale}),this.startOfDay=s=>mi(s),this.endOfYear=s=>wo(s),this.endOfMonth=s=>bl(s),this.endOfWeek=s=>So(s,{locale:this.locale}),this.endOfDay=s=>yl(s),this.addYears=(s,i)=>dd(s,i),this.addMonths=(s,i)=>Zi(s,i),this.addWeeks=(s,i)=>S1(s,i),this.addDays=(s,i)=>ts(s,i),this.addHours=(s,i)=>y1(s,i),this.addMinutes=(s,i)=>j1(s,i),this.addSeconds=(s,i)=>w1(s,i),this.getYear=s=>Aw(s),this.getMonth=s=>Nw(s),this.getDate=s=>Iw(s),this.getHours=s=>Tw(s),this.getMinutes=s=>Rw(s),this.getSeconds=s=>_w(s),this.getMilliseconds=s=>Ow(s),this.setYear=(s,i)=>sS(s,i),this.setMonth=(s,i)=>X2(s,i),this.setDate=(s,i)=>Z2(s,i),this.setHours=(s,i)=>eS(s,i),this.setMinutes=(s,i)=>rS(s,i),this.setSeconds=(s,i)=>nS(s,i),this.setMilliseconds=(s,i)=>tS(s,i),this.getDaysInMonth=s=>vp(s),this.getNextMonth=s=>Zi(s,1),this.getPreviousMonth=s=>Zi(s,-1),this.getMonthArray=s=>{const a=[ea(s)];for(;a.length<12;){const o=a[a.length-1];a.push(this.getNextMonth(o))}return a},this.mergeDateAndTime=(s,i)=>this.setSeconds(this.setMinutes(this.setHours(s,this.getHours(i)),this.getMinutes(i)),this.getSeconds(i)),this.getWeekdays=()=>{const s=new Date;return _1({start:fr(s,{locale:this.locale}),end:So(s,{locale:this.locale})}).map(i=>this.formatByString(i,"EEEEEE"))},this.getWeekArray=s=>{const i=fr(fd(s),{locale:this.locale}),a=So(bl(s),{locale:this.locale});let o=0,l=i;const c=[];for(;Ls(l,a);){const u=Math.floor(o/7);c[u]=c[u]||[],c[u].push(l),l=ts(l,1),o+=1}return c},this.getWeekNumber=s=>pc(s,{locale:this.locale}),this.getYearRange=(s,i)=>{const a=ea(s),o=wo(i),l=[];let c=a;for(;Ls(c,o);)l.push(c),c=dd(c,1);return l}}}const ws=re`
  fragment ProductionRequestFields on ProductionRequest {
    id
    productName
    quantity
    priority
    status
    createdAt
    updatedAt
  }
`,Ss=re`
  fragment ProductionBatchFields on ProductionBatch {
    id
    requestId
    batchNumber
    quantity
    status
    scheduledStartDate
    scheduledEndDate
    notes
    createdAt
    updatedAt
  }
`,Pc=re`
  fragment ProductionStepFields on ProductionStep {
    id
    batchId
    stepName
    stepOrder
    status
    scheduledStartTime
    scheduledEndTime
    machineType
    notes
    createdAt
    updatedAt
  }
`,Qk=re`
  fragment MaterialAllocationFields on MaterialAllocation {
    id
    batchId
    materialId
    materialName
    quantityRequired
    quantityAllocated
    status
    notes
    createdAt
    updatedAt
  }
`;re`
  query GetProductionRequests {
    productionRequests {
      ...ProductionRequestFields
    }
  }
  ${ws}
`;const Hk=re`
  query GetProductionRequest($id: ID!) {
    productionRequest(id: $id) {
      ...ProductionRequestFields
    }
  }
  ${ws}
`;re`
  query GetProductionRequestsByStatus($status: RequestStatus!) {
    productionRequestsByStatus(status: $status) {
      ...ProductionRequestFields
    }
  }
  ${ws}
`;re`
  query GetProductionBatches {
    productionBatches {
      ...ProductionBatchFields
    }
  }
  ${Ss}
`;re`
  query GetProductionBatch($id: ID!) {
    productionBatch(id: $id) {
      ...ProductionBatchFields
    }
  }
  ${Ss}
`;re`
  query GetProductionBatchesByRequest($requestId: ID!) {
    productionBatchesByRequest(requestId: $requestId) {
      ...ProductionBatchFields
    }
  }
  ${Ss}
`;re`
  query GetProductionBatchesByStatus($status: BatchStatus!) {
    productionBatchesByStatus(status: $status) {
      ...ProductionBatchFields
    }
  }
  ${Ss}
`;re`
  query GetProductionStepsByBatch($batchId: ID!) {
    productionStepsByBatch(batchId: $batchId) {
      ...ProductionStepFields
    }
  }
  ${Pc}
`;re`
  query GetProductionStep($id: ID!) {
    productionStep(id: $id) {
      ...ProductionStepFields
    }
  }
  ${Pc}
`;re`
  query GetMaterialAllocationsByBatch($batchId: ID!) {
    materialAllocationsByBatch(batchId: $batchId) {
      ...MaterialAllocationFields
    }
  }
  ${Qk}
`;re`
  query GetProductionRequestsSummary {
    productionRequestsSummary {
      total
      status {
        status
        count
        color
      }
    }
  }
`;const Yk=re`
  query GetPendingBatches {
    productionBatchesByStatus(status: pending) {
      id
      batchNumber
      quantity
      scheduledStartDate
      scheduledEndDate
      request {
        productName
        requestId
      }
    }
  }
`;re`
  mutation CreateProductionRequest($input: ProductionRequestInput!) {
    createProductionRequest(input: $input) {
      ...ProductionRequestFields
    }
  }
  ${ws}
`;re`
  mutation UpdateProductionRequest(
    $id: ID!
    $input: ProductionRequestUpdateInput!
  ) {
    updateProductionRequest(id: $id, input: $input) {
      ...ProductionRequestFields
    }
  }
  ${ws}
`;re`
  mutation CancelProductionRequest($id: ID!) {
    cancelProductionRequest(id: $id) {
      ...ProductionRequestFields
    }
  }
  ${ws}
`;re`
  mutation CreateProductionBatch($input: ProductionBatchInput!) {
    createProductionBatch(input: $input) {
      ...ProductionBatchFields
    }
  }
  ${Ss}
`;re`
  mutation UpdateProductionBatch(
    $id: ID!
    $input: ProductionBatchUpdateInput!
  ) {
    updateProductionBatch(id: $id, input: $input) {
      ...ProductionBatchFields
    }
  }
  ${Ss}
`;re`
  mutation UpdateProductionStep($id: ID!, $input: ProductionStepUpdateInput!) {
    updateProductionStep(id: $id, input: $input) {
      ...ProductionStepFields
    }
  }
  ${Pc}
`;function rm(e){return new Tr(function(t,r){return new at(function(s){var i,a,o;try{i=r(t).subscribe({next:function(l){if(l.errors?o=e({graphQLErrors:l.errors,response:l,operation:t,forward:r}):Uh(l)&&(o=e({protocolErrors:l.extensions[Pa],response:l,operation:t,forward:r})),o){a=o.subscribe({next:s.next.bind(s),error:s.error.bind(s),complete:s.complete.bind(s)});return}s.next(l)},error:function(l){if(o=e({operation:t,networkError:l,graphQLErrors:l&&l.result&&l.result.errors||void 0,forward:r}),o){a=o.subscribe({next:s.next.bind(s),error:s.error.bind(s),complete:s.complete.bind(s)});return}s.error(l)},complete:function(){o||s.complete.bind(s)()}})}catch(l){e({networkError:l,operation:t,forward:r}),s.error(l)}return function(){i&&i.unsubscribe(),a&&i.unsubscribe()}})})}(function(e){yr(t,e);function t(r){var s=e.call(this)||this;return s.link=rm(r),s}return t.prototype.request=function(r,s){return this.link.request(r,s)},t})(Tr);const Gk=rm(({graphQLErrors:e,networkError:t})=>{e&&e.forEach(({message:r,locations:s,path:i})=>{console.error(`[GraphQL error]: Message: ${r}, Location: ${s}, Path: ${i}`),De.error(`GraphQL Error: ${r}`)}),t&&(console.error(`[Network error]: ${t}`),De.error(`Network Error: ${t.message}`))}),Cs={userService:"http://localhost:5006/graphql",productionManagement:"http://localhost:5001/graphql",productionPlanning:"http://localhost:5002/graphql",machineQueue:"http://localhost:5003/graphql",materialInventory:"http://localhost:5004/graphql",productionFeedback:"http://localhost:5005/graphql"},Kk=new Nn({uri:Cs.userService,credentials:"include"}),Jk=new Nn({uri:Cs.productionManagement}),Xk=new Nn({uri:Cs.productionPlanning}),Zk=new Nn({uri:Cs.machineQueue}),eD=new Nn({uri:Cs.materialInventory}),tD=new Nn({uri:Cs.productionFeedback}),rD=new Tr((e,t)=>{const r=localStorage.getItem("token");return r&&e.setContext(({headers:s={}})=>({headers:{...s,authorization:`Bearer ${r}`}})),t(e)}),nD=new Tr((e,t)=>{var a;const s=((a=gs(e.query).name)==null?void 0:a.value)||"";let i;return["GetMaterials","GetMaterial","GetMaterialById","GetMaterialCategories","GetMaterialTypes","GetLowStockMaterials","GetSuppliers","GetSupplier","GetSupplierById","GetSupplierMaterials","GetTransactions","GetTransaction","GetMaterialTransactionHistory","GetStockReport","GetSupplierPerformance","CheckStock","CreateMaterial","UpdateMaterial","DeleteMaterial","CreateSupplier","UpdateSupplier","DeleteSupplier","ReceiveMaterial","IssueMaterial","CreateStockAdjustment"].includes(s)?i=eD:["Login","Register","VerifyToken","ChangePassword","RequestPasswordReset","ResetPassword","GetUsers","GetUser","GetCurrentUser","GetUsersSummary","CreateUser","UpdateUser","UpdateUserStatus","UpdateProfile"].includes(s)?i=Kk:s.startsWith("ProductionManagement")?i=Jk:["GetPlans","GetPlan","GetCapacityPlans","GetMaterialPlans","GetCapacityPlan","GetMaterialPlan","GetPlansSummary","CreatePlan","UpdatePlan","DeletePlan","ApprovePlan","AddCapacityPlan","AddMaterialPlan","UpdateCapacityPlan","DeleteCapacityPlan","UpdateMaterialPlan"].includes(s)?i=Xk:["GetMachineTypes","GetMachines","GetMachine","GetQueues","GetQueue","CheckCapacity","CreateMachine","UpdateMachine","DeleteMachine","CreateQueue","UpdateQueue","DeleteQueue"].includes(s)||s.startsWith("MachineQueue")?i=Zk:i=tD,console.log(`Routing operation '${s}' to: ${i.options.uri}`),i.request(e,t)}),nm=new Da({link:n0([rD,Gk,nD]),cache:new ka,defaultOptions:{watchQuery:{fetchPolicy:"network-only",errorPolicy:"all"},query:{fetchPolicy:"network-only",errorPolicy:"all"},mutate:{errorPolicy:"all"}}}),sm=new Da({uri:"http://localhost:5001/graphql",cache:new ka});new Da({uri:"http://localhost:5005/graphql",cache:new ka});const Io=Object.freeze(Object.defineProperty({__proto__:null,apolloClient:nm,productionManagement:sm},Symbol.toStringTag,{value:"Module"})),Md=()=>{const{id:e}=Ht(),t=Xe(),r=!!e,[s,i]=v.useState({productName:"",planningNotes:"",plannedStartDate:new Date,plannedEndDate:new Date(new Date().setDate(new Date().getDate()+30)),priority:"normal",requestId:"",requestDbId:null,batchId:""}),[a,o]=v.useState({}),[l,c]=v.useState(!1),[u,d]=v.useState([]),{loading:h,error:f,data:p}=mr(jl,{variables:{id:e},skip:!r,fetchPolicy:"cache-and-network"}),{loading:g,error:m,data:x}=mr(Yk,{skip:r,fetchPolicy:"network-only",client:sm}),[y,{loading:b,error:j,data:P}]=Ob(Hk,{fetchPolicy:"network-only",onCompleted:N=>{if(N&&N.productionRequest){const A=N.productionRequest;i(O=>({...O,productName:A.productName,plannedStartDate:A.dueDate?new Date(A.dueDate):null,plannedEndDate:A.dueDate?new Date(A.dueDate):null,priority:A.priority?A.priority.toLowerCase():"normal"})),De.info("Detail permintaan produksi dimuat.")}else De.warn("Permintaan produksi tidak ditemukan.")},onError:N=>{De.error(`Gagal memuat detail permintaan produksi: ${N.message}`)}});v.useEffect(()=>{x&&x.productionBatchesByStatus&&d(x.productionBatchesByStatus)},[x]);const[C,{loading:D}]=Zt(aS,{onCompleted:N=>{De.success("Production plan created successfully"),t(`/production-plans/${N.createPlan.id}`),c(!1)},onError:N=>{De.error(`Failed to create production plan: ${N.message}`),c(!1)}}),[T,{loading:I}]=Zt(oS,{onCompleted:()=>{De.success("Production plan updated successfully"),t(`/production-plans/${e}`),c(!1)},onError:N=>{De.error(`Failed to update production plan: ${N.message}`),c(!1)},refetchQueries:[{query:jl,variables:{id:e}}]});v.useEffect(()=>{if(r&&p&&p.plan){const{plan:N}=p;i({productName:N.productName||"",planningNotes:N.planningNotes||"",plannedStartDate:N.plannedStartDate?new Date(N.plannedStartDate):null,plannedEndDate:N.plannedEndDate?new Date(N.plannedEndDate):null,priority:N.priority?N.priority.toLowerCase():"normal",requestId:N.requestId||"",batchId:N.batchId||""})}},[r,p]),v.useEffect(()=>{!r&&s.requestDbId&&y({variables:{id:s.requestDbId}})},[s.requestDbId,r,y]),v.useEffect(()=>{if(s.batchId&&!r){const N=u.find(A=>A.id===s.batchId);N&&(console.log("Selected Batch:",N),i(A=>{var O,B,G,me;return{...A,productName:((O=N.request)==null?void 0:O.productName)||"",requestId:((B=N.request)==null?void 0:B.requestId)||"",requestDbId:((G=N.request)==null?void 0:G.id)||null,productionRequestId:((me=N.request)==null?void 0:me.requestId)||"",plannedStartDate:N.scheduledStartDate?new Date(N.scheduledStartDate):null,plannedEndDate:N.scheduledEndDate?new Date(N.scheduledEndDate):null}}),De.info(`Detail batch ${N.batchNumber} dimuat secara otomatis.`))}},[s.batchId,u,r]);const M=N=>{const{name:A,value:O}=N.target;i({...s,[A]:O}),a[A]&&o({...a,[A]:""})},W=(N,A)=>{i({...s,[N]:A}),a[N]&&o({...a,[N]:""})},z=()=>{const N={};return r||(!s.batchId&&!s.requestDbId?N.requestId="Request ID or Batch ID is required":!s.batchId&&s.requestId&&(isNaN(Number(s.requestId))||Number(s.requestId)<=0)&&!s.requestDbId&&(N.requestId="Invalid Request ID format. Must be a positive number if entered manually without batch.")),s.productName.trim()||(N.productName="Product Name is required"),s.plannedStartDate||(N.plannedStartDate="Planned Start Date is required"),s.plannedEndDate?s.plannedStartDate&&s.plannedEndDate<s.plannedStartDate&&(N.plannedEndDate="Planned End Date cannot be before Planned Start Date"):N.plannedEndDate="Planned End Date is required",N},L=async N=>{N.preventDefault(),console.log("handleSubmit dipanggil."),c(!0);const A=z();if(console.log("Hasil validasi:",A),Object.keys(A).length>0){o(A),c(!1),De.error("Please correct the form errors.");return}const O={productName:s.productName,planningNotes:s.planningNotes,plannedStartDate:s.plannedStartDate?s.plannedStartDate.toISOString().split("T")[0]:null,plannedEndDate:s.plannedEndDate?s.plannedEndDate.toISOString().split("T")[0]:null,priority:s.priority.toUpperCase(),plannedBatches:1};s.requestDbId?O.requestId=s.requestDbId:s.requestId&&!isNaN(Number(s.requestId))&&(O.requestId=Number(s.requestId)),s.batchId&&!isNaN(Number(s.batchId))&&(O.batchId=Number(s.batchId));try{r?(console.log("Memanggil updatePlan dengan input:",O),await T({variables:{id:e,input:O}})):(console.log("Memanggil createPlan dengan input:",O),await C({variables:{input:O}}))}catch{}},U=()=>{t("/production-plans")},w=r?h:g,_=r?f:m;return w||b?n.jsx(E,{sx:{display:"flex",justifyContent:"center",my:4},children:n.jsx(je,{})}):_?n.jsxs(ge,{severity:"error",sx:{mt:2},children:["Error loading data: ",_.message]}):(console.log("Current formData:",s),n.jsx(jc,{dateAdapter:Uk,children:n.jsxs(E,{sx:{width:"100%",maxWidth:1200,mx:"auto",p:{xs:2,sm:3},overflow:"hidden"},children:[n.jsx(Se,{elevation:0,sx:{mb:4,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",borderRadius:3,width:"100%"},children:n.jsx(ve,{sx:{p:{xs:3,sm:4}},children:n.jsxs(E,{sx:{display:"flex",justifyContent:"space-between",alignItems:{xs:"flex-start",sm:"center"},flexDirection:{xs:"column",sm:"row"},gap:{xs:3,sm:0}},children:[n.jsxs(E,{sx:{display:"flex",alignItems:"center"},children:[n.jsx(Ce,{sx:{bgcolor:"rgba(255,255,255,0.2)",width:{xs:56,sm:64},height:{xs:56,sm:64},mr:{xs:2,sm:3}},children:n.jsx(_r,{sx:{fontSize:{xs:28,sm:32}}})}),n.jsxs(E,{children:[n.jsx(S,{variant:"h4",sx:{fontWeight:700,mb:1,fontSize:{xs:"1.75rem",sm:"2.125rem"}},children:r?"Edit Production Plan":"Create Production Plan"}),n.jsx(S,{variant:"h6",sx:{opacity:.9},children:r?"Modify plan details and settings":"Set up a new production plan"})]})]}),n.jsxs(ze,{direction:{xs:"column",sm:"row"},spacing:2,children:[n.jsx(K,{variant:"outlined",startIcon:n.jsx(Lt,{}),onClick:U,sx:{bgcolor:"rgba(255,255,255,0.1)",color:"white",borderColor:"rgba(255,255,255,0.5)","&:hover":{bgcolor:"rgba(255,255,255,0.2)"}},children:"Cancel"}),n.jsx(K,{variant:"contained",startIcon:n.jsx(ir,{}),onClick:L,disabled:l||D||I,sx:{bgcolor:"rgba(255,255,255,0.2)",color:"white","&:hover":{bgcolor:"rgba(255,255,255,0.3)"}},children:l||D||I?n.jsx(je,{size:24,color:"inherit"}):"Save"})]})]})})}),n.jsx(Me,{component:"form",onSubmit:L,sx:{borderRadius:3,overflow:"hidden",border:"1px solid",borderColor:"grey.200",width:"100%"},children:n.jsxs(E,{sx:{p:4},children:[n.jsx(S,{variant:"h6",sx:{mb:3,fontWeight:600,color:"text.primary",borderBottom:"1px solid",borderColor:"grey.300",pb:2},children:"Plan Information"}),n.jsxs(k,{container:!0,spacing:3,children:[!r&&n.jsx(k,{item:!0,xs:12,sm:6,children:n.jsxs(Ge,{fullWidth:!0,error:!!a.batchId,children:[n.jsx(Ke,{id:"batch-id-label",children:"Pilih Batch"}),n.jsxs(Je,{labelId:"batch-id-label",id:"batchId",name:"batchId",value:s.batchId,onChange:M,label:"Pilih Batch",sx:{"& .MuiOutlinedInput-root":{borderRadius:2}},children:[n.jsx(V,{value:"",children:n.jsx("em",{children:"None"})}),u.map(N=>n.jsxs(V,{value:N.id,children:[N.batchNumber," - ",N.productName," (Qty:"," ",N.quantity,")"]},N.id))]}),a.batchId&&n.jsx(Cm,{error:!0,children:a.batchId})]})}),n.jsx(k,{item:!0,xs:12,sm:6,children:n.jsx(H,{fullWidth:!0,label:"Product Name",name:"productName",value:s.productName,onChange:M,error:!!a.productName,helperText:a.productName,InputProps:{readOnly:!!(s.batchId||s.requestId)},sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}),!r&&n.jsx(k,{item:!0,xs:12,sm:6,children:n.jsx(H,{fullWidth:!0,label:"Request ID",name:"requestId",value:s.requestId,onChange:M,error:!!a.requestId,helperText:a.requestId,InputProps:{readOnly:!!s.batchId},sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}),n.jsx(k,{item:!0,xs:12,children:n.jsx(H,{fullWidth:!0,label:"Planning Notes",name:"planningNotes",multiline:!0,rows:4,value:s.planningNotes,onChange:M,error:!!a.planningNotes,helperText:a.planningNotes})}),n.jsx(k,{item:!0,xs:12,sm:6,children:n.jsx(Td,{label:"Planned Start Date",value:s.plannedStartDate,onChange:N=>W("plannedStartDate",N),slotProps:{textField:{fullWidth:!0,error:!!a.plannedStartDate,helperText:a.plannedStartDate,required:!0,disabled:!r&&(!!s.batchId||!!s.requestId),sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}}}})}),n.jsx(k,{item:!0,xs:12,sm:6,children:n.jsx(Td,{label:"Planned End Date",value:s.plannedEndDate,onChange:N=>W("plannedEndDate",N),slotProps:{textField:{fullWidth:!0,error:!!a.plannedEndDate,helperText:a.plannedEndDate,required:!0,disabled:!r&&(!!s.batchId||!!s.requestId),sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}}}})}),n.jsx(k,{item:!0,xs:12,md:6,children:n.jsxs(Ge,{fullWidth:!0,required:!0,children:[n.jsx(Ke,{id:"priority-label",children:"Priority"}),n.jsxs(Je,{labelId:"priority-label",id:"priority",name:"priority",value:s.priority,onChange:M,label:"Priority",sx:{"& .MuiOutlinedInput-root":{borderRadius:2}},children:[n.jsx(V,{value:"low",children:"Low"}),n.jsx(V,{value:"normal",children:"Medium"}),n.jsx(V,{value:"high",children:"High"}),n.jsx(V,{value:"urgent",children:"Urgent"})]})]})})]})]})})]})}))},sD=({severity:e="info",title:t,message:r,open:s=!1,onClose:i,autoHideDuration:a=0,sx:o={}})=>{const[l,c]=v.useState(s);v.useEffect(()=>{c(s)},[s]),v.useEffect(()=>{if(a>0&&l){const d=setTimeout(()=>{c(!1),i&&i()},a);return()=>clearTimeout(d)}},[a,l,i]);const u=()=>{c(!1),i&&i()};return n.jsx(_d,{in:l,children:n.jsxs(ge,{severity:e,action:n.jsx(ie,{"aria-label":"close",color:"inherit",size:"small",onClick:u,children:n.jsx(sc,{fontSize:"inherit"})}),sx:{mb:2,...o},children:[t&&n.jsx(Pm,{children:t}),r]})})},iD=({open:e,title:t,message:r,confirmText:s="Confirm",cancelText:i="Cancel",confirmButtonProps:a={},cancelButtonProps:o={},onConfirm:l,onCancel:c,icon:u,maxWidth:d="sm"})=>n.jsxs($t,{open:e,onClose:c,maxWidth:d,"aria-labelledby":"confirm-dialog-title","aria-describedby":"confirm-dialog-description",children:[n.jsx(Xt,{id:"confirm-dialog-title",children:n.jsxs(E,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[n.jsxs(E,{display:"flex",alignItems:"center",children:[u&&n.jsx(E,{mr:1,children:u}),n.jsx(S,{variant:"h6",children:t})]}),n.jsx(ie,{edge:"end",color:"inherit",onClick:c,"aria-label":"close",children:n.jsx(sc,{})})]})}),n.jsx(Bt,{children:n.jsx(Pn,{id:"confirm-dialog-description",children:r})}),n.jsxs(Vt,{sx:{px:3,pb:2},children:[n.jsx(K,{onClick:c,color:"inherit",variant:"outlined",...o,children:i}),n.jsx(K,{onClick:l,color:"primary",variant:"contained",autoFocus:!0,...a,children:s})]})]}),aD=({title:e="No Data Found",description:t="There are no items to display at the moment.",icon:r=n.jsx(ov,{sx:{fontSize:64,color:"text.secondary",opacity:.6}}),action:s,actionText:i,actionIcon:a,onAction:o,height:l=300,paper:c=!0})=>{const u=n.jsxs(E,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",height:l,p:3},children:[r,n.jsx(S,{variant:"h6",sx:{mt:2,fontWeight:"medium"},children:e}),n.jsx(S,{variant:"body2",color:"text.secondary",sx:{mt:1,maxWidth:400},children:t}),s&&n.jsx(K,{variant:"contained",color:"primary",sx:{mt:3},onClick:o,startIcon:a,children:i})]});return c?n.jsx(Me,{elevation:0,variant:"outlined",sx:{borderRadius:2},children:u}):u},oD=({columns:e=[],data:t=[],totalCount:r=0,page:s=0,rowsPerPage:i=10,onPageChange:a,onRowsPerPageChange:o,onSort:l,sortBy:c,sortDirection:u,selectable:d=!1,selectedRows:h=[],onSelectRows:f,onSelectAllRows:p,onViewRow:g,onEditRow:m,onDeleteRow:x,onRowClick:y,loading:b=!1,emptyStateProps:j,toolbarTitle:P,toolbarActions:C,rowActions:D=[],getRowId:T=he=>he.id,stickyHeader:I=!1,maxHeight:M,dense:W=!1,hideToolbar:z=!1,hidePagination:L=!1,customRowComponent:U,customCellComponent:w,rowsPerPageOptions:_=[5,10,25,50],showFirstLastPageButtons:N=!0,disableSorting:A=!1,highlightOnHover:O=!0,paperProps:B={},tableContainerProps:G={},tableProps:me={}})=>{const[he,J]=v.useState(null),[ne,ee]=v.useState(null),Ie=oe=>{p&&p(oe.target.checked)},te=(oe,Ae)=>{if(oe.stopPropagation(),f){const St=h.indexOf(Ae);let we=[];St===-1?we=[...h,Ae]:we=h.filter(Ne=>Ne!==Ae),f(we)}},Te=(oe,Ae)=>{y&&y(Ae)},Z=(oe,Ae)=>{oe.stopPropagation(),g&&g(Ae)},Oe=(oe,Ae)=>{oe.stopPropagation(),m&&m(Ae)},ce=(oe,Ae)=>{oe.stopPropagation(),x&&x(Ae)},Pe=(oe,Ae)=>{oe.stopPropagation(),J(oe.currentTarget),ee(Ae)},se=oe=>{if(A)return;l&&l(oe,c===oe&&u==="asc"?"desc":"asc")},Re=oe=>h.indexOf(oe)!==-1;return b?n.jsxs(Me,{...B,sx:{width:"100%",mb:2,...B.sx},children:[!z&&n.jsx(Hs,{sx:{pl:{sm:2},pr:{xs:1,sm:1}},children:n.jsx(S,{variant:"h6",component:"div",sx:{flex:"1 1 100%"},children:n.jsx(cn,{width:"40%"})})}),n.jsx(Zr,{...G,sx:{maxHeight:M,...G.sx},children:n.jsxs(Nt,{...me,stickyHeader:I,size:W?"small":"medium",sx:{minWidth:750,...me.sx},children:[n.jsx(_t,{children:n.jsxs(Ve,{children:[d&&n.jsx(R,{padding:"checkbox",children:n.jsx(cn,{variant:"rectangular",width:24,height:24})}),e.map(oe=>n.jsx(R,{align:oe.numeric?"right":"left",padding:oe.disablePadding?"none":"normal",sortDirection:c===oe.id?u:!1,width:oe.width,sx:oe.sx,children:n.jsx(cn,{width:"80%"})},oe.id)),(g||m||x||D.length>0)&&n.jsx(R,{align:"right",padding:"normal",width:"120px",children:n.jsx(cn,{width:80})})]})}),n.jsx(At,{children:Array.from(new Array(i)).map((oe,Ae)=>n.jsxs(Ve,{hover:!0,children:[d&&n.jsx(R,{padding:"checkbox",children:n.jsx(cn,{variant:"rectangular",width:24,height:24})}),e.map((St,we)=>n.jsx(R,{align:St.numeric?"right":"left",padding:St.disablePadding?"none":"normal",children:n.jsx(cn,{width:`${Math.floor(Math.random()*50)+30}%`})},we)),(g||m||x||D.length>0)&&n.jsx(R,{align:"right",padding:"normal",children:n.jsx(cn,{variant:"rectangular",width:80,height:24})})]},Ae))})]})}),!L&&n.jsx(dr,{component:"div",count:r,rowsPerPage:i,page:s,onPageChange:()=>{},onRowsPerPageChange:()=>{},rowsPerPageOptions:_,showFirstButton:N,showLastButton:N})]}):!b&&(!t||t.length===0)?n.jsxs(Me,{...B,sx:{width:"100%",mb:2,...B.sx},children:[!z&&P&&n.jsxs(Hs,{sx:{pl:{sm:2},pr:{xs:1,sm:1}},children:[n.jsx(S,{variant:"h6",component:"div",sx:{flex:"1 1 100%"},children:P}),C]}),n.jsx(aD,{title:"No data available",description:"There are no items to display at the moment.",height:300,paper:!1,...j}),!L&&n.jsx(dr,{component:"div",count:r,rowsPerPage:i,page:s,onPageChange:a,onRowsPerPageChange:o,rowsPerPageOptions:_,showFirstButton:N,showLastButton:N})]}):n.jsxs(Me,{...B,sx:{width:"100%",mb:2,...B.sx},children:[!z&&n.jsxs(Hs,{sx:{pl:{sm:2},pr:{xs:1,sm:1},...h.length>0&&{bgcolor:oe=>Dn(oe.palette.primary.main,oe.palette.action.activatedOpacity)}},children:[h.length>0?n.jsxs(S,{sx:{flex:"1 1 100%"},color:"inherit",variant:"subtitle1",component:"div",children:[h.length," selected"]}):n.jsx(S,{variant:"h6",id:"tableTitle",component:"div",sx:{flex:"1 1 100%"},children:P}),h.length>0?n.jsx(Ee,{title:"Delete",children:n.jsx(ie,{onClick:()=>x(h),children:n.jsx(jt,{})})}):C]}),n.jsx(Zr,{...G,sx:{maxHeight:M,...G.sx},children:n.jsxs(Nt,{...me,stickyHeader:I,size:W?"small":"medium",sx:{minWidth:750,...me.sx},children:[n.jsx(_t,{children:n.jsxs(Ve,{children:[d&&n.jsx(R,{padding:"checkbox",children:n.jsx(Ec,{indeterminate:h.length>0&&h.length<t.length,checked:t.length>0&&h.length===t.length,onChange:Ie,inputProps:{"aria-label":"select all"}})}),e.map(oe=>n.jsx(R,{align:oe.numeric?"right":"left",padding:oe.disablePadding?"none":"normal",sortDirection:c===oe.id?u:!1,width:oe.width,sx:oe.sx,children:oe.sortable!==!1&&!A?n.jsx(km,{active:c===oe.id,direction:c===oe.id?u:"asc",onClick:()=>se(oe.id),children:oe.label}):oe.label},oe.id)),(g||m||x||D.length>0)&&n.jsx(R,{align:"right",padding:"normal",width:"120px",children:"Actions"})]})}),n.jsx(At,{children:t.map((oe,Ae)=>{const St=T(oe),we=Re(St),Ne=`table-checkbox-${Ae}`;return U?U({row:oe,index:Ae,isSelected:we,onSelect:X=>te(X,St),columns:e,labelId:Ne}):n.jsxs(Ve,{hover:O,onClick:X=>Te(X,oe),role:"checkbox","aria-checked":we,tabIndex:-1,selected:we,sx:{cursor:y?"pointer":"default"},children:[d&&n.jsx(R,{padding:"checkbox",children:n.jsx(Ec,{checked:we,onChange:X=>te(X,St),inputProps:{"aria-labelledby":Ne},onClick:X=>X.stopPropagation()})}),e.map(X=>{const xe=oe[X.id];return w?w({column:X,row:oe,value:xe}):n.jsx(R,{align:X.numeric?"right":"left",padding:X.disablePadding?"none":"normal",children:X.render?X.render(xe,oe):xe},X.id)}),(g||m||x||D.length>0)&&n.jsx(R,{align:"right",padding:"normal",children:n.jsxs(E,{sx:{display:"flex",justifyContent:"flex-end"},children:[g&&n.jsx(Ee,{title:"View",children:n.jsx(ie,{size:"small",onClick:X=>Z(X,oe),sx:{ml:1},children:n.jsx(Gt,{fontSize:"small"})})}),m&&n.jsx(Ee,{title:"Edit",children:n.jsx(ie,{size:"small",onClick:X=>Oe(X,oe),sx:{ml:1},children:n.jsx(wt,{fontSize:"small"})})}),x&&n.jsx(Ee,{title:"Delete",children:n.jsx(ie,{size:"small",onClick:X=>ce(X,oe),sx:{ml:1},children:n.jsx(jt,{fontSize:"small"})})}),D.length>0&&n.jsx(Ee,{title:"More actions",children:n.jsx(ie,{size:"small",onClick:X=>Pe(X,oe),sx:{ml:1},children:n.jsx(_f,{fontSize:"small"})})})]})})]},St)})})]})}),!L&&n.jsx(dr,{component:"div",count:r,rowsPerPage:i,page:s,onPageChange:a,onRowsPerPageChange:o,rowsPerPageOptions:_,showFirstButton:N,showLastButton:N})]})},Va=({title:e,subtitle:t,breadcrumbs:r=[],action:s,actionText:i,actionIcon:a,onAction:o,actionDisabled:l=!1,actionComponent:c,backButton:u,backTo:d,backText:h="Back",elevation:f=0})=>n.jsxs(Me,{elevation:f,sx:{p:3,mb:3,borderRadius:2,backgroundColor:f===0?"transparent":"background.paper"},children:[r.length>0&&n.jsx(Ad,{separator:n.jsx(Af,{fontSize:"small"}),"aria-label":"breadcrumb",sx:{mb:2},children:r.map((p,g)=>g===r.length-1?n.jsx(S,{color:"text.primary",children:p.label},g):n.jsx(Mo,{component:ra,to:p.path,underline:"hover",color:"inherit",children:p.label},g))}),n.jsxs(E,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsxs(E,{children:[n.jsx(S,{variant:"h4",component:"h1",gutterBottom:!!t,children:e}),t&&n.jsx(S,{variant:"subtitle1",color:"text.secondary",children:t})]}),n.jsxs(E,{sx:{display:"flex",gap:2},children:[u&&n.jsx(K,{variant:"outlined",component:ra,to:d,color:"inherit",children:h}),c||s&&n.jsx(K,{variant:"contained",color:"primary",onClick:o,startIcon:a,disabled:l,children:i})]})]})]}),lD=({placeholder:e="Search...",value:t="",onChange:r,onSearch:s,onClear:i,filters:a=[],selectedFilters:o=[],onFilterChange:l,width:c="100%",showFilterButton:u=!0,debounceTime:d=300})=>{const[h,f]=v.useState(t),[p,g]=v.useState(null),m=!!p;v.useEffect(()=>{f(t)},[t]),v.useEffect(()=>{const D=setTimeout(()=>{r&&r(h)},d);return()=>{clearTimeout(D)}},[h,r,d]);const x=D=>{f(D.target.value)},y=D=>{D.key==="Enter"&&s&&s(h)},b=()=>{f(""),i&&i()},j=D=>{g(D.currentTarget)},P=()=>{g(null)},C=D=>{if(l){const T=o.includes(D.value);let I;T?I=o.filter(M=>M!==D.value):I=[...o,D.value],l(I)}};return n.jsxs(E,{sx:{width:c,display:"flex",flexDirection:"column",gap:1},children:[n.jsxs(Me,{sx:{p:"2px 4px",display:"flex",alignItems:"center",width:"100%",borderRadius:2},elevation:1,children:[n.jsx(ie,{sx:{p:"10px"},"aria-label":"search",children:n.jsx(Mr,{})}),n.jsx(Dm,{sx:{ml:1,flex:1},placeholder:e,value:h,onChange:x,onKeyDown:y,inputProps:{"aria-label":"search"}}),h&&n.jsx(ie,{sx:{p:"10px"},"aria-label":"clear",onClick:b,children:n.jsx(gr,{})}),u&&a.length>0&&n.jsxs(n.Fragment,{children:[n.jsx(qt,{sx:{height:28,m:.5},orientation:"vertical"}),n.jsx(Ee,{title:"Filter",children:n.jsx(ie,{sx:{p:"10px"},"aria-label":"filter",onClick:j,color:o.length>0?"primary":"default",children:n.jsx(Nf,{})})}),n.jsx(Pl,{anchorEl:p,open:m,onClose:P,PaperProps:{elevation:3,sx:{minWidth:200,maxHeight:300,overflow:"auto"}},children:a.map(D=>{const T=o.includes(D.value);return n.jsxs(V,{onClick:()=>C(D),selected:T,children:[n.jsx(Qs,{children:T?n.jsx(Rf,{color:"primary"}):n.jsx(E,{sx:{width:24}})}),n.jsx(Kr,{primary:D.label})]},D.value)})})]})]}),o.length>0&&n.jsx(E,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:o.map(D=>{const T=a.find(I=>I.value===D);return T?n.jsx(We,{label:T.label,onDelete:()=>C(T),color:"primary",variant:"outlined",size:"small"},T.value):null})})]})},cD=re`
  mutation CreateFeedback($input: ProductionFeedbackInput!) {
    createFeedback(input: $input) {
      id
      feedbackId
      batchId
      status
      createdAt
    }
  }
`,uD=()=>{const e=Xe(),[t,r]=v.useState({batchId:"",productName:"",plannedQuantity:0,actualQuantity:0,notes:""}),[s,i]=v.useState(""),[a,o]=v.useState(!1),[l,c]=v.useState([]),[u,d]=v.useState(!1),[h,{loading:f}]=Zt(cD,{onCompleted:()=>{o(!0),setTimeout(()=>{e("/feedback")},2e3)},onError:x=>{i(`Error creating feedback: ${x.message}`)}});v.useEffect(()=>{(async()=>{try{d(!0);const y=await ye.get("http://localhost:5003/api/queues?status=completed");if(console.log("API Response:",y.data),y.data&&y.data.success){const b={};if(Array.isArray(y.data.data)){y.data.data.forEach(P=>{console.log("Queue item:",P);const C=P.batchId||P.batch_id,D=P.productName||P.product_name;C&&!b[C]&&(b[C]={batchId:C,productName:D})});const j=Object.values(b);console.log("Unique Batches:",j),c(j)}else console.error("Response data is not an array:",y.data.data),i("Invalid data format received from server")}else console.error("API response error:",y.data),i("Failed to load completed batches. Invalid response format.")}catch(y){console.error("Error fetching completed batches:",y),i("Failed to load completed batches. Please try again later.")}finally{d(!1)}})()},[]);const p=x=>{const{name:y,value:b}=x.target;r({...t,[y]:b})},g=x=>{const y=x.target.value,b=l.find(j=>j.batchId===y);r(b?{...t,batchId:b.batchId,productName:b.productName}:{...t,batchId:y,productName:""})},m=x=>{if(x.preventDefault(),!t.batchId||!t.productName||t.plannedQuantity<=0){i("Please fill all required fields");return}const y={batchId:String(t.batchId),productName:t.productName,status:"pending",plannedQuantity:parseInt(t.plannedQuantity),actualQuantity:parseInt(t.actualQuantity)||0,notes:t.notes};h({variables:{input:y}})};return n.jsxs(E,{sx:{p:3},children:[n.jsx(Va,{title:"Create Production Feedback"}),n.jsxs(Me,{sx:{p:3,mt:3},children:[s&&n.jsx(ge,{severity:"error",sx:{mb:3},children:s}),a&&n.jsx(ge,{severity:"success",sx:{mb:3},children:"Production feedback created successfully! Redirecting..."}),n.jsx("form",{onSubmit:m,children:n.jsxs(k,{container:!0,spacing:3,children:[n.jsx(k,{item:!0,xs:12,children:n.jsx(S,{variant:"h6",gutterBottom:!0,children:"Production Feedback Information"})}),n.jsx(k,{item:!0,xs:12,md:6,children:n.jsxs(Ge,{fullWidth:!0,children:[n.jsx(Ke,{id:"batch-select-label",children:"Batch ID"}),n.jsx(Je,{labelId:"batch-select-label",id:"batch-select",name:"batchId",value:t.batchId,onChange:g,disabled:f||u,label:"Batch ID",required:!0,children:u?n.jsx(V,{disabled:!0,children:"Loading batches..."}):l.length>0?l.map(x=>n.jsxs(V,{value:x.batchId,children:[x.batchId," - ",x.productName]},x.batchId)):n.jsx(V,{disabled:!0,children:"No completed batches found"})})]})}),n.jsx(k,{item:!0,xs:12,md:6,children:n.jsx(H,{fullWidth:!0,label:"Product Name",name:"productName",value:t.productName,onChange:p,disabled:f,required:!0})}),n.jsx(k,{item:!0,xs:12,md:6,children:n.jsx(H,{fullWidth:!0,label:"Planned Quantity",name:"plannedQuantity",type:"number",value:t.plannedQuantity,onChange:p,disabled:f,required:!0})}),n.jsx(k,{item:!0,xs:12,md:6,children:n.jsx(H,{fullWidth:!0,label:"Actual Quantity",name:"actualQuantity",type:"number",value:t.actualQuantity,onChange:p,disabled:f})}),n.jsx(k,{item:!0,xs:12,children:n.jsx(H,{fullWidth:!0,label:"Notes",name:"notes",multiline:!0,rows:4,value:t.notes,onChange:p,disabled:f})}),n.jsx(k,{item:!0,xs:12,children:n.jsxs(E,{sx:{display:"flex",justifyContent:"flex-end",mt:2},children:[n.jsx(K,{variant:"contained",color:"primary",type:"submit",disabled:f,sx:{mr:2},children:f?n.jsx(je,{size:24}):"Create Feedback"}),n.jsx(K,{variant:"outlined",onClick:()=>e("/feedback"),disabled:f,children:"Cancel"})]})})]})})]})]})},Ps=re`
  fragment FeedbackFields on ProductionFeedback {
    id
    feedbackId
    batchId
    productName
    productionPlanId
    status
    plannedQuantity
    actualQuantity
    defectQuantity
    startDate
    endDate
    notes
    createdBy
    updatedBy
    createdAt
    updatedAt
  }
`,za=re`
  fragment NotificationFields on FeedbackNotification {
    id
    notificationId
    feedbackId
    type
    title
    message
    recipientType
    recipientId
    isRead
    isDelivered
    priority
    deliveryMethod
    createdAt
    updatedAt
  }
`,im=re`
  query GetFeedback($id: ID!) {
    getFeedbackById(id: $id) {
      ...FeedbackFields
    }
  }
  ${Ps}
`,am=re`
  query GetFeedbacks(
    $filters: FeedbackFilterInput
    $pagination: PaginationInput
  ) {
    getAllFeedback(filters: $filters, pagination: $pagination) {
      items {
        ...FeedbackFields
      }
      totalCount
      pageInfo {
        hasNextPage
        hasPreviousPage
      }
    }
  }
  ${Ps}
`;re`
  query GetNotifications($recipientId: String!, $isRead: Boolean) {
    notifications(recipientId: $recipientId, isRead: $isRead) {
      ...NotificationFields
    }
  }
  ${za}
`;re`
  query GetProductionSummary($startDate: String, $endDate: String) {
    productionSummary(startDate: $startDate, endDate: $endDate) {
      totalBatches
      completedBatches
      inProgressBatches
      delayedBatches
      totalPlannedQuantity
      totalActualQuantity
      totalDefectQuantity
      defectRate
      onTimeDeliveryRate
      averageCycleTime
    }
  }
`;re`
  query GetFeedbackSummary {
    feedbackSummary {
      totalFeedbacks
      pendingFeedbacks
      completedFeedbacks
      inProductionFeedbacks
      onHoldFeedbacks
      cancelledFeedbacks
      rejectedFeedbacks
      averageQualityScore
      defectRate
    }
  }
`;re`
  mutation CreateFeedback($input: ProductionFeedbackInput!) {
    createFeedback(input: $input) {
      ...FeedbackFields
    }
  }
  ${Ps}
`;const dD=re`
  mutation UpdateFeedback($id: ID!, $input: ProductionFeedbackInput!) {
    updateFeedback(id: $id, input: $input) {
      ...FeedbackFields
    }
  }
  ${Ps}
`;re`
  mutation UpdateFeedbackStatus($id: ID!, $status: ProductionStatus!) {
    updateFeedbackStatus(id: $id, status: $status) {
      ...FeedbackFields
    }
  }
  ${Ps}
`;re`
  mutation UpdateFeedbackQuantities($id: ID!, $actualQuantity: Int, $defectQuantity: Int) {
    updateFeedbackQuantities(id: $id, actualQuantity: $actualQuantity, defectQuantity: $defectQuantity) {
      ...FeedbackFields
    }
  }
  ${Ps}
`;const hD=re`
  mutation DeleteFeedback($id: ID!) {
    deleteFeedback(id: $id) {
      success
      message
    }
  }
`;re`
  mutation SendMarketplaceUpdate($feedbackId: String!) {
    sendMarketplaceUpdate(feedbackId: $feedbackId) {
      success
      message
    }
  }
`;re`
  mutation CreateQuantityStock($input: QuantityStockInput!) {
    createQuantityStock(input: $input) {
      id
      feedbackId
      materialId
      materialName
      usedQuantity
      unit
      notes
      createdAt
      updatedAt
    }
  }
`;re`
  mutation UpdateQuantityStock($id: ID!, $usedQuantity: Float!, $notes: String) {
    updateQuantityStock(id: $id, usedQuantity: $usedQuantity, notes: $notes) {
      id
      feedbackId
      materialId
      materialName
      usedQuantity
      unit
      notes
      createdAt
      updatedAt
    }
  }
`;re`
  mutation DeleteQuantityStock($id: ID!) {
    deleteQuantityStock(id: $id) {
      success
      message
    }
  }
`;re`
  mutation CreateBatchQuantityStocks($stocks: [QuantityStockInput!]!) {
    createBatchQuantityStocks(stocks: $stocks) {
      id
      feedbackId
      materialId
      materialName
      usedQuantity
      unit
      notes
      createdAt
      updatedAt
    }
  }
`;re`
  mutation CreateNotification($input: FeedbackNotificationInput!) {
    createNotification(input: $input) {
      ...NotificationFields
    }
  }
  ${za}
`;re`
  mutation UpdateNotification($id: ID!, $input: FeedbackNotificationInput!) {
    updateNotification(id: $id, input: $input) {
      ...NotificationFields
    }
  }
  ${za}
`;re`
  mutation MarkNotificationAsRead($id: ID!) {
    markNotificationAsRead(id: $id) {
      ...NotificationFields
    }
  }
  ${za}
`;re`
  mutation MarkMultipleNotificationsAsRead($ids: [ID!]!) {
    markMultipleNotificationsAsRead(ids: $ids) {
      success
      message
      count
    }
  }
`;re`
  mutation DeleteNotification($id: ID!) {
    deleteNotification(id: $id) {
      success
      message
    }
  }
`;const Od=e=>{switch(e){case"completed":return"success";case"in_production":return"primary";case"on_hold":return"warning";case"cancelled":return"error";case"rejected":return"error";default:return"default"}},fD=()=>{var W,z,L,U;const e=Xe(),[t,r]=v.useState(""),[s,i]=v.useState(!1),[a,o]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null),{loading:h,error:f,data:p,refetch:g}=mr(am,{variables:{filters:{},pagination:{page:1,limit:10}}}),{data:m,loading:x}=mr(im,{variables:{id:u},skip:!u}),[y,{loading:b}]=Zt(hD,{onCompleted:()=>{i(!1),o(null),g()},onError:w=>{console.error("Error deleting feedback:",w)}}),j=w=>{r(w)},P=()=>{e("/feedback/create")},C=w=>{d(w),c(!0)},D=w=>{e(`/feedback/edit/${w}`)},T=w=>{o(w),i(!0)},I=()=>{a&&y({variables:{id:a.id}})},M=()=>{c(!1),d(null)};return n.jsxs(E,{sx:{p:3},children:[n.jsx(Va,{title:"Production Feedback"}),n.jsxs(E,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[n.jsx(lD,{placeholder:"Search by batch ID or product name",value:t,onChange:j}),n.jsx(K,{variant:"contained",color:"primary",startIcon:n.jsx(or,{}),onClick:P,children:"Create Feedback"})]}),n.jsx(Me,{sx:{width:"100%",overflow:"hidden"},children:n.jsx(Zr,{sx:{maxHeight:"calc(100vh - 250px)"},children:n.jsxs(Nt,{stickyHeader:!0,children:[n.jsx(_t,{children:n.jsxs(Ve,{children:[n.jsx(R,{children:"Feedback ID"}),n.jsx(R,{children:"Batch ID"}),n.jsx(R,{children:"Product Name"}),n.jsx(R,{children:"Status"}),n.jsx(R,{children:"Planned Qty"}),n.jsx(R,{children:"Actual Qty"}),n.jsx(R,{children:"Actions"})]})}),n.jsx(At,{children:h?n.jsx(Ve,{children:n.jsx(R,{colSpan:8,align:"center",children:n.jsx(je,{})})}):f?n.jsx(Ve,{children:n.jsx(R,{colSpan:8,align:"center",children:n.jsxs(S,{color:"error",children:["Error loading data: ",f.message]})})}):((z=(W=p==null?void 0:p.getAllFeedback)==null?void 0:W.items)==null?void 0:z.length)===0?n.jsx(Ve,{children:n.jsx(R,{colSpan:8,align:"center",children:n.jsx(S,{children:"No feedback records found"})})}):(U=(L=p==null?void 0:p.getAllFeedback)==null?void 0:L.items)==null?void 0:U.map(w=>n.jsxs(Ve,{hover:!0,children:[n.jsx(R,{children:w.feedbackId}),n.jsx(R,{children:w.batchId}),n.jsx(R,{children:w.productName}),n.jsx(R,{children:n.jsx(We,{label:w.status,color:Od(w.status),size:"small"})}),n.jsx(R,{children:w.plannedQuantity}),n.jsx(R,{children:w.actualQuantity||"-"}),n.jsx(R,{children:n.jsxs(E,{sx:{display:"flex"},children:[n.jsx(ie,{size:"small",onClick:()=>C(w.id),title:"View Details",children:n.jsx(Gt,{fontSize:"small"})}),n.jsx(ie,{size:"small",onClick:()=>D(w.id),title:"Edit Feedback",children:n.jsx(wt,{fontSize:"small"})}),n.jsx(ie,{size:"small",onClick:()=>T(w),title:"Delete Feedback",color:"error",children:n.jsx(jt,{fontSize:"small"})})]})})]},w.id))})]})})}),n.jsxs($t,{open:s,onClose:()=>i(!1),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[n.jsx(Xt,{id:"alert-dialog-title",children:"Konfirmasi Hapus"}),n.jsx(Bt,{children:n.jsxs(Pn,{id:"alert-dialog-description",children:["Apakah Anda yakin ingin menghapus feedback ",a==null?void 0:a.feedbackId," untuk batch ",a==null?void 0:a.batchId,"? Tindakan ini tidak dapat dibatalkan."]})}),n.jsxs(Vt,{children:[n.jsx(K,{onClick:()=>i(!1),disabled:b,children:"Batal"}),n.jsx(K,{onClick:I,color:"error",autoFocus:!0,disabled:b,children:b?n.jsx(je,{size:24}):"Hapus"})]})]}),n.jsxs($t,{open:l,onClose:M,maxWidth:"md",fullWidth:!0,children:[n.jsxs(Xt,{children:["Detail Production Feedback",n.jsx(ie,{"aria-label":"close",onClick:M,sx:{position:"absolute",right:8,top:8},children:n.jsx(sc,{})})]}),n.jsx(Bt,{dividers:!0,children:x?n.jsx(E,{sx:{display:"flex",justifyContent:"center",p:3},children:n.jsx(je,{})}):m!=null&&m.getFeedbackById?n.jsxs(k,{container:!0,spacing:2,children:[n.jsx(k,{item:!0,xs:12,md:6,children:n.jsx(Se,{variant:"outlined",children:n.jsxs(ve,{children:[n.jsx(S,{variant:"h6",gutterBottom:!0,children:"Informasi Umum"}),n.jsx(qt,{sx:{mb:2}}),n.jsxs(k,{container:!0,spacing:1,children:[n.jsx(k,{item:!0,xs:4,children:n.jsx(S,{variant:"body2",color:"text.secondary",children:"Feedback ID"})}),n.jsx(k,{item:!0,xs:8,children:n.jsx(S,{variant:"body2",children:m.getFeedbackById.feedbackId})}),n.jsx(k,{item:!0,xs:4,children:n.jsx(S,{variant:"body2",color:"text.secondary",children:"Batch ID"})}),n.jsx(k,{item:!0,xs:8,children:n.jsx(S,{variant:"body2",children:m.getFeedbackById.batchId})}),n.jsx(k,{item:!0,xs:4,children:n.jsx(S,{variant:"body2",color:"text.secondary",children:"Produk"})}),n.jsx(k,{item:!0,xs:8,children:n.jsx(S,{variant:"body2",children:m.getFeedbackById.productName})}),n.jsx(k,{item:!0,xs:4,children:n.jsx(S,{variant:"body2",color:"text.secondary",children:"Status"})}),n.jsx(k,{item:!0,xs:8,children:n.jsx(We,{label:m.getFeedbackById.status,color:Od(m.getFeedbackById.status),size:"small"})})]})]})})}),n.jsx(k,{item:!0,xs:12,md:6,children:n.jsx(Se,{variant:"outlined",children:n.jsxs(ve,{children:[n.jsx(S,{variant:"h6",gutterBottom:!0,children:"Informasi Produksi"}),n.jsx(qt,{sx:{mb:2}}),n.jsxs(k,{container:!0,spacing:1,children:[n.jsx(k,{item:!0,xs:6,children:n.jsx(S,{variant:"body2",color:"text.secondary",children:"Planned Quantity"})}),n.jsx(k,{item:!0,xs:6,children:n.jsx(S,{variant:"body2",children:m.getFeedbackById.plannedQuantity})}),n.jsx(k,{item:!0,xs:6,children:n.jsx(S,{variant:"body2",color:"text.secondary",children:"Actual Quantity"})}),n.jsx(k,{item:!0,xs:6,children:n.jsx(S,{variant:"body2",children:m.getFeedbackById.actualQuantity||"-"})}),n.jsx(k,{item:!0,xs:6,children:n.jsx(S,{variant:"body2",color:"text.secondary",children:"Defect Quantity"})}),n.jsx(k,{item:!0,xs:6,children:n.jsx(S,{variant:"body2",children:m.getFeedbackById.defectQuantity||"-"})}),n.jsx(k,{item:!0,xs:6,children:n.jsx(S,{variant:"body2",color:"text.secondary",children:"Start Date"})}),n.jsx(k,{item:!0,xs:6,children:n.jsx(S,{variant:"body2",children:m.getFeedbackById.startDate?new Date(m.getFeedbackById.startDate).toLocaleDateString():"-"})}),n.jsx(k,{item:!0,xs:6,children:n.jsx(S,{variant:"body2",color:"text.secondary",children:"End Date"})}),n.jsx(k,{item:!0,xs:6,children:n.jsx(S,{variant:"body2",children:m.getFeedbackById.endDate?new Date(m.getFeedbackById.endDate).toLocaleDateString():"-"})})]})]})})}),n.jsx(k,{item:!0,xs:12,children:n.jsx(Se,{variant:"outlined",children:n.jsxs(ve,{children:[n.jsx(S,{variant:"h6",gutterBottom:!0,children:"Catatan"}),n.jsx(qt,{sx:{mb:2}}),n.jsx(S,{variant:"body2",children:m.getFeedbackById.notes||"Tidak ada catatan"})]})})}),n.jsx(k,{item:!0,xs:12,children:n.jsx(Se,{variant:"outlined",children:n.jsxs(ve,{children:[n.jsx(S,{variant:"h6",gutterBottom:!0,children:"Informasi Tambahan"}),n.jsx(qt,{sx:{mb:2}}),n.jsxs(k,{container:!0,spacing:1,children:[n.jsx(k,{item:!0,xs:3,children:n.jsx(S,{variant:"body2",color:"text.secondary",children:"Dibuat Oleh"})}),n.jsx(k,{item:!0,xs:3,children:n.jsx(S,{variant:"body2",children:m.getFeedbackById.createdBy||"-"})}),n.jsx(k,{item:!0,xs:3,children:n.jsx(S,{variant:"body2",color:"text.secondary",children:"Diperbarui Oleh"})}),n.jsx(k,{item:!0,xs:3,children:n.jsx(S,{variant:"body2",children:m.getFeedbackById.updatedBy||"-"})}),n.jsx(k,{item:!0,xs:3,children:n.jsx(S,{variant:"body2",color:"text.secondary",children:"Tanggal Dibuat"})}),n.jsx(k,{item:!0,xs:3,children:n.jsx(S,{variant:"body2",children:new Date(m.getFeedbackById.createdAt).toLocaleString()})}),n.jsx(k,{item:!0,xs:3,children:n.jsx(S,{variant:"body2",color:"text.secondary",children:"Tanggal Diperbarui"})}),n.jsx(k,{item:!0,xs:3,children:n.jsx(S,{variant:"body2",children:new Date(m.getFeedbackById.updatedAt).toLocaleString()})})]})]})})})]}):n.jsx(S,{children:"Data tidak ditemukan"})}),n.jsxs(Vt,{children:[n.jsx(K,{onClick:M,children:"Tutup"}),(m==null?void 0:m.getFeedbackById)&&n.jsx(K,{color:"primary",onClick:()=>{M(),D(m.getFeedbackById.id)},children:"Edit"})]})]})]})},pD=()=>{const e=Xe(),{id:t}=Ht(),[r,s]=v.useState({batchId:"",productName:"",plannedQuantity:0,actualQuantity:0,notes:""}),[i,a]=v.useState(""),[o,l]=v.useState(!1),{loading:c,error:u,data:d}=mr(im,{variables:{id:t},onCompleted:m=>{m&&m.getFeedbackById&&s({batchId:m.getFeedbackById.batchId||"",productName:m.getFeedbackById.productName||"",plannedQuantity:m.getFeedbackById.plannedQuantity||0,actualQuantity:m.getFeedbackById.actualQuantity||0,notes:m.getFeedbackById.notes||""})},onError:m=>{a(`Error fetching feedback data: ${m.message}`)}}),[h,{loading:f}]=Zt(dD,{onCompleted:()=>{l(!0),setTimeout(()=>{e("/feedback")},2e3)},onError:m=>{a(`Error updating feedback: ${m.message}`)}}),p=m=>{const{name:x,value:y}=m.target;s({...r,[x]:y})},g=m=>{if(m.preventDefault(),!r.batchId||!r.productName||r.plannedQuantity<=0){a("Please fill all required fields");return}const x={batchId:String(r.batchId),productName:r.productName,plannedQuantity:parseInt(r.plannedQuantity),actualQuantity:parseInt(r.actualQuantity)||0,notes:r.notes};h({variables:{id:t,input:x}})};return c?n.jsx(E,{sx:{p:3,display:"flex",justifyContent:"center"},children:n.jsx(je,{})}):u?n.jsx(E,{sx:{p:3},children:n.jsxs(ge,{severity:"error",children:["Error loading feedback data: ",u.message]})}):n.jsxs(E,{sx:{p:3},children:[n.jsx(Va,{title:"Edit Production Feedback"}),n.jsxs(Me,{sx:{p:3,mt:3},children:[i&&n.jsx(ge,{severity:"error",sx:{mb:3},children:i}),o&&n.jsx(ge,{severity:"success",sx:{mb:3},children:"Production feedback updated successfully! Redirecting..."}),n.jsx("form",{onSubmit:g,children:n.jsxs(k,{container:!0,spacing:3,children:[n.jsx(k,{item:!0,xs:12,children:n.jsx(S,{variant:"h6",gutterBottom:!0,children:"Production Feedback Information"})}),n.jsx(k,{item:!0,xs:12,md:6,children:n.jsx(H,{fullWidth:!0,label:"Batch ID",name:"batchId",value:r.batchId,onChange:p,disabled:f,required:!0})}),n.jsx(k,{item:!0,xs:12,md:6,children:n.jsx(H,{fullWidth:!0,label:"Product Name",name:"productName",value:r.productName,onChange:p,disabled:f,required:!0})}),n.jsx(k,{item:!0,xs:12,md:6,children:n.jsx(H,{fullWidth:!0,label:"Planned Quantity",name:"plannedQuantity",type:"number",value:r.plannedQuantity,onChange:p,disabled:f,required:!0})}),n.jsx(k,{item:!0,xs:12,md:6,children:n.jsx(H,{fullWidth:!0,label:"Actual Quantity",name:"actualQuantity",type:"number",value:r.actualQuantity,onChange:p,disabled:f})}),n.jsx(k,{item:!0,xs:12,children:n.jsx(H,{fullWidth:!0,label:"Notes",name:"notes",multiline:!0,rows:4,value:r.notes,onChange:p,disabled:f})}),n.jsx(k,{item:!0,xs:12,children:n.jsxs(E,{sx:{display:"flex",justifyContent:"flex-end",mt:2},children:[n.jsx(K,{variant:"contained",color:"primary",type:"submit",disabled:f,sx:{mr:2},children:f?n.jsx(je,{size:24}):"Update Feedback"}),n.jsx(K,{variant:"outlined",onClick:()=>e("/feedback"),disabled:f,children:"Cancel"})]})})]})})]})]})},qr=re`
  fragment QuantityStockFields on QuantityStock {
    id
    productName
    quantity
    reorderPoint
    status
    createdAt
    updatedAt
  }
`,mD=re`
  query GetQuantityStock($id: ID!) {
    getQuantityStockById(id: $id) {
      ...QuantityStockFields
    }
  }
  ${qr}
`,xD=re`
  query GetQuantityStocks(
    $filters: QuantityStockFilterInput
    $pagination: PaginationInput
  ) {
    getAllQuantityStocks(filters: $filters, pagination: $pagination) {
      items {
        ...QuantityStockFields
      }
      totalCount
      pageInfo {
        hasNextPage
        hasPreviousPage
      }
    }
  }
  ${qr}
`;re`
  query GetQuantityStocksByFeedbackId($feedbackId: String!) {
    getQuantityStocksByFeedbackId(feedbackId: $feedbackId) {
      ...QuantityStockFields
    }
  }
  ${qr}
`;re`
  query GetQuantityStocksByProductName($productName: String!) {
    getQuantityStocksByProductName(productName: $productName) {
      ...QuantityStockFields
    }
  }
  ${qr}
`;re`
  query GetLowStockItems($threshold: Int) {
    getLowStockItems(threshold: $threshold) {
      ...QuantityStockFields
    }
  }
  ${qr}
`;const gD=re`
  mutation CreateQuantityStock($input: QuantityStockInput!) {
    createQuantityStock(input: $input) {
      ...QuantityStockFields
    }
  }
  ${qr}
`,yD=re`
  mutation UpdateQuantityStock($id: ID!, $quantity: Int!, $reorderPoint: Int, $status: QuantityStockStatus) {
    updateQuantityStock(id: $id, quantity: $quantity, reorderPoint: $reorderPoint, status: $status) {
      ...QuantityStockFields
    }
  }
  ${qr}
`;re`
  mutation UpdateQuantityStockStatus($id: ID!, $status: QuantityStockStatus!) {
    updateQuantityStockStatus(id: $id, status: $status) {
      ...QuantityStockFields
    }
  }
  ${qr}
`;re`
  mutation AdjustQuantityStock($id: ID!, $adjustmentQuantity: Int!, $notes: String) {
    adjustQuantityStock(id: $id, adjustmentQuantity: $adjustmentQuantity, notes: $notes) {
      ...QuantityStockFields
    }
  }
  ${qr}
`;const bD=re`
  mutation DeleteQuantityStock($id: ID!) {
    deleteQuantityStock(id: $id) {
      success
      message
    }
  }
`,vD={received:"success",cancelled:"error",in_transit:"warning",returned:"info"},jD=()=>{var U,w,_,N;const e=Xe(),[t,r]=v.useState(0),[s,i]=v.useState(10),[a,o]=v.useState({status:"",productName:""}),[l,c]=v.useState(!1),[u,d]=v.useState(null),[h,f]=v.useState({open:!1,message:"",severity:"success"}),{loading:p,error:g,data:m,refetch:x}=mr(xD,{variables:{pagination:{page:t+1,limit:s},filters:{status:a.status||void 0,productName:a.productName||void 0}},fetchPolicy:"network-only"}),[y]=Zt(bD,{onCompleted:()=>{f({open:!0,message:"Stock deleted successfully",severity:"success"}),x()},onError:A=>{f({open:!0,message:`Error deleting stock: ${A.message}`,severity:"error"})}}),b=(A,O)=>{r(O)},j=A=>{i(parseInt(A.target.value,10)),r(0)},P=A=>{o({...a,[A.target.name]:A.target.value})},C=()=>{r(0),x()},D=()=>{o({status:"",productName:""}),r(0),x()},T=A=>{d(A),c(!0)},I=()=>{c(!1),d(null)},M=()=>{u&&y({variables:{id:u.id}}),c(!1)},W=()=>{e("/feedback/quantity-stock/create")},z=A=>{e(`/feedback/quantity-stock/edit/${A}`)},L=()=>{f({...h,open:!1})};return n.jsxs(E,{sx:{p:3},children:[n.jsxs(E,{sx:{display:"flex",justifyContent:"space-between",mb:3},children:[n.jsx(S,{variant:"h4",component:"h1",gutterBottom:!0,children:"Quantity Stock Management"}),n.jsx(K,{variant:"contained",color:"primary",startIcon:n.jsx(or,{}),onClick:W,children:"Add New Stock"})]}),n.jsx(Me,{sx:{p:2,mb:3},children:n.jsxs(k,{container:!0,spacing:2,alignItems:"center",children:[n.jsx(k,{item:!0,xs:12,sm:4,children:n.jsx(H,{fullWidth:!0,label:"Product Name",name:"productName",value:a.productName,onChange:P,variant:"outlined",size:"small"})}),n.jsx(k,{item:!0,xs:12,sm:4,children:n.jsxs(Ge,{fullWidth:!0,size:"small",children:[n.jsx(Ke,{children:"Status"}),n.jsxs(Je,{name:"status",value:a.status,onChange:P,label:"Status",children:[n.jsx(V,{value:"",children:"All"}),n.jsx(V,{value:"received",children:"Received"}),n.jsx(V,{value:"cancelled",children:"Cancelled"}),n.jsx(V,{value:"in_transit",children:"In Transit"}),n.jsx(V,{value:"returned",children:"Returned"})]})]})}),n.jsx(k,{item:!0,xs:12,sm:4,children:n.jsxs(E,{sx:{display:"flex",gap:1},children:[n.jsx(K,{variant:"contained",color:"primary",startIcon:n.jsx(Mr,{}),onClick:C,children:"Search"}),n.jsx(K,{variant:"outlined",startIcon:n.jsx(hi,{}),onClick:D,children:"Reset"})]})})]})}),g&&n.jsxs(ge,{severity:"error",sx:{mb:3},children:["Error loading quantity stocks: ",g.message]}),n.jsxs(Me,{children:[n.jsx(Zr,{children:n.jsxs(Nt,{children:[n.jsx(_t,{children:n.jsxs(Ve,{children:[n.jsx(R,{children:"ID"}),n.jsx(R,{children:"Product Name"}),n.jsx(R,{align:"right",children:"Quantity"}),n.jsx(R,{align:"right",children:"Reorder Point"}),n.jsx(R,{children:"Status"}),n.jsx(R,{children:"Created At"}),n.jsx(R,{children:"Updated At"}),n.jsx(R,{align:"center",children:"Actions"})]})}),n.jsx(At,{children:p?n.jsx(Ve,{children:n.jsx(R,{colSpan:8,align:"center",children:"Loading..."})}):((w=(U=m==null?void 0:m.getAllQuantityStocks)==null?void 0:U.items)==null?void 0:w.length)===0?n.jsx(Ve,{children:n.jsx(R,{colSpan:8,align:"center",children:"No quantity stocks found"})}):(N=(_=m==null?void 0:m.getAllQuantityStocks)==null?void 0:_.items)==null?void 0:N.map(A=>n.jsxs(Ve,{children:[n.jsx(R,{children:A.id}),n.jsx(R,{children:A.productName}),n.jsx(R,{align:"right",children:A.quantity}),n.jsx(R,{align:"right",children:A.reorderPoint||"N/A"}),n.jsx(R,{children:n.jsx(We,{label:A.status.replace("_"," ").toUpperCase(),color:vD[A.status]||"default",size:"small"})}),n.jsx(R,{children:new Date(A.createdAt).toLocaleString()}),n.jsx(R,{children:new Date(A.updatedAt).toLocaleString()}),n.jsxs(R,{align:"center",children:[n.jsx(ie,{size:"small",color:"primary",onClick:()=>z(A.id),children:n.jsx(wt,{fontSize:"small"})}),n.jsx(ie,{size:"small",color:"error",onClick:()=>T(A),children:n.jsx(jt,{fontSize:"small"})})]})]},A.id))})]})}),(m==null?void 0:m.getAllQuantityStocks)&&n.jsx(dr,{rowsPerPageOptions:[5,10,25],component:"div",count:m.getAllQuantityStocks.totalCount,rowsPerPage:s,page:t,onPageChange:b,onRowsPerPageChange:j})]}),n.jsxs($t,{open:l,onClose:I,children:[n.jsx(Xt,{children:"Confirm Delete"}),n.jsx(Bt,{children:n.jsxs(Pn,{children:['Are you sure you want to delete the stock for "',u==null?void 0:u.productName,'"? This action cannot be undone.']})}),n.jsxs(Vt,{children:[n.jsx(K,{onClick:I,children:"Cancel"}),n.jsx(K,{onClick:M,color:"error",autoFocus:!0,children:"Delete"})]})]}),n.jsx(qd,{open:h.open,autoHideDuration:6e3,onClose:L,anchorOrigin:{vertical:"bottom",horizontal:"right"},children:n.jsx(ge,{onClose:L,severity:h.severity,sx:{width:"100%"},children:h.message})})]})},Rd=()=>{const{id:e}=Ht(),t=Xe(),r=!!e,[s,i]=v.useState({productName:"",quantity:0,reorderPoint:"",status:"received"}),[a,o]=v.useState({}),[l,c]=v.useState({open:!1,message:"",severity:"success"}),{loading:u,error:d,data:h}=mr(mD,{variables:{id:e},skip:!r,fetchPolicy:"network-only"}),{loading:f,data:p}=mr(am,{variables:{pagination:{page:1,limit:100},filters:{}}}),[g,{loading:m}]=Zt(gD,{onCompleted:()=>{c({open:!0,message:"Stock created successfully",severity:"success"}),setTimeout(()=>t("/feedback/quantity-stock"),2e3)},onError:T=>{c({open:!0,message:`Error creating stock: ${T.message}`,severity:"error"})}}),[x,{loading:y}]=Zt(yD,{onCompleted:()=>{c({open:!0,message:"Stock updated successfully",severity:"success"}),setTimeout(()=>t("/feedback/quantity-stock"),2e3)},onError:T=>{c({open:!0,message:`Error updating stock: ${T.message}`,severity:"error"})}});v.useEffect(()=>{if(r&&(h!=null&&h.getQuantityStockById)){const T=h.getQuantityStockById;i({productName:T.productName||"",quantity:T.quantity||0,reorderPoint:T.reorderPoint||"",status:T.status||"received"})}},[r,h]);const b=T=>{const{name:I,value:M}=T.target;i({...s,[I]:M}),a[I]&&o({...a,[I]:""})},j=()=>{const T={};return s.productName.trim()||(T.productName="Product name is required"),s.quantity===""||isNaN(s.quantity)?T.quantity="Quantity must be a number":parseInt(s.quantity)<0&&(T.quantity="Quantity cannot be negative"),s.reorderPoint!==""&&isNaN(s.reorderPoint)?T.reorderPoint="Reorder point must be a number":s.reorderPoint!==""&&parseInt(s.reorderPoint)<0&&(T.reorderPoint="Reorder point cannot be negative"),o(T),Object.keys(T).length===0},P=T=>{if(T.preventDefault(),!j())return;const I={productName:s.productName,quantity:parseInt(s.quantity),status:s.status};s.reorderPoint&&(I.reorderPoint=parseInt(s.reorderPoint)),r?x({variables:{id:e,quantity:parseInt(s.quantity),reorderPoint:s.reorderPoint?parseInt(s.reorderPoint):null,status:s.status}}):g({variables:{input:I}})},C=()=>{t("/feedback/quantity-stock")},D=()=>{c({...l,open:!1})};return r&&u?n.jsx(E,{sx:{display:"flex",justifyContent:"center",mt:4},children:n.jsx(je,{})}):r&&d?n.jsxs(ge,{severity:"error",sx:{mt:2},children:["Error loading stock data: ",d.message]}):n.jsxs(E,{sx:{p:3},children:[n.jsxs(E,{sx:{display:"flex",alignItems:"center",mb:3},children:[n.jsx(K,{startIcon:n.jsx(Lt,{}),onClick:C,sx:{mr:2},children:"Back"}),n.jsxs(S,{variant:"h4",component:"h1",children:[r?"Edit":"Create"," Quantity Stock"]})]}),n.jsx(Me,{sx:{p:3},children:n.jsx("form",{onSubmit:P,children:n.jsxs(k,{container:!0,spacing:3,children:[n.jsx(k,{item:!0,xs:12,md:6,children:n.jsx(H,{fullWidth:!0,label:"Product Name",name:"productName",value:s.productName,onChange:b,error:!!a.productName,helperText:a.productName,required:!0})}),n.jsx(k,{item:!0,xs:12,md:6,children:n.jsx(H,{fullWidth:!0,label:"Quantity",name:"quantity",type:"number",value:s.quantity,onChange:b,error:!!a.quantity,helperText:a.quantity,required:!0})}),n.jsx(k,{item:!0,xs:12,md:6,children:n.jsx(H,{fullWidth:!0,label:"Reorder Point",name:"reorderPoint",type:"number",value:s.reorderPoint,onChange:b,error:!!a.reorderPoint,helperText:a.reorderPoint||"Optional: Set a threshold for low stock alerts"})}),n.jsx(k,{item:!0,xs:12,md:6,children:n.jsxs(Ge,{fullWidth:!0,children:[n.jsx(Ke,{children:"Status"}),n.jsxs(Je,{name:"status",value:s.status,onChange:b,label:"Status",required:!0,children:[n.jsx(V,{value:"received",children:"Received"}),n.jsx(V,{value:"cancelled",children:"Cancelled"}),n.jsx(V,{value:"in_transit",children:"In Transit"}),n.jsx(V,{value:"returned",children:"Returned"})]})]})}),n.jsxs(k,{item:!0,xs:12,children:[n.jsx(qt,{sx:{my:2}}),n.jsxs(E,{sx:{display:"flex",justifyContent:"flex-end",gap:2},children:[n.jsx(K,{variant:"outlined",onClick:C,children:"Cancel"}),n.jsx(K,{type:"submit",variant:"contained",color:"primary",startIcon:n.jsx(ir,{}),disabled:m||y,children:m||y?n.jsx(je,{size:24}):r?"Update Stock":"Create Stock"})]})]})]})})}),n.jsx(qd,{open:l.open,autoHideDuration:6e3,onClose:D,anchorOrigin:{vertical:"bottom",horizontal:"right"},children:n.jsx(ge,{onClose:D,severity:l.severity,sx:{width:"100%"},children:l.message})})]})},wD=()=>{const{user:e,loading:t}=vi(),r=Xe();v.useEffect(()=>{!t&&(!e||e.role!=="admin")&&r("/")},[e,t,r]);const[s,i]=v.useState([]),[a,o]=v.useState(!1),[l,c]=v.useState(null),[u,d]=v.useState(!1),[h,f]=v.useState(!1),[p,g]=v.useState(null),[m,x]=v.useState("add"),[y,b]=v.useState({username:"",email:"",role:"",password:"",confirmPassword:""}),[j,P]=v.useState({}),[C,D]=v.useState({open:!1,severity:"",message:""}),T=[{id:"username",label:"Nama Pengguna"},{id:"email",label:"Email"},{id:"role",label:"Peran"},{id:"actions",label:"Aksi",align:"center",render:N=>n.jsxs(E,{children:[n.jsx(Ee,{title:"Edit Pengguna",children:n.jsx(ie,{color:"primary",onClick:()=>W(N),children:n.jsx(wt,{})})}),n.jsx(Ee,{title:"Hapus Pengguna",children:n.jsx(ie,{color:"error",onClick:()=>z(N),children:n.jsx(jt,{})})})]})}];v.useEffect(()=>{I()},[]);const I=async()=>{o(!0),c(null);try{await new Promise(N=>setTimeout(N,1e3)),i([{id:"1",username:"admin",email:"admin@example.com",role:"Admin"},{id:"2",username:"user1",email:"user1@example.com",role:"User"}]),o(!1)}catch{c("Gagal memuat pengguna."),o(!1),D({open:!0,severity:"error",message:"Gagal memuat pengguna."})}},M=()=>{x("add"),b({username:"",email:"",role:"",password:"",confirmPassword:""}),P({}),d(!0)},W=N=>{x("edit"),g(N),b({username:N.username,email:N.email,role:N.role,password:"",confirmPassword:""}),P({}),d(!0)},z=N=>{g(N),f(!0)},L=N=>{const{name:A,value:O}=N.target;b({...y,[A]:O}),j[A]&&P({...j,[A]:null})},U=()=>{let N={};return y.username||(N.username="Nama Pengguna wajib diisi."),y.email?/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/.test(y.email)||(N.email="Format email tidak valid."):N.email="Email wajib diisi.",y.role||(N.role="Peran wajib dipilih."),(m==="add"||m==="edit"&&y.password)&&(y.password||(N.password="Kata Sandi wajib diisi."),y.password.length<6&&(N.password="Kata Sandi minimal 6 karakter."),y.password!==y.confirmPassword&&(N.confirmPassword="Konfirmasi Kata Sandi tidak cocok.")),P(N),Object.keys(N).length===0},w=async()=>{if(U()){o(!0);try{await new Promise(N=>setTimeout(N,1e3)),m==="add"?(i([...s,{id:String(s.length+1),...y}]),D({open:!0,severity:"success",message:"Pengguna berhasil ditambahkan!"})):(i(s.map(N=>N.id===p.id?{...N,...y}:N)),D({open:!0,severity:"success",message:"Pengguna berhasil diperbarui!"})),d(!1),o(!1)}catch{D({open:!0,severity:"error",message:`Gagal ${m==="add"?"menambahkan":"memperbarui"} pengguna.`}),o(!1)}}},_=async()=>{o(!0);try{await new Promise(N=>setTimeout(N,1e3)),i(s.filter(N=>N.id!==p.id)),D({open:!0,severity:"success",message:"Pengguna berhasil dihapus!"}),f(!1),o(!1)}catch{D({open:!0,severity:"error",message:"Gagal menghapus pengguna."}),o(!1)}};return n.jsxs(E,{children:[n.jsx(Va,{title:"Manajemen Pengguna",subtitle:"Kelola pengguna sistem",actions:[n.jsx(K,{variant:"contained",color:"primary",startIcon:n.jsx(or,{}),onClick:M,children:"Tambah Pengguna"}),n.jsx(Ee,{title:"Refresh Data",children:n.jsx(ie,{onClick:I,disabled:a,children:a?n.jsx(je,{size:24}):n.jsx(hi,{})})})]}),n.jsx(sD,{open:C.open,severity:C.severity,message:C.message,onClose:()=>D({...C,open:!1})}),n.jsx(oD,{columns:T,data:s,loading:a,error:l,emptyMessage:"Tidak ada pengguna yang ditemukan."}),n.jsxs($t,{open:u,onClose:()=>d(!1),fullWidth:!0,maxWidth:"sm",children:[n.jsx(Xt,{children:m==="add"?"Tambah Pengguna Baru":"Edit Pengguna"}),n.jsxs(Bt,{children:[n.jsx(H,{autoFocus:!0,margin:"dense",name:"username",label:"Nama Pengguna",type:"text",fullWidth:!0,variant:"outlined",value:y.username,onChange:L,error:!!j.username,helperText:j.username,sx:{mb:2}}),n.jsx(H,{margin:"dense",name:"email",label:"Email",type:"email",fullWidth:!0,variant:"outlined",value:y.email,onChange:L,error:!!j.email,helperText:j.email,sx:{mb:2}}),n.jsxs(H,{margin:"dense",name:"role",label:"Peran",select:!0,fullWidth:!0,variant:"outlined",value:y.role,onChange:L,error:!!j.role,helperText:j.role,sx:{mb:2},children:[n.jsx(V,{value:"",children:"Pilih Peran"}),n.jsx(V,{value:"Admin",children:"Admin"}),n.jsx(V,{value:"User",children:"User"})]}),n.jsx(H,{margin:"dense",name:"password",label:"Kata Sandi",type:"password",fullWidth:!0,variant:"outlined",value:y.password,onChange:L,error:!!j.password,helperText:j.password,sx:{mb:2}}),n.jsx(H,{margin:"dense",name:"confirmPassword",label:"Konfirmasi Kata Sandi",type:"password",fullWidth:!0,variant:"outlined",value:y.confirmPassword,onChange:L,error:!!j.confirmPassword,helperText:j.confirmPassword,sx:{mb:2}})]}),n.jsxs(Vt,{children:[n.jsx(K,{onClick:()=>d(!1),color:"secondary",children:"Batal"}),n.jsx(K,{onClick:w,color:"primary",variant:"contained",disabled:a,children:a?n.jsx(je,{size:24}):m==="add"?"Tambah":"Simpan"})]})]}),n.jsx(iD,{open:h,onClose:()=>f(!1),onConfirm:_,title:"Hapus Pengguna",message:`Apakah Anda yakin ingin menghapus pengguna ${p==null?void 0:p.username}?`,confirmText:"Hapus",cancelText:"Batal",loading:a})]})},Or=re`
  fragment UserFields on User {
    id
    username
    email
    role
    fullName
    status
    lastLogin
    createdAt
    updatedAt
  }
`;re`
  fragment RoleFields on Role {
    id
    name
    description
    permissions
    createdAt
    updatedAt
  }
`;re`
  fragment PermissionFields on Permission {
    id
    name
    description
    resource
    action
    createdAt
    updatedAt
  }
`;const SD=re`
  mutation Login($username: String!, $password: String!) {
    login(username: $username, password: $password) {
      token
      user {
        ...UserFields
      }
    }
  }
  ${Or}
`,CD=re`
  mutation Register(
    $username: String!
    $email: String!
    $password: String!
    $fullName: String!
  ) {
    register(
      username: $username
      email: $email
      password: $password
      fullName: $fullName
    ) {
      token
      user {
        ...UserFields
      }
    }
  }
  ${Or}
`;re`
  query VerifyToken {
    verifyToken {
      valid
      user {
        ...UserFields
      }
    }
  }
  ${Or}
`;const om=re`
  mutation ChangePassword($currentPassword: String!, $newPassword: String!) {
    changePassword(
      currentPassword: $currentPassword
      newPassword: $newPassword
    ) {
      success
      message
    }
  }
`;re`
  mutation RequestPasswordReset($email: String!) {
    requestPasswordReset(email: $email) {
      success
      message
    }
  }
`;re`
  mutation ResetPassword($token: String!, $newPassword: String!) {
    resetPassword(token: $token, newPassword: $newPassword) {
      success
      message
    }
  }
`;re`
  query GetUsers($filter: UserFilterInput, $pagination: PaginationInput) {
    users(filter: $filter, pagination: $pagination) {
      items {
        ...UserFields
      }
      totalCount
      pageInfo {
        hasNextPage
        hasPreviousPage
      }
    }
  }
  ${Or}
`;re`
  query GetUser($id: ID!) {
    user(id: $id) {
      ...UserFields
      role
    }
  }
  ${Or}
`;const lm=re`
  query GetCurrentUser {
    currentUser {
      ...UserFields
      role
    }
  }
  ${Or}
`;re`
  query GetUsersSummary {
    usersSummary {
      total
      status {
        status
        count
        color
      }
      byRole {
        role
        count
      }
    }
  }
`;re`
  mutation CreateUser($input: CreateUserInput!) {
    createUser(input: $input) {
      ...UserFields
    }
  }
  ${Or}
`;re`
  mutation UpdateUser($id: ID!, $input: UpdateUserInput!) {
    updateUser(id: $id, input: $input) {
      ...UserFields
    }
  }
  ${Or}
`;re`
  mutation UpdateUserStatus($id: ID!, $status: UserStatus!) {
    updateUserStatus(id: $id, status: $status) {
      ...UserFields
    }
  }
  ${Or}
`;re`
  mutation DeleteUser($id: ID!) {
    deleteUser(id: $id) {
      success
      message
    }
  }
`;const cm=re`
  mutation UpdateProfile($id: ID!, $fullName: String, $email: String) {
    updateUser(id: $id, fullName: $fullName, email: $email) {
      ...UserFields
    }
  }
  ${Or}
`,Eo=Object.freeze(Object.defineProperty({__proto__:null,CHANGE_PASSWORD:om,GET_CURRENT_USER:lm,LOGIN:SD,REGISTER:CD,UPDATE_PROFILE:cm},Symbol.toStringTag,{value:"Module"}));function Nd(e){const{children:t,value:r,index:s,...i}=e;return n.jsx("div",{role:"tabpanel",hidden:r!==s,id:`profile-tabpanel-${s}`,"aria-labelledby":`profile-tab-${s}`,...i,children:r===s&&n.jsx(E,{sx:{py:3},children:t})})}const PD=()=>{const[e,t]=v.useState(0),[r,s]=v.useState(!1),[i,a]=v.useState({fullName:"",email:""}),[o,l]=v.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[c,u]=v.useState(!1),[d,h]=v.useState(!1),[f,p]=v.useState(!1),{loading:g,error:m,data:x,refetch:y}=mr(lm,{fetchPolicy:"cache-and-network",onCompleted:w=>{w&&w.currentUser&&a({fullName:w.currentUser.fullName||"",email:w.currentUser.email||""})}}),[b,{loading:j}]=Zt(cm,{onCompleted:()=>{De.success("Profile updated successfully"),s(!1),y()},onError:w=>{De.error(`Failed to update profile: ${w.message}`)}}),[P,{loading:C}]=Zt(om,{onCompleted:()=>{De.success("Password changed successfully"),l({currentPassword:"",newPassword:"",confirmPassword:""})},onError:w=>{De.error(`Failed to change password: ${w.message}`)}}),D=(w,_)=>{t(_)},T=w=>{const{name:_,value:N}=w.target;a({...i,[_]:N})},I=w=>{const{name:_,value:N}=w.target;l({...o,[_]:N})},M=()=>{r&&x&&x.currentUser&&a({fullName:x.currentUser.fullName||"",email:x.currentUser.email||""}),s(!r)},W=()=>{b({variables:{id:x.currentUser.id,fullName:i.fullName||null,email:i.email||null}})},z=()=>{if(o.newPassword!==o.confirmPassword){De.error("New passwords do not match");return}P({variables:{currentPassword:o.currentPassword,newPassword:o.newPassword}})},L=()=>{if(!x||!x.currentUser)return"?";const w=x.currentUser.fullName||"";if(!w)return x.currentUser.username.charAt(0).toUpperCase();const _=w.split(" ");return _.length>1?`${_[0].charAt(0)}${_[_.length-1].charAt(0)}`.toUpperCase():w?w.charAt(0).toUpperCase():"?"},U=()=>{if(!x||!x.currentUser)return"User";const w=x.currentUser.fullName||"";return w||x.currentUser.username};return n.jsxs(E,{sx:{width:"100%",maxWidth:1200,mx:"auto",p:{xs:2,sm:3},overflow:"hidden"},children:[g&&!x&&n.jsx(E,{sx:{display:"flex",justifyContent:"center",my:4},children:n.jsx(je,{size:60,thickness:4})}),m&&n.jsx(be,{in:!!m,children:n.jsxs(ge,{severity:"error",sx:{mb:3,borderRadius:2},children:["Error loading user profile: ",m.message]})}),x&&x.currentUser&&n.jsxs(ze,{spacing:4,children:[n.jsx(He,{in:!0,timeout:600,children:n.jsx(Me,{sx:{p:{xs:3,sm:4},background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",position:"relative",overflow:"hidden",width:"100%","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,background:"rgba(255,255,255,0.1)",backdropFilter:"blur(10px)"}},children:n.jsxs(k,{container:!0,spacing:3,alignItems:"center",sx:{position:"relative",zIndex:1},children:[n.jsx(k,{item:!0,children:n.jsx(Ce,{sx:{width:{xs:80,sm:100},height:{xs:80,sm:100},bgcolor:"rgba(255,255,255,0.2)",fontSize:{xs:"2rem",sm:"2.5rem"},fontWeight:600,border:"4px solid rgba(255,255,255,0.3)",boxShadow:"0 8px 32px rgba(0,0,0,0.1)"},children:L()})}),n.jsxs(k,{item:!0,xs:!0,children:[n.jsx(S,{variant:"h4",component:"h1",sx:{fontWeight:700,mb:1,fontSize:{xs:"1.75rem",sm:"2.125rem"}},children:U()}),n.jsx(S,{variant:"h6",sx:{opacity:.9,mb:2},children:x.currentUser.email}),n.jsxs(ze,{direction:{xs:"column",sm:"row"},spacing:2,children:[n.jsx(We,{label:x.currentUser.role.toUpperCase(),sx:{bgcolor:"rgba(255,255,255,0.2)",color:"white",fontWeight:600,"& .MuiChip-label":{px:2}}}),n.jsx(We,{label:x.currentUser.status==="ACTIVE"?"ACTIVE":"INACTIVE",sx:{bgcolor:x.currentUser.status==="ACTIVE"?"rgba(34, 197, 94, 0.8)":"rgba(239, 68, 68, 0.8)",color:"white",fontWeight:600,"& .MuiChip-label":{px:2}}})]})]}),n.jsx(k,{item:!0,xs:12,sm:"auto",children:n.jsx(K,{variant:r?"outlined":"contained",size:"large",startIcon:r?n.jsx(nc,{}):n.jsx(wt,{}),onClick:M,sx:{bgcolor:r?"transparent":"rgba(255,255,255,0.2)",color:"white",borderColor:"rgba(255,255,255,0.5)","&:hover":{bgcolor:r?"rgba(255,255,255,0.1)":"rgba(255,255,255,0.3)"},px:3,py:1.5,width:{xs:"100%",sm:"auto"}},children:r?"Cancel":"Edit Profile"})})]})})}),n.jsx(He,{in:!0,timeout:800,children:n.jsxs(Se,{sx:{overflow:"visible",width:"100%"},children:[n.jsx(E,{sx:{borderBottom:1,borderColor:"divider",px:3,pt:2},children:n.jsxs(Im,{value:e,onChange:D,"aria-label":"profile tabs",sx:{"& .MuiTab-root":{minHeight:64,fontWeight:500,fontSize:"1rem"},"& .MuiTabs-indicator":{height:3,borderRadius:2}},children:[n.jsx(Tc,{label:"Profile Information",icon:n.jsx(cs,{}),iconPosition:"start",sx:{mr:2}}),n.jsx(Tc,{label:"Security Settings",icon:n.jsx(Fi,{}),iconPosition:"start"})]})}),n.jsx(Nd,{value:e,index:0,children:n.jsxs(ve,{sx:{p:4},children:[n.jsx(S,{variant:"h6",sx:{mb:3,color:"text.primary",fontWeight:600},children:"Personal Information"}),n.jsxs(k,{container:!0,spacing:3,children:[n.jsx(k,{item:!0,xs:12,md:6,children:n.jsx(H,{fullWidth:!0,label:"Full Name",name:"fullName",value:i.fullName,onChange:T,disabled:!r,variant:"outlined",InputProps:{startAdornment:n.jsx(Fe,{position:"start",children:n.jsx(cs,{color:"action"})})},sx:{"& .MuiOutlinedInput-root":{"&.Mui-disabled":{backgroundColor:"grey.50"}}}})}),n.jsx(k,{item:!0,xs:12,md:6,children:n.jsx(H,{fullWidth:!0,label:"Email Address",name:"email",type:"email",value:i.email,onChange:T,disabled:!r,variant:"outlined",InputProps:{startAdornment:n.jsx(Fe,{position:"start",children:n.jsx(ic,{color:"action"})})},sx:{"& .MuiOutlinedInput-root":{backgroundColor:"grey.50"}}})}),n.jsx(k,{item:!0,xs:12,md:6,children:n.jsx(H,{fullWidth:!0,label:"Role",name:"role",value:x.currentUser.role.toUpperCase(),disabled:!0,variant:"outlined",InputProps:{startAdornment:n.jsx(Fe,{position:"start",children:n.jsx(Yb,{color:"action"})})},sx:{"& .MuiOutlinedInput-root":{backgroundColor:"grey.50"}}})}),n.jsx(k,{item:!0,xs:12,md:6,children:n.jsx(H,{fullWidth:!0,label:"Account Status",name:"status",value:x.currentUser.status==="ACTIVE"?"Active":"Inactive",disabled:!0,variant:"outlined",InputProps:{startAdornment:n.jsx(Fe,{position:"start",children:n.jsx(av,{color:"action"})})},sx:{"& .MuiOutlinedInput-root":{backgroundColor:"grey.50"}}})}),r&&n.jsx(k,{item:!0,xs:12,children:n.jsx(E,{sx:{display:"flex",gap:2,mt:2},children:n.jsx(K,{variant:"contained",size:"large",startIcon:n.jsx(ir,{}),onClick:W,disabled:j,sx:{px:4},children:j?n.jsx(je,{size:20,color:"inherit"}):"Save Changes"})})})]})]})}),n.jsx(Nd,{value:e,index:1,children:n.jsxs(ve,{sx:{p:4},children:[n.jsx(S,{variant:"h6",sx:{mb:3,color:"text.primary",fontWeight:600},children:"Change Password"}),n.jsxs(k,{container:!0,spacing:3,children:[n.jsx(k,{item:!0,xs:12,children:n.jsx(H,{fullWidth:!0,label:"Current Password",name:"currentPassword",type:c?"text":"password",value:o.currentPassword,onChange:I,InputProps:{startAdornment:n.jsx(Fe,{position:"start",children:n.jsx(Fi,{color:"action"})}),endAdornment:n.jsx(Fe,{position:"end",children:n.jsx(ie,{onClick:()=>u(!c),edge:"end",children:c?n.jsx(es,{}):n.jsx(Gt,{})})})}})}),n.jsx(k,{item:!0,xs:12,md:6,children:n.jsx(H,{fullWidth:!0,label:"New Password",name:"newPassword",type:d?"text":"password",value:o.newPassword,onChange:I,InputProps:{startAdornment:n.jsx(Fe,{position:"start",children:n.jsx(Fi,{color:"action"})}),endAdornment:n.jsx(Fe,{position:"end",children:n.jsx(ie,{onClick:()=>h(!d),edge:"end",children:d?n.jsx(es,{}):n.jsx(Gt,{})})})}})}),n.jsx(k,{item:!0,xs:12,md:6,children:n.jsx(H,{fullWidth:!0,label:"Confirm New Password",name:"confirmPassword",type:f?"text":"password",value:o.confirmPassword,onChange:I,InputProps:{startAdornment:n.jsx(Fe,{position:"start",children:n.jsx(Fi,{color:"action"})}),endAdornment:n.jsx(Fe,{position:"end",children:n.jsx(ie,{onClick:()=>p(!f),edge:"end",children:f?n.jsx(es,{}):n.jsx(Gt,{})})})}})}),n.jsx(k,{item:!0,xs:12,children:n.jsx(K,{variant:"contained",size:"large",startIcon:n.jsx(ir,{}),onClick:z,disabled:C,sx:{px:4},children:C?n.jsx(je,{size:20,color:"inherit"}):"Change Password"})})]})]})})]})})]})]})},kD=({children:e})=>{const{isAuthenticated:t,loading:r}=vi();return r?n.jsx(E,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:n.jsx(je,{})}):t?e:n.jsx(Xd,{to:"/login",replace:!0})};function DD(){return n.jsx(Tf,{children:n.jsx(E,{sx:{display:"flex",flexDirection:"column",minHeight:"100vh"},children:n.jsxs(Tx,{children:[n.jsxs(_e,{element:n.jsx(fv,{}),children:[n.jsx(_e,{path:"/login",element:n.jsx(pv,{})}),n.jsx(_e,{path:"/register",element:n.jsx(mv,{})})]}),n.jsxs(_e,{element:n.jsx(kD,{children:n.jsx(hv,{})}),children:[n.jsx(_e,{path:"/",element:n.jsx(xv,{})}),n.jsx(_e,{path:"/machines",element:n.jsx(Hj,{})}),n.jsx(_e,{path:"/machines/add",element:n.jsx(ld,{})}),n.jsx(_e,{path:"/machines/:id",element:n.jsx(Gj,{})}),n.jsx(_e,{path:"/machines/:id/edit",element:n.jsx(ld,{})}),n.jsx(_e,{path:"/queue",element:n.jsx(Kj,{})}),n.jsx(_e,{path:"/queue/add",element:n.jsx(od,{})}),n.jsx(_e,{path:"/queue/:id/edit",element:n.jsx(od,{})}),n.jsx(_e,{path:"/production-requests/add",element:n.jsx(ud,{})}),n.jsx(_e,{path:"/production-requests/:id/edit",element:n.jsx(ud,{})}),n.jsx(_e,{path:"/production-requests/:id",element:n.jsx(Xj,{})}),n.jsx(_e,{path:"/production-requests",element:n.jsx(Jj,{})}),n.jsx(_e,{path:"/production-batches",element:n.jsx(Zj,{})}),n.jsx(_e,{path:"/production-batches/add",element:n.jsx(cd,{})}),n.jsx(_e,{path:"/production-batches/:id",element:n.jsx(s1,{})}),n.jsx(_e,{path:"/production-batches/:id/edit",element:n.jsx(cd,{})}),n.jsx(_e,{path:"/materials",element:n.jsx(i1,{})}),n.jsx(_e,{path:"/materials/new",element:n.jsx(d1,{})}),n.jsx(_e,{path:"/materials/purchase",element:n.jsx(m1,{})}),n.jsx(_e,{path:"/materials/:id",element:n.jsx(a1,{})}),n.jsx(_e,{path:"/materials/:id/edit",element:n.jsx(h1,{})}),n.jsx(_e,{path:"/suppliers",element:n.jsx(o1,{})}),n.jsx(_e,{path:"/suppliers/new",element:n.jsx(f1,{})}),n.jsx(_e,{path:"/suppliers/:id",element:n.jsx(l1,{})}),n.jsx(_e,{path:"/suppliers/:id/edit",element:n.jsx(p1,{})}),n.jsx(_e,{path:"/transactions",element:n.jsx(c1,{})}),n.jsx(_e,{path:"/production-plans",element:n.jsx(cS,{})}),n.jsx(_e,{path:"/production-plans/create",element:n.jsx(Md,{})}),n.jsx(_e,{path:"/production-plans/:id",element:n.jsx(dS,{})}),n.jsx(_e,{path:"/production-plans/:id/edit",element:n.jsx(Md,{})}),n.jsx(_e,{path:"/feedback",element:n.jsx(fD,{})}),n.jsx(_e,{path:"/feedback/create",element:n.jsx(uD,{})}),n.jsx(_e,{path:"/feedback/edit/:id",element:n.jsx(pD,{})}),n.jsx(_e,{path:"/feedback/quantity-stock",element:n.jsx(jD,{})}),n.jsx(_e,{path:"/feedback/quantity-stock/create",element:n.jsx(Rd,{})}),n.jsx(_e,{path:"/feedback/quantity-stock/edit/:id",element:n.jsx(Rd,{})}),n.jsx(_e,{path:"/users",element:n.jsx(wD,{})}),n.jsx(_e,{path:"/profile",element:n.jsx(PD,{})})]}),n.jsx(_e,{path:"*",element:n.jsx(Xd,{to:"/"})})]})})})}const ID=Em({palette:{primary:{main:"#2563eb",light:"#60a5fa",dark:"#1d4ed8",contrastText:"#ffffff"},secondary:{main:"#7c3aed",light:"#a78bfa",dark:"#5b21b6",contrastText:"#ffffff"},success:{main:"#059669",light:"#34d399",dark:"#047857"},error:{main:"#dc2626",light:"#f87171",dark:"#b91c1c"},warning:{main:"#d97706",light:"#fbbf24",dark:"#b45309"},info:{main:"#0891b2",light:"#22d3ee",dark:"#0e7490"},background:{default:"#f8fafc",paper:"#ffffff"},grey:{50:"#f9fafb",100:"#f3f4f6",200:"#e5e7eb",300:"#d1d5db",400:"#9ca3af",500:"#6b7280",600:"#4b5563",700:"#374151",800:"#1f2937",900:"#111827"},text:{primary:"#111827",secondary:"#6b7280",disabled:"#9ca3af"}},typography:{fontFamily:'"Inter", "SF Pro Display", "Roboto", "Helvetica", "Arial", sans-serif',h1:{fontSize:"2.75rem",fontWeight:700,lineHeight:1.2,letterSpacing:"-0.025em"},h2:{fontSize:"2.25rem",fontWeight:600,lineHeight:1.3,letterSpacing:"-0.025em"},h3:{fontSize:"1.875rem",fontWeight:600,lineHeight:1.4},h4:{fontSize:"1.5rem",fontWeight:600,lineHeight:1.4},h5:{fontSize:"1.25rem",fontWeight:600,lineHeight:1.5},h6:{fontSize:"1rem",fontWeight:600,lineHeight:1.5},subtitle1:{fontSize:"1rem",fontWeight:500,lineHeight:1.5},subtitle2:{fontSize:"0.875rem",fontWeight:500,lineHeight:1.5},body1:{fontSize:"1rem",fontWeight:400,lineHeight:1.6},body2:{fontSize:"0.875rem",fontWeight:400,lineHeight:1.6},button:{fontSize:"0.875rem",fontWeight:500,textTransform:"none",letterSpacing:"0.01em"},caption:{fontSize:"0.75rem",fontWeight:400,lineHeight:1.4}},shape:{borderRadius:12},shadows:["none","0 1px 2px 0 rgba(0, 0, 0, 0.05)","0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)","0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)","0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)","0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)","0 25px 50px -12px rgba(0, 0, 0, 0.25)","0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12)","0 3px 5px -1px rgba(0, 0, 0, 0.2), 0 5px 8px 0 rgba(0, 0, 0, 0.14), 0 1px 14px 0 rgba(0, 0, 0, 0.12)","0 3px 5px -1px rgba(0, 0, 0, 0.2), 0 6px 10px 0 rgba(0, 0, 0, 0.14), 0 1px 18px 0 rgba(0, 0, 0, 0.12)","0 4px 5px -2px rgba(0, 0, 0, 0.2), 0 7px 10px 1px rgba(0, 0, 0, 0.14), 0 2px 16px 1px rgba(0, 0, 0, 0.12)","0 5px 5px -3px rgba(0, 0, 0, 0.2), 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12)","0 5px 6px -3px rgba(0, 0, 0, 0.2), 0 9px 12px 1px rgba(0, 0, 0, 0.14), 0 3px 16px 2px rgba(0, 0, 0, 0.12)","0 6px 6px -3px rgba(0, 0, 0, 0.2), 0 10px 14px 1px rgba(0, 0, 0, 0.14), 0 4px 18px 3px rgba(0, 0, 0, 0.12)","0 6px 7px -4px rgba(0, 0, 0, 0.2), 0 11px 15px 1px rgba(0, 0, 0, 0.14), 0 4px 20px 3px rgba(0, 0, 0, 0.12)","0 7px 8px -4px rgba(0, 0, 0, 0.2), 0 12px 17px 2px rgba(0, 0, 0, 0.14), 0 5px 22px 4px rgba(0, 0, 0, 0.12)","0 7px 8px -4px rgba(0, 0, 0, 0.2), 0 13px 19px 2px rgba(0, 0, 0, 0.14), 0 5px 24px 4px rgba(0, 0, 0, 0.12)","0 7px 9px -4px rgba(0, 0, 0, 0.2), 0 14px 21px 2px rgba(0, 0, 0, 0.14), 0 5px 26px 4px rgba(0, 0, 0, 0.12)","0 8px 9px -5px rgba(0, 0, 0, 0.2), 0 15px 22px 2px rgba(0, 0, 0, 0.14), 0 6px 28px 5px rgba(0, 0, 0, 0.12)","0 8px 10px -5px rgba(0, 0, 0, 0.2), 0 16px 24px 2px rgba(0, 0, 0, 0.14), 0 6px 30px 5px rgba(0, 0, 0, 0.12)","0 8px 11px -5px rgba(0, 0, 0, 0.2), 0 17px 26px 2px rgba(0, 0, 0, 0.14), 0 6px 32px 5px rgba(0, 0, 0, 0.12)","0 9px 11px -5px rgba(0, 0, 0, 0.2), 0 18px 28px 2px rgba(0, 0, 0, 0.14), 0 7px 34px 6px rgba(0, 0, 0, 0.12)","0 9px 12px -6px rgba(0, 0, 0, 0.2), 0 19px 29px 2px rgba(0, 0, 0, 0.14), 0 7px 36px 6px rgba(0, 0, 0, 0.12)","0 10px 13px -6px rgba(0, 0, 0, 0.2), 0 20px 31px 3px rgba(0, 0, 0, 0.14), 0 8px 38px 7px rgba(0, 0, 0, 0.12)","0 10px 13px -6px rgba(0, 0, 0, 0.2), 0 21px 33px 3px rgba(0, 0, 0, 0.14), 0 8px 40px 7px rgba(0, 0, 0, 0.12)"],components:{MuiButton:{styleOverrides:{root:{textTransform:"none",borderRadius:8,padding:"10px 20px",fontWeight:500,boxShadow:"none","&:hover":{boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}},contained:{"&:hover":{boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)"}}}},MuiCard:{styleOverrides:{root:{borderRadius:16,boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",transition:"all 0.2s ease-in-out","&:hover":{boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",transform:"translateY(-2px)"}}}},MuiPaper:{styleOverrides:{root:{borderRadius:16,boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)"},elevation1:{boxShadow:"0 1px 2px 0 rgba(0, 0, 0, 0.05)"},elevation2:{boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)"},elevation3:{boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}}},MuiChip:{styleOverrides:{root:{borderRadius:8,fontWeight:500}}},MuiTextField:{styleOverrides:{root:{"& .MuiOutlinedInput-root":{borderRadius:8}}}},MuiTableContainer:{styleOverrides:{root:{borderRadius:12,border:"1px solid #e5e7eb"}}},MuiTableHead:{styleOverrides:{root:{backgroundColor:"#f9fafb","& .MuiTableCell-head":{fontWeight:600,color:"#374151",borderBottom:"1px solid #e5e7eb"}}}}}});Fm.createRoot(document.getElementById("root")).render(n.jsx(nt.StrictMode,{children:n.jsx(Lx,{children:n.jsx(mb,{client:nm,children:n.jsxs(Tm,{theme:ID,children:[n.jsx(Mm,{}),n.jsxs(Tf,{children:[n.jsx(DD,{}),n.jsx(Ub,{position:"top-right",autoClose:5e3})]})]})})})}))});export default ED();
//# sourceMappingURL=index-BuIQtsrL.js.map
